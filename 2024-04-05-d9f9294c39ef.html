<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><link rel="manifest" href="/manifest.json"><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/CLlogo.jpg"><link rel="icon" href="/img/CLlogo.jpg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="Lei Qi"><meta name="keywords" content="golang python 算法 云计算 复旦大学 华为"><meta name="description" content="举个简单的例子：设计题 - 实现浏览器历史记录1.初始化 homepage 和历史记录容量2.浏览网页   和当前页相同，则直接返回 和当前页不同，如果容量满了，则删除最早的记录；清楚之前当前页的后边的历史记录，并把最新的当前页添加到最后。3.实现前进和后退功能123456789101112131415161718192021222324252627282930313233343536373839"><meta property="og:type" content="article"><meta property="og:title" content="设计题 总结"><meta property="og:url" content="https://leiqi.top/2024-04-05-d9f9294c39ef.html"><meta property="og:site_name" content="Lei Qi&#39;s Blog"><meta property="og:description" content="举个简单的例子：设计题 - 实现浏览器历史记录1.初始化 homepage 和历史记录容量2.浏览网页   和当前页相同，则直接返回 和当前页不同，如果容量满了，则删除最早的记录；清楚之前当前页的后边的历史记录，并把最新的当前页添加到最后。3.实现前进和后退功能123456789101112131415161718192021222324252627282930313233343536373839"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240405184827.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240405184932.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240406201421.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240406201959.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240406201929.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240406202142.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240406204841.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512220224.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512221227.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512221416.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512221549.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512221905.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512222106.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512222241.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512222402.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512222459.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512222605.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512222653.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512222738.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512222930.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512223036.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512223102.png"><meta property="og:image" content="https://leiqi.top/imgs/Pasted%20image%2020240512223239.png"><meta property="article:published_time" content="2024-04-05T17:21:04.000Z"><meta property="article:modified_time" content="2025-03-09T15:27:15.748Z"><meta property="article:author" content="Lei Qi"><meta property="article:tag" content="golang python 算法 云计算 复旦大学 华为"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://leiqi.top/imgs/Pasted%20image%2020240405184827.png"><meta name="referrer" content="no-referrer-when-downgrade"><link rel="manifest" href="/manifest.json"><script src="/sw-register.js"></script><title>设计题 总结 - Lei Qi&#39;s Blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var dntVal,Fluid=window.Fluid||{},CONFIG=(Fluid.ctx=Object.assign({},Fluid.ctx),{hostname:"leiqi.top",root:"/",version:"1.9.4",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:["home"]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"});CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 7.0.0-rc1"><link rel="alternate" href="/atom.xml" title="Lei Qi's Blog" type="application/atom+xml"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Lei Qi</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> <span>首页</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> <span>归档</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> <span>分类</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> <span>友链</span></a></li><li class="nav-item"><a class="nav-link" href="/atom.xml"><i class="iconfont icon-rss-fill"></i> <span>RSS</span></a></li><li class="nav-item"><a class="nav-link" href="/guestbook/"><i class="iconfont icon-archive-fill"></i> <span>留言板</span></a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> <span>关于</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/keyboard.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">设计题 总结</span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2024-04-06 01:21" pubdate>2024年4月6日 凌晨</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 28k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 232 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar category-bar" style="margin-right:-1rem"><div class="category-list"><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="C++" id="heading-f6f87c9fdcf8b3c3f07f93f1ee8712c9" role="tab" data-toggle="collapse" href="#collapse-f6f87c9fdcf8b3c3f07f93f1ee8712c9" aria-expanded="true">C++ <span class="list-group-count">(2)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-f6f87c9fdcf8b3c3f07f93f1ee8712c9" role="tabpanel" aria-labelledby="heading-f6f87c9fdcf8b3c3f07f93f1ee8712c9"><div class="category-post-list"><a href="/2023-09-13-476441b87811.html" title="C++ 结构化设计" class="list-group-item list-group-item-action"><span class="category-post">C++ 结构化设计</span> </a><a href="/2023-10-20-9599b5db4d91.html" title="leetcode 1726.同积元组" class="list-group-item list-group-item-action"><span class="category-post">leetcode 1726.同积元组</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="Docker" id="heading-c5fd214cdd0d2b3b4272e73b022ba5c2" role="tab" data-toggle="collapse" href="#collapse-c5fd214cdd0d2b3b4272e73b022ba5c2" aria-expanded="true">Docker <span class="list-group-count">(1)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-c5fd214cdd0d2b3b4272e73b022ba5c2" role="tabpanel" aria-labelledby="heading-c5fd214cdd0d2b3b4272e73b022ba5c2"><div class="category-post-list"><a href="/2024-08-11-a8e2c27fed87.html" title="docker容器打包成本地压缩镜像并load" class="list-group-item list-group-item-action"><span class="category-post">docker容器打包成本地压缩镜像并load</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="Golang" id="heading-eda14e187a768b38eda999457c9cca1e" role="tab" data-toggle="collapse" href="#collapse-eda14e187a768b38eda999457c9cca1e" aria-expanded="true">Golang <span class="list-group-count">(20)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-eda14e187a768b38eda999457c9cca1e" role="tabpanel" aria-labelledby="heading-eda14e187a768b38eda999457c9cca1e"><div class="category-post-list"><a href="/2023-10-05-9d3185fd2258.html" title="Go 中是否使用make创建slice的区别" class="list-group-item list-group-item-action"><span class="category-post">Go 中是否使用make创建slice的区别</span> </a><a href="/2024-12-03-3d026e7b5bec.html" title="Go 浮点数次方" class="list-group-item list-group-item-action"><span class="category-post">Go 浮点数次方</span> </a><a href="/2024-04-11-22166b2f52d0.html" title="Golang slice作为参数传递给函数需要使用指针" class="list-group-item list-group-item-action"><span class="category-post">Golang slice作为参数传递给函数需要使用指针</span> </a><a href="/2024-07-21-01f71b57e534.html" title="Golang 使用new创建slice" class="list-group-item list-group-item-action"><span class="category-post">Golang 使用new创建slice</span> </a><a href="/2023-05-11-257639a12a8e.html" title="Go语言-byte和rune 有什么区别 byte rune 转为int" class="list-group-item list-group-item-action"><span class="category-post">Go语言-byte和rune 有什么区别 byte rune 转为int</span> </a><a href="/2023-05-11-27c67ecef2a3.html" title="Go语言-copy" class="list-group-item list-group-item-action"><span class="category-post">Go语言-copy</span> </a><a href="/2023-04-20-af074e588287.html" title="Go语言-多态" class="list-group-item list-group-item-action"><span class="category-post">Go语言-多态</span> </a><a href="/2023-04-20-89710477a7ed.html" title="Go语言-接口" class="list-group-item list-group-item-action"><span class="category-post">Go语言-接口</span> </a><a href="/2023-05-10-741623f2e4fb.html" title="Go语言删除指定索引元素" class="list-group-item list-group-item-action"><span class="category-post">Go语言删除指定索引元素</span> </a><a href="/2023-05-10-5e3b5c8e7446.html" title="Go语言指定索引插入元素" class="list-group-item list-group-item-action"><span class="category-post">Go语言指定索引插入元素</span> </a><a href="/2024-05-07-c105be0dd846.html" title="goland中debug 无法显示全局变量解决" class="list-group-item list-group-item-action"><span class="category-post">goland中debug 无法显示全局变量解决</span> </a><a href="/2024-05-02-247b79126fb5.html" title="golang slice无法添加指针" class="list-group-item list-group-item-action"><span class="category-post">golang slice无法添加指针</span> </a><a href="/2024-05-03-ec16a5fd018e.html" title="golang 中格式化打印单个字符" class="list-group-item list-group-item-action"><span class="category-post">golang 中格式化打印单个字符</span> </a><a href="/2024-02-24-4fbd7a88bf6f.html" title="golang 修改函数传入参数切片需要指针" class="list-group-item list-group-item-action"><span class="category-post">golang 修改函数传入参数切片需要指针</span> </a><a href="/2023-05-25-2cbe3a05ec00.html" title="go语言-回调函数（钩子）" class="list-group-item list-group-item-action"><span class="category-post">go语言-回调函数（钩子）</span> </a><a href="/2023-06-08-3d1c210a715f.html" title="什么是二进制的按位或和按位异或" class="list-group-item list-group-item-action"><span class="category-post">什么是二进制的按位或和按位异或</span> </a><a href="/2024-07-21-618c8c29b962.html" title="依赖注入" class="list-group-item list-group-item-action"><span class="category-post">依赖注入</span> </a><a href="/2024-07-21-023e6a227482.html" title="回调函数和直接调用的区别" class="list-group-item list-group-item-action"><span class="category-post">回调函数和直接调用的区别</span> </a><a href="/2024-05-08-23291165e2d9.html" title="如何使用递归" class="list-group-item list-group-item-action"><span class="category-post">如何使用递归</span> </a><a href="/2023-05-10-7dfabb45bbc2.html" title="结构体指针作为map key 结构体值改变对map有影响吗" class="list-group-item list-group-item-action"><span class="category-post">结构体指针作为map key 结构体值改变对map有影响吗</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="Linux" id="heading-edc9f0a5a5d57797bf68e37364743831" role="tab" data-toggle="collapse" href="#collapse-edc9f0a5a5d57797bf68e37364743831" aria-expanded="true">Linux <span class="list-group-count">(3)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-edc9f0a5a5d57797bf68e37364743831" role="tabpanel" aria-labelledby="heading-edc9f0a5a5d57797bf68e37364743831"><div class="category-post-list"><a href="/2023-03-18-87649bcaf9cc.html" title="Linux 命令 将前台任务挂到后台运行" class="list-group-item list-group-item-action"><span class="category-post">Linux 命令 将前台任务挂到后台运行</span> </a><a href="/2023-09-17-5141f57450ab.html" title="Linux 将用户追加到对应用户组" class="list-group-item list-group-item-action"><span class="category-post">Linux 将用户追加到对应用户组</span> </a><a href="/2025-01-13-1b5c01477594.html" title="【sed】快速替换当前文件夹下文件中指定内容" class="list-group-item list-group-item-action"><span class="category-post">【sed】快速替换当前文件夹下文件中指定内容</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="Python" id="heading-a7f5f35426b927411fc9231b56382173" role="tab" data-toggle="collapse" href="#collapse-a7f5f35426b927411fc9231b56382173" aria-expanded="true">Python <span class="list-group-count">(3)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-a7f5f35426b927411fc9231b56382173" role="tabpanel" aria-labelledby="heading-a7f5f35426b927411fc9231b56382173"><div class="category-post-list"><a href="/2024-06-21-02cd02e81f22.html" title="jupyter" class="list-group-item list-group-item-action"><span class="category-post">jupyter</span> </a><a href="/2023-10-19-8f51ae9ef5a1.html" title="三种Python3 判断字典中是否存在对应key的方法" class="list-group-item list-group-item-action"><span class="category-post">三种Python3 判断字典中是否存在对应key的方法</span> </a><a href="/2023-10-19-6057db0e071e.html" title="本地运行LeetCode的Python代码 调试" class="list-group-item list-group-item-action"><span class="category-post">本地运行LeetCode的Python代码 调试</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="PythonCrashCourse" id="heading-d6525b4dbe879413c7f2b996ed4ca58a" role="tab" data-toggle="collapse" href="#collapse-d6525b4dbe879413c7f2b996ed4ca58a" aria-expanded="true">PythonCrashCourse <span class="list-group-count">(0)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-d6525b4dbe879413c7f2b996ed4ca58a" role="tabpanel" aria-labelledby="heading-d6525b4dbe879413c7f2b996ed4ca58a"><div class="category-post-list"></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="git" id="heading-ba9f11ecc3497d9993b933fdc2bd61e5" role="tab" data-toggle="collapse" href="#collapse-ba9f11ecc3497d9993b933fdc2bd61e5" aria-expanded="true">git <span class="list-group-count">(6)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-ba9f11ecc3497d9993b933fdc2bd61e5" role="tabpanel" aria-labelledby="heading-ba9f11ecc3497d9993b933fdc2bd61e5"><div class="category-post-list"><a href="/2024-08-21-f4ccab39149e.html" title="git stash" class="list-group-item list-group-item-action"><span class="category-post">git stash</span> </a><a href="/2024-01-01-91517aa963bc.html" title="git 设置免密配置-全局免密-单仓库免密-SSH免密" class="list-group-item list-group-item-action"><span class="category-post">git 设置免密配置-全局免密-单仓库免密-SSH免密</span> </a><a href="/2024-07-18-e17dac938cf8.html" title="github同步gitee" class="list-group-item list-group-item-action"><span class="category-post">github同步gitee</span> </a><a href="/2023-10-22-9bf76366f18c.html" title="git强制拉取远端" class="list-group-item list-group-item-action"><span class="category-post">git强制拉取远端</span> </a><a href="/2024-07-23-764a3cd05cde.html" title="git更新仓库地址" class="list-group-item list-group-item-action"><span class="category-post">git更新仓库地址</span> </a><a href="/2024-07-21-3ee37da7ed1c.html" title="设置github 同步到gitee" class="list-group-item list-group-item-action"><span class="category-post">设置github 同步到gitee</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="carl" id="heading-a0df931e7a7f9b608c165504bde9b620" role="tab" data-toggle="collapse" href="#collapse-a0df931e7a7f9b608c165504bde9b620" aria-expanded="true">carl <span class="list-group-count">(0)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-a0df931e7a7f9b608c165504bde9b620" role="tabpanel" aria-labelledby="heading-a0df931e7a7f9b608c165504bde9b620"><div class="category-post-list"></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="labuladong速成记录" id="heading-adf06a03cf51e2450b9637a216331c66" role="tab" data-toggle="collapse" href="#collapse-adf06a03cf51e2450b9637a216331c66" aria-expanded="true">labuladong速成记录 <span class="list-group-count">(1)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-adf06a03cf51e2450b9637a216331c66" role="tabpanel" aria-labelledby="heading-adf06a03cf51e2450b9637a216331c66"><div class="category-post-list"><a href="/2025-03-06-948057216230.html" title="数据结构设计专题" class="list-group-item list-group-item-action"><span class="category-post">数据结构设计专题</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="关于我" id="heading-6483e31017cf298b516455ba75789e74" role="tab" data-toggle="collapse" href="#collapse-6483e31017cf298b516455ba75789e74" aria-expanded="true">关于我 <span class="list-group-count">(1)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-6483e31017cf298b516455ba75789e74" role="tabpanel" aria-labelledby="heading-6483e31017cf298b516455ba75789e74"><div class="category-post-list"><a href="/2023-03-13-519b5e93f019.html" title="关于我" class="list-group-item list-group-item-action"><span class="category-post">关于我</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="leetcode" id="heading-c305fb1df5f5fb79acafd8b0fa25b0b8" role="tab" data-toggle="collapse" href="#collapse-c305fb1df5f5fb79acafd8b0fa25b0b8" aria-expanded="true">leetcode <span class="list-group-count">(59)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-c305fb1df5f5fb79acafd8b0fa25b0b8" role="tabpanel" aria-labelledby="heading-c305fb1df5f5fb79acafd8b0fa25b0b8"><div class="category-post-list"><a href="/2023-07-09-dda1c4b9508f.html" title="Go语言中的byte类型与Unicode码点与整数的转换" class="list-group-item list-group-item-action"><span class="category-post">Go语言中的byte类型与Unicode码点与整数的转换</span> </a><a href="/2023-08-07-e74632bdccbf.html" title="LRU" class="list-group-item list-group-item-action"><span class="category-post">LRU</span> </a><a href="/2024-01-03-58e186a9065e.html" title="LeetCode 1071. 字符串的最大公因子" class="list-group-item list-group-item-action"><span class="category-post">LeetCode 1071. 字符串的最大公因子</span> </a><a href="/2023-03-28-c58b9cf85e3e.html" title="Leetcode 110.平衡二叉树" class="list-group-item list-group-item-action"><span class="category-post">Leetcode 110.平衡二叉树</span> </a><a href="/2023-10-16-66afbe22520d.html" title="Leetcode 136.只出现一次的数字" class="list-group-item list-group-item-action"><span class="category-post">Leetcode 136.只出现一次的数字</span> </a><a href="/2023-05-10-da8c57fb590a.html" title="Leetcode 200.岛屿数量" class="list-group-item list-group-item-action"><span class="category-post">Leetcode 200.岛屿数量</span> </a><a href="/2023-03-28-53b6b0695943.html" title="Leetcode 257.二叉树的所有路径" class="list-group-item list-group-item-action"><span class="category-post">Leetcode 257.二叉树的所有路径</span> </a><a href="/2023-03-29-c131676dd7b1.html" title="Leetcode 404.左叶子之和" class="list-group-item list-group-item-action"><span class="category-post">Leetcode 404.左叶子之和</span> </a><a href="/2023-04-03-03cca064ab00.html" title="Leetcode 513.找树左下角的值" class="list-group-item list-group-item-action"><span class="category-post">Leetcode 513.找树左下角的值</span> </a><a href="/2023-09-26-aeddfdb3bdac.html" title="Leetcode1603. 设计停车系统" class="list-group-item list-group-item-action"><span class="category-post">Leetcode1603. 设计停车系统</span> </a><a href="/2024-05-18-dfe0612e31db.html" title="go语言实现优先队列" class="list-group-item list-group-item-action"><span class="category-post">go语言实现优先队列</span> </a><a href="/2024-08-21-64c0a1f316e6.html" title="leetcode  1.两数之和" class="list-group-item list-group-item-action"><span class="category-post">leetcode 1.两数之和</span> </a><a href="/2023-05-23-a419f5d1c6af.html" title="leetcode 102. 二叉树的层序遍历" class="list-group-item list-group-item-action"><span class="category-post">leetcode 102. 二叉树的层序遍历</span> </a><a href="/2023-05-30-b1879d2b65d1.html" title="leetcode 104.二叉树的深度" class="list-group-item list-group-item-action"><span class="category-post">leetcode 104.二叉树的深度</span> </a><a href="/2023-05-04-ce9a22434c37.html" title="leetcode 108.将有序数组转换为二叉搜索树" class="list-group-item list-group-item-action"><span class="category-post">leetcode 108.将有序数组转换为二叉搜索树</span> </a><a href="/2023-05-26-5abcbf266873.html" title="leetcode 1091.二进制矩阵中的最短路径" class="list-group-item list-group-item-action"><span class="category-post">leetcode 1091.二进制矩阵中的最短路径</span> </a><a href="/2023-06-14-88f65f0a1bb7.html" title="leetcode 1170. 比较字符串最小字母出现频次" class="list-group-item list-group-item-action"><span class="category-post">leetcode 1170. 比较字符串最小字母出现频次</span> </a><a href="/2023-05-27-5cebfed1675b.html" title="leetcode 122买动态股票的最佳时机II" class="list-group-item list-group-item-action"><span class="category-post">leetcode 122买动态股票的最佳时机II</span> </a><a href="/2023-05-18-0a0f1bd6a4a5.html" title="leetcode 1396.设计地铁系统" class="list-group-item list-group-item-action"><span class="category-post">leetcode 1396.设计地铁系统</span> </a><a href="/2023-05-23-62bd8ef029a5.html" title="leetcode 144. 二叉树的前序遍历" class="list-group-item list-group-item-action"><span class="category-post">leetcode 144. 二叉树的前序遍历</span> </a><a href="/2023-10-12-cfa4d16bfad5.html" title="leetcode 155.最小栈" class="list-group-item list-group-item-action"><span class="category-post">leetcode 155.最小栈</span> </a><a href="/2023-10-06-c2afb6383992.html" title="leetcode 1845. 座位预约管理系统" class="list-group-item list-group-item-action"><span class="category-post">leetcode 1845. 座位预约管理系统</span> </a><a href="/2023-05-22-97adde03f66a.html" title="leetcode 1845.座位预约管理系统" class="list-group-item list-group-item-action"><span class="category-post">leetcode 1845.座位预约管理系统</span> </a><a href="/2024-04-16-1150f59f3df6.html" title="leetcode 208. 实现 Trie (前缀树)" class="list-group-item list-group-item-action"><span class="category-post">leetcode 208. 实现 Trie (前缀树)</span> </a><a href="/2023-05-23-d59f64e0619b.html" title="leetcode 226. 翻转二叉树" class="list-group-item list-group-item-action"><span class="category-post">leetcode 226. 翻转二叉树</span> </a><a href="/2023-06-05-869070f8049d.html" title="leetcode 2460.对数组执行操作 2023.05.06每日一题" class="list-group-item list-group-item-action"><span class="category-post">leetcode 2460.对数组执行操作 2023.05.06每日一题</span> </a><a href="/2023-09-02-72954cc13c19.html" title="leetcode 2511 最多可以摧毁的敌人城堡数目" class="list-group-item list-group-item-action"><span class="category-post">leetcode 2511 最多可以摧毁的敌人城堡数目</span> </a><a href="/2023-09-07-b8c038c07b41.html" title="leetcode 2594修车的最少时间" class="list-group-item list-group-item-action"><span class="category-post">leetcode 2594修车的最少时间</span> </a><a href="/2023-05-31-396a1cd3c61e.html" title="leetcode 28.找出字符串中第一个匹配项的下标" class="list-group-item list-group-item-action"><span class="category-post">leetcode 28.找出字符串中第一个匹配项的下标</span> </a><a href="/2024-05-10-b1491b9671d6.html" title="leetcode 355设计推特" class="list-group-item list-group-item-action"><span class="category-post">leetcode 355设计推特</span> </a><a href="/2023-05-23-7b5e53100757.html" title="leetcode 376.摆动序列" class="list-group-item list-group-item-action"><span class="category-post">leetcode 376.摆动序列</span> </a><a href="/2024-01-23-1cb0809a7893.html" title="leetcode 406. 根据身高重建队列【贪心】" class="list-group-item list-group-item-action"><span class="category-post">leetcode 406. 根据身高重建队列【贪心】</span> </a><a href="/2023-05-21-c1aa51f444e0.html" title="leetcode 455.分发饼干" class="list-group-item list-group-item-action"><span class="category-post">leetcode 455.分发饼干</span> </a><a href="/2023-05-25-8fc7b96cd054.html" title="leetcode 53.最大子数和" class="list-group-item list-group-item-action"><span class="category-post">leetcode 53.最大子数和</span> </a><a href="/2023-05-20-e3f31d125f9b.html" title="leetcode 706. 设计哈希映射 Golang" class="list-group-item list-group-item-action"><span class="category-post">leetcode 706. 设计哈希映射 Golang</span> </a><a href="/2024-01-23-183e0ff5f5ef.html" title="leetcode 77.组合【回溯】" class="list-group-item list-group-item-action"><span class="category-post">leetcode 77.组合【回溯】</span> </a><a href="/2024-01-22-f8790b7ced8e.html" title="leetcode 94.二叉树的中序遍历" class="list-group-item list-group-item-action"><span class="category-post">leetcode 94.二叉树的中序遍历</span> </a><a href="/2024-02-24-dd95d981cb94.html" title="leetcode 单调栈" class="list-group-item list-group-item-action"><span class="category-post">leetcode 单调栈</span> </a><a href="/2024-03-23-84678021105b.html" title="leetcode 双指针" class="list-group-item list-group-item-action"><span class="category-post">leetcode 双指针</span> </a><a href="/2023-07-29-4df215f63090.html" title="leetcode 最大深度和最小深度" class="list-group-item list-group-item-action"><span class="category-post">leetcode 最大深度和最小深度</span> </a><a href="/2024-05-20-1fbf9ee2486f.html" title="leetcode 每日温度 单调栈" class="list-group-item list-group-item-action"><span class="category-post">leetcode 每日温度 单调栈</span> </a><a href="/2023-05-14-776ea61b62a5.html" title="leetcode 设计题 Constructor构建" class="list-group-item list-group-item-action"><span class="category-post">leetcode 设计题 Constructor构建</span> </a><a href="/2023-05-19-2fa443568cc1.html" title="leetcode　705. 设计哈希集合" class="list-group-item list-group-item-action"><span class="category-post">leetcode　705. 设计哈希集合</span> </a><a href="/2024-01-06-2b3ad028343c.html" title="【20240106】leetcode 2807. 在链表中插入最大公约数" class="list-group-item list-group-item-action"><span class="category-post">【20240106】leetcode 2807. 在链表中插入最大公约数</span> </a><a href="/2024-01-14-e61755fec3db.html" title="【20240114】LeetCode 83. 删除排序链表中的重复元素" class="list-group-item list-group-item-action"><span class="category-post">【20240114】LeetCode 83. 删除排序链表中的重复元素</span> </a><a href="/2024-01-22-759654485d5d.html" title="【BFS DFS通用模板】" class="list-group-item list-group-item-action"><span class="category-post">【BFS DFS通用模板】</span> </a><a href="/2024-11-23-ff51ba651704.html" title="【Golang】 byte和rune 有什么区别" class="list-group-item list-group-item-action"><span class="category-post">【Golang】 byte和rune 有什么区别</span> </a><a href="/2024-12-03-90d19c862e9c.html" title="【Golang】for range 数组指针遍历" class="list-group-item list-group-item-action"><span class="category-post">【Golang】for range 数组指针遍历</span> </a><a href="/2024-01-22-93119ce81a1c.html" title="【go】初始化双向列表List" class="list-group-item list-group-item-action"><span class="category-post">【go】初始化双向列表List</span> </a><a href="/2024-11-23-cf0eba4d8369.html" title="【刨根问底】为什么Itoa代表整型转化为字符串，为什么不是ItoSting" class="list-group-item list-group-item-action"><span class="category-post">【刨根问底】为什么Itoa代表整型转化为字符串，为什么不是ItoSting</span> </a><a href="/2024-11-23-b80d94088ccd.html" title="【刨根问底】创建slice是否填第二个参数0的区别" class="list-group-item list-group-item-action"><span class="category-post">【刨根问底】创建slice是否填第二个参数0的区别</span> </a><a href="/2024-11-24-24291296f81a.html" title="【基础知识】Golang  sort.Slice 复杂排序" class="list-group-item list-group-item-action"><span class="category-post">【基础知识】Golang sort.Slice 复杂排序</span> </a><a href="/2024-11-23-dce4118b03a7.html" title="【基础知识】符号整数和非符号整数" class="list-group-item list-group-item-action"><span class="category-post">【基础知识】符号整数和非符号整数</span> </a><a href="/2023-10-09-5ecfb18fa495.html" title="使用 Go 的 container list 包：双向链表的便捷工具" class="list-group-item list-group-item-action"><span class="category-post">使用 Go 的 container list 包：双向链表的便捷工具</span> </a><a href="/2023-10-19-86483682723b.html" title="数据结构和操作的对比：Python vs. Go vs. C++" class="list-group-item list-group-item-action"><span class="category-post">数据结构和操作的对比：Python vs. Go vs. C++</span> </a><a href="/2023-06-22-079d0af75447.html" title="数组双指针刷题总结" class="list-group-item list-group-item-action"><span class="category-post">数组双指针刷题总结</span> </a><a href="/2024-04-05-d9f9294c39ef.html" title="设计题 总结" class="list-group-item list-group-item-action"><span class="category-post">设计题 总结</span> </a><a href="/2024-05-08-9a58f8b87168.html" title="设计题思考" class="list-group-item list-group-item-action"><span class="category-post">设计题思考</span> </a><a href="/2023-06-24-42b41b131ba0.html" title="链表总结" class="list-group-item list-group-item-action"><span class="category-post">链表总结</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="前端" id="heading-9abfe4a03928eb88a75a5cd95822dfef" role="tab" data-toggle="collapse" href="#collapse-9abfe4a03928eb88a75a5cd95822dfef" aria-expanded="true">前端 <span class="list-group-count">(1)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-9abfe4a03928eb88a75a5cd95822dfef" role="tabpanel" aria-labelledby="heading-9abfe4a03928eb88a75a5cd95822dfef"><div class="category-post-list"><a href="/2024-09-01-ed1bf9078b39.html" title="申请域名绑定github pages" class="list-group-item list-group-item-action"><span class="category-post">申请域名绑定github pages</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="摄影" id="heading-4c8bd0af0f9066cceea349b796d13d9a" role="tab" data-toggle="collapse" href="#collapse-4c8bd0af0f9066cceea349b796d13d9a" aria-expanded="true">摄影 <span class="list-group-count">(1)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-4c8bd0af0f9066cceea349b796d13d9a" role="tabpanel" aria-labelledby="heading-4c8bd0af0f9066cceea349b796d13d9a"><div class="category-post-list"><a href="/2023-04-08-722322c4ddc3.html" title="波纹" class="list-group-item list-group-item-action"><span class="category-post">波纹</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="工具" id="heading-20dce2c6fa909a5cd62526615fe2788a" role="tab" data-toggle="collapse" href="#collapse-20dce2c6fa909a5cd62526615fe2788a" aria-expanded="true">工具 <span class="list-group-count">(17)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-20dce2c6fa909a5cd62526615fe2788a" role="tabpanel" aria-labelledby="heading-20dce2c6fa909a5cd62526615fe2788a"><div class="category-post-list"><a href="/2023-10-05-7527c8e47a8b.html" title="JetBrians 全家桶设置文件header" class="list-group-item list-group-item-action"><span class="category-post">JetBrians 全家桶设置文件header</span> </a><a href="/2023-09-24-4fe5badbd053.html" title="Linux非root用户通过X11运行图形界面程序-以Rstudio为例" class="list-group-item list-group-item-action"><span class="category-post">Linux非root用户通过X11运行图形界面程序-以Rstudio为例</span> </a><a href="/2023-12-30-3a73bdfdd568.html" title="WPS设置打开文件自动同步云文档" class="list-group-item list-group-item-action"><span class="category-post">WPS设置打开文件自动同步云文档</span> </a><a href="/2023-12-30-397a0b919639.html" title="Windows设置Clion 下方Terminal为WSL linux 子系统" class="list-group-item list-group-item-action"><span class="category-post">Windows设置Clion 下方Terminal为WSL linux 子系统</span> </a><a href="/2023-09-12-b926f621cf15.html" title="clash在终端设置代理" class="list-group-item list-group-item-action"><span class="category-post">clash在终端设置代理</span> </a><a href="/2024-04-21-29ab33001840.html" title="ssh 隧道 端口转发" class="list-group-item list-group-item-action"><span class="category-post">ssh 隧道 端口转发</span> </a><a href="/2024-01-01-38178c63ba17.html" title="windows新增wsl bash here键快捷方式" class="list-group-item list-group-item-action"><span class="category-post">windows新增wsl bash here键快捷方式</span> </a><a href="/2024-01-14-2aaa71f8e7be.html" title="【Win】键盘下键坏了，使用组合键模拟下方向键" class="list-group-item list-group-item-action"><span class="category-post">【Win】键盘下键坏了，使用组合键模拟下方向键</span> </a><a href="/2025-01-13-facf42a009b6.html" title="【最强春节抢票攻略】火车票抢票攻略" class="list-group-item list-group-item-action"><span class="category-post">【最强春节抢票攻略】火车票抢票攻略</span> </a><a href="/2023-12-30-6a1e804ab992.html" title="免费使用Jetbrain 全家桶-服务器激活码激活软件" class="list-group-item list-group-item-action"><span class="category-post">免费使用Jetbrain 全家桶-服务器激活码激活软件</span> </a><a href="/2023-04-24-4faf63eb321c.html" title="删除ppt所有批注和备注" class="list-group-item list-group-item-action"><span class="category-post">删除ppt所有批注和备注</span> </a><a href="/2023-03-18-4e4b648f656d.html" title="博客设置 obsidian 上传图片" class="list-group-item list-group-item-action"><span class="category-post">博客设置 obsidian 上传图片</span> </a><a href="/2024-08-07-117ef9b8f4c6.html" title="开机自启WSL" class="list-group-item list-group-item-action"><span class="category-post">开机自启WSL</span> </a><a href="/2023-03-23-4868b6a1c39c.html" title="快来压缩你的博客图片" class="list-group-item list-group-item-action"><span class="category-post">快来压缩你的博客图片</span> </a><a href="/2024-08-08-efa703ec12d7.html" title="查询深度学习环境python torch cuda版本" class="list-group-item list-group-item-action"><span class="category-post">查询深度学习环境python torch cuda版本</span> </a><a href="/2023-03-23-49ace33ca004.html" title="给你的博客 安装上PWA吧" class="list-group-item list-group-item-action"><span class="category-post">给你的博客 安装上PWA吧</span> </a><a href="/2023-05-21-a827bdd2d159.html" title="网站无法访问categories？" class="list-group-item list-group-item-action"><span class="category-post">网站无法访问categories？</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="极客时间" id="heading-872036f8414b93ffa0faf984790e23cd" role="tab" data-toggle="collapse" href="#collapse-872036f8414b93ffa0faf984790e23cd" aria-expanded="true">极客时间 <span class="list-group-count">(0)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-872036f8414b93ffa0faf984790e23cd" role="tabpanel" aria-labelledby="heading-872036f8414b93ffa0faf984790e23cd"><div class="category-post-list"></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="架构" id="heading-0eaa6af97d68cc910c54feed58ad05dd" role="tab" data-toggle="collapse" href="#collapse-0eaa6af97d68cc910c54feed58ad05dd" aria-expanded="true">架构 <span class="list-group-count">(2)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-0eaa6af97d68cc910c54feed58ad05dd" role="tabpanel" aria-labelledby="heading-0eaa6af97d68cc910c54feed58ad05dd"><div class="category-post-list"><a href="/2025-02-19-d829d1f5a9ea.html" title="如何画好一个架构图" class="list-group-item list-group-item-action"><span class="category-post">如何画好一个架构图</span> </a><a href="/2025-02-19-05250c3f88f5.html" title="系统序列图 - 时序图" class="list-group-item list-group-item-action"><span class="category-post">系统序列图 - 时序图</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="比赛" id="heading-a5c5d0dc90ccf0733d65742d59d28ccc" role="tab" data-toggle="collapse" href="#collapse-a5c5d0dc90ccf0733d65742d59d28ccc" aria-expanded="true">比赛 <span class="list-group-count">(0)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-a5c5d0dc90ccf0733d65742d59d28ccc" role="tabpanel" aria-labelledby="heading-a5c5d0dc90ccf0733d65742d59d28ccc"><div class="category-post-list"></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="网络" id="heading-7ddbe15c845fa27a2bab496183042ca6" role="tab" data-toggle="collapse" href="#collapse-7ddbe15c845fa27a2bab496183042ca6" aria-expanded="true">网络 <span class="list-group-count">(4)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-7ddbe15c845fa27a2bab496183042ca6" role="tabpanel" aria-labelledby="heading-7ddbe15c845fa27a2bab496183042ca6"><div class="category-post-list"><a href="/2023-06-25-a45e5f4edabc.html" title="Mesh组网：家庭路由和无线连接新方式" class="list-group-item list-group-item-action"><span class="category-post">Mesh组网：家庭路由和无线连接新方式</span> </a><a href="/2024-04-05-e1116cf34b00.html" title="windows IE代理问题解决" class="list-group-item list-group-item-action"><span class="category-post">windows IE代理问题解决</span> </a><a href="/2024-05-02-82705503428a.html" title="计算机网络概览" class="list-group-item list-group-item-action"><span class="category-post">计算机网络概览</span> </a><a href="/2024-02-15-1f66da892e14.html" title="路由器设置桥接" class="list-group-item list-group-item-action"><span class="category-post">路由器设置桥接</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="记录" id="heading-620bf82011e0c14ebe4a20d6e9df6708" role="tab" data-toggle="collapse" href="#collapse-620bf82011e0c14ebe4a20d6e9df6708" aria-expanded="true">记录 <span class="list-group-count">(0)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-620bf82011e0c14ebe4a20d6e9df6708" role="tabpanel" aria-labelledby="heading-620bf82011e0c14ebe4a20d6e9df6708"><div class="category-post-list"></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="设计模式" id="heading-301a19970448f8e4f27ddae7a7d415fe" role="tab" data-toggle="collapse" href="#collapse-301a19970448f8e4f27ddae7a7d415fe" aria-expanded="true">设计模式 <span class="list-group-count">(2)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-301a19970448f8e4f27ddae7a7d415fe" role="tabpanel" aria-labelledby="heading-301a19970448f8e4f27ddae7a7d415fe"><div class="category-post-list"><a href="/2023-09-03-c58ee0dac51b.html" title="设计模式-工厂方法模式" class="list-group-item list-group-item-action"><span class="category-post">设计模式-工厂方法模式</span> </a><a href="/2023-09-03-c6ab66461699.html" title="设计模式-抽象工厂" class="list-group-item list-group-item-action"><span class="category-post">设计模式-抽象工厂</span></a></div></div></div><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="vue3 入门" id="heading-0856e28b836011271badf99f18037c2a" role="tab" data-toggle="collapse" href="#collapse-0856e28b836011271badf99f18037c2a" aria-expanded="true">vue3 入门 <span class="list-group-count">(1)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-0856e28b836011271badf99f18037c2a" role="tabpanel" aria-labelledby="heading-0856e28b836011271badf99f18037c2a"><div class="category-post-list"><a href="/2024-06-24-1130f46a1ad4.html" title="vue3快速实践" class="list-group-item list-group-item-action"><span class="category-post">vue3快速实践</span></a></div></div></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">设计题 总结</h1><div class="markdown-body"><p>举个简单的例子：<br><strong>设计题 - 实现浏览器历史记录</strong><br>1.初始化 homepage 和历史记录容量<br>2.浏览网页</p><ul><li>和当前页相同，则直接返回</li><li>和当前页不同，如果容量满了，则删除最早的记录；清楚之前当前页的后边的历史记录，并把最新的当前页添加到最后。<br>3.实现前进和后退功能<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * Copyright (c) 2023 Lei Qi. All rights reserved.</span><br><span class="hljs-comment"> * Author: Lei Qi</span><br><span class="hljs-comment"> * Description: 浏览器实现</span><br><span class="hljs-comment"> * Date: 2023/10/10 上午12:33</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;container/list&quot;</span><br>	<span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-keyword">type</span> Browser <span class="hljs-keyword">struct</span> &#123;<br>	history  *list.List<br>	current  *list.Element<br>	maxLen   <span class="hljs-type">int</span><br>	homepage <span class="hljs-type">string</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewBrowser</span><span class="hljs-params">(maxLen <span class="hljs-type">int</span>, homepage <span class="hljs-type">string</span>)</span></span> *Browser &#123;<br>	history := list.New()<br>	current := history.PushBack(homepage)<br>	<span class="hljs-keyword">return</span> &amp;Browser&#123;<br>		history:  history,<br>		current:  current,<br>		maxLen:   maxLen,<br>		homepage: homepage,<br>	&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(b *Browser)</span></span> GetCurrentPage() <span class="hljs-type">string</span> &#123;<br>	<span class="hljs-keyword">return</span> b.current.Value.(<span class="hljs-type">string</span>)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(b *Browser)</span></span> GoBack() <span class="hljs-type">string</span> &#123;<br>	<span class="hljs-keyword">if</span> b.current.Prev() != <span class="hljs-literal">nil</span> &#123;<br>		b.current = b.current.Prev()<br>	&#125;<br>	<span class="hljs-keyword">return</span> b.GetCurrentPage()<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(b *Browser)</span></span> GoForward() <span class="hljs-type">string</span> &#123;<br>	<span class="hljs-keyword">if</span> b.current.Next() != <span class="hljs-literal">nil</span> &#123;<br>		b.current = b.current.Next()<br>	&#125;<br>	<span class="hljs-keyword">return</span> b.GetCurrentPage()<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(b *Browser)</span></span> NavigateToNewPage(newPageURL <span class="hljs-type">string</span>) <span class="hljs-type">string</span> &#123;<br>	<span class="hljs-keyword">if</span> b.GetCurrentPage() == newPageURL &#123;<br>		<span class="hljs-keyword">return</span> newPageURL<br>	&#125;<br>	<br>	<span class="hljs-comment">// 清除当前页面之后的历史记录</span><br>	<span class="hljs-keyword">for</span> e := b.current.Next(); e != <span class="hljs-literal">nil</span>; e = e.Next() &#123;<br>		b.history.Remove(e)<br>	&#125;<br>	<span class="hljs-comment">// 将新页面添加到历史记录中</span><br>	b.current = b.history.InsertAfter(newPageURL, b.current)<br>	<span class="hljs-comment">// 限制浏览器历史记录的最大长度</span><br>	<span class="hljs-keyword">for</span> b.history.Len() &gt; b.maxLen &#123;<br>		front := b.history.Front()<br>		<span class="hljs-keyword">if</span> front != <span class="hljs-literal">nil</span> &#123;<br>			b.history.Remove(front)<br>		&#125;<br>	&#125;<br>	<span class="hljs-keyword">return</span> b.GetCurrentPage()<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	browser := NewBrowser(<span class="hljs-number">5</span>, <span class="hljs-string">&quot;初始页面&quot;</span>)<br><br>	fmt.Println(<span class="hljs-string">&quot;当前页面:&quot;</span>, browser.GetCurrentPage())<br><br>	<span class="hljs-comment">// 浏览新页面</span><br>	fmt.Println(<span class="hljs-string">&quot;浏览新页面:&quot;</span>, browser.NavigateToNewPage(<span class="hljs-string">&quot;新页面1&quot;</span>))<br>	fmt.Println(<span class="hljs-string">&quot;当前页面:&quot;</span>, browser.GetCurrentPage())<br><br>	<span class="hljs-comment">// 浏览更多新页面</span><br>	fmt.Println(<span class="hljs-string">&quot;浏览新页面:&quot;</span>, browser.NavigateToNewPage(<span class="hljs-string">&quot;新页面2&quot;</span>))<br>	fmt.Println(<span class="hljs-string">&quot;浏览新页面:&quot;</span>, browser.NavigateToNewPage(<span class="hljs-string">&quot;新页面3&quot;</span>))<br>	fmt.Println(<span class="hljs-string">&quot;浏览新页面:&quot;</span>, browser.NavigateToNewPage(<span class="hljs-string">&quot;新页面4&quot;</span>))<br>	fmt.Println(<span class="hljs-string">&quot;浏览新页面:&quot;</span>, browser.NavigateToNewPage(<span class="hljs-string">&quot;新页面5&quot;</span>))<br>	fmt.Println(<span class="hljs-string">&quot;当前页面:&quot;</span>, browser.GetCurrentPage())<br><br>	<span class="hljs-comment">// 后退和前进</span><br>	fmt.Println(<span class="hljs-string">&quot;后退:&quot;</span>, browser.GoBack())<br>	fmt.Println(<span class="hljs-string">&quot;后退:&quot;</span>, browser.GoBack())<br>	fmt.Println(<span class="hljs-string">&quot;前进:&quot;</span>, browser.GoForward())<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><p>当面临一个设计题，如实现一个浏览器历史记录，需要考虑许多方面的因素。在这篇博客中，我们将探讨如何思考、建模和解决这个设计题，以及如何在考试场景下应对这类问题。</p><h1 id="第一步：理解需求"><a href="#第一步：理解需求" class="headerlink" title="第一步：理解需求"></a>第一步：理解需求</h1><p>在着手解决设计题之前，首先要明确需求。在这个例子中，我们需要实现一个浏览器历史记录，包括以下功能：</p><p>记录当前页面。<br>支持前进和后退操作。<br>能够跳转到新页面。<br>考虑历史记录的容量限制。</p><h1 id="第二步：建模"><a href="#第二步：建模" class="headerlink" title="第二步：建模"></a>第二步：建模</h1><p>接下来，我们需要建立一个合适的模型来表示浏览器历史记录。在这个模型中，需要考虑以下要素：</p><p>当前页面：表示用户当前正在浏览的页面。<br>历史记录：表示用户访问过的页面的顺序列表。<br>最大容量：限制历史记录的长度，以防止无限增长。<br>一个合适的数据结构来表示这个模型是双向链表。双向链表允许我们轻松插入、删除和遍历元素，非常适合表示浏览历史记录。</p><h1 id="第三步：选择数据结构和函数"><a href="#第三步：选择数据结构和函数" class="headerlink" title="第三步：选择数据结构和函数"></a>第三步：选择数据结构和函数</h1><p>接下来，我们需要选择适当的数据结构来表示模型，并确定哪些函数将用于实现各种操作。在这个例子中，我们选择了container&#x2F;list包中的双向链表作为数据结构，并定义以下函数：</p><p>NewBrowser(maxLen int, homepage string) *Browser：创建一个浏览器对象，并指定最大历史记录容量和首页。<br>GetCurrentPage() string：获取当前页面的URL。<br>GoBack() string：执行后退操作，并返回当前页面的URL。<br>GoForward() string：执行前进操作，并返回当前页面的URL。<br>NavigateToNewPage(newPageURL string) string：导航到新页面，并返回当前页面的URL。</p><h1 id="第四步：编写示例代码"><a href="#第四步：编写示例代码" class="headerlink" title="第四步：编写示例代码"></a>第四步：编写示例代码</h1><p>现在，我们可以编写示例代码来展示如何使用这个设计。在示例中，我们模拟了用户浏览不同页面的情况，并展示了如何使用上述函数来管理浏览历史记录。</p><h1 id="第五步：测试和优化"><a href="#第五步：测试和优化" class="headerlink" title="第五步：测试和优化"></a>第五步：测试和优化</h1><p>一旦实现了设计，就需要进行测试以确保它能按预期工作。在测试过程中，需要考虑各种情况，包括正常操作、边界情况和错误情况。</p><p>根据测试的结果，可以对设计进行优化和改进。这可能包括性能优化、边界情况的处理、错误处理和异常情况的处理等。</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>在解决一个设计题时，需要从需求出发，建立合适的模型，选择适当的数据结构和函数，编写示例代码，进行测试和优化。设计题通常涉及多个方面的考虑，需要综合考虑各种情况以确保设计的正确性和鲁棒性。</p><h1 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h1><p>下面，我们来按照难度多练习几道题目</p><h1 id="简单题"><a href="#简单题" class="headerlink" title="简单题"></a>简单题</h1><ol><li><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/implement-queue-using-stacks/description/">232. 用栈实现队列 - 力扣（LeetCode）</a></li></ol><p><img src="/../../imgs/Pasted%20image%2020240405184827.png" srcset="/img/loading.gif" lazyload></p><p><strong>思路：</strong>input 作为输入，output 最为反转后的；如果output存在则直接取结果；否则从input里边反转；</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> MyQueue <span class="hljs-keyword">struct</span> &#123;<br>	inputStack  []<span class="hljs-type">int</span><br>	outputStack []<span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">()</span></span> MyQueue &#123;<br>	<span class="hljs-keyword">return</span> MyQueue&#123;<br>		inputStack:  <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">0</span>),<br>		outputStack: <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">0</span>),<br>	&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyQueue)</span></span> Push(x <span class="hljs-type">int</span>) &#123;<br>	this.inputStack = <span class="hljs-built_in">append</span>(this.inputStack, x)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyQueue)</span></span> Pop() <span class="hljs-type">int</span> &#123;<br>	<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(this.outputStack) != <span class="hljs-number">0</span> &#123;<br><br>		topTmp := this.outputStack[<span class="hljs-built_in">len</span>(this.outputStack)<span class="hljs-number">-1</span>] <span class="hljs-comment">//</span><br>		this.outputStack = this.outputStack[:<span class="hljs-built_in">len</span>(this.outputStack)<span class="hljs-number">-1</span>]<br>		<span class="hljs-keyword">return</span> topTmp<br>	&#125; <span class="hljs-keyword">else</span> &#123;<br>		<span class="hljs-keyword">for</span> <span class="hljs-built_in">len</span>(this.inputStack) != <span class="hljs-number">0</span> &#123;<br>			this.outputStack = <span class="hljs-built_in">append</span>(this.outputStack, this.inputStack[<span class="hljs-built_in">len</span>(this.inputStack)<span class="hljs-number">-1</span>])<br>			this.inputStack = this.inputStack[:<span class="hljs-built_in">len</span>(this.inputStack)<span class="hljs-number">-1</span>]<br>		&#125;<br>	&#125;<br><br>	top := this.outputStack[<span class="hljs-built_in">len</span>(this.outputStack)<span class="hljs-number">-1</span>] <span class="hljs-comment">//</span><br>	this.outputStack = this.outputStack[:<span class="hljs-built_in">len</span>(this.outputStack)<span class="hljs-number">-1</span>]<br>	<span class="hljs-keyword">return</span> top<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyQueue)</span></span> Peek() <span class="hljs-type">int</span> &#123;<br>	<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(this.outputStack) != <span class="hljs-number">0</span> &#123;<br><br>		topTmp := this.outputStack[<span class="hljs-built_in">len</span>(this.outputStack)<span class="hljs-number">-1</span>] <span class="hljs-comment">//</span><br>		<span class="hljs-keyword">return</span> topTmp<br>	&#125; <span class="hljs-keyword">else</span> &#123;<br>		<span class="hljs-keyword">for</span> <span class="hljs-built_in">len</span>(this.inputStack) != <span class="hljs-number">0</span> &#123;<br>			this.outputStack = <span class="hljs-built_in">append</span>(this.outputStack, this.inputStack[<span class="hljs-built_in">len</span>(this.inputStack)<span class="hljs-number">-1</span>])<br>			this.inputStack = this.inputStack[:<span class="hljs-built_in">len</span>(this.inputStack)<span class="hljs-number">-1</span>]<br>		&#125;<br>	&#125;<br><br>	top := this.outputStack[<span class="hljs-built_in">len</span>(this.outputStack)<span class="hljs-number">-1</span>] <span class="hljs-comment">//</span><br>	<span class="hljs-keyword">return</span> top<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyQueue)</span></span> Empty() <span class="hljs-type">bool</span> &#123;<br>	<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(this.inputStack) == <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">len</span>(this.outputStack) == <span class="hljs-number">0</span> &#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>&#125;<br><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your MyQueue object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor();</span><br><span class="hljs-comment"> * obj.Push(x);</span><br><span class="hljs-comment"> * param_2 := obj.Pop();</span><br><span class="hljs-comment"> * param_3 := obj.Peek();</span><br><span class="hljs-comment"> * param_4 := obj.Empty();</span><br><span class="hljs-comment"> */</span><br><br></code></pre></td></tr></table></figure><ol start="2"><li><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/implement-stack-using-queues/description/">225. 用队列实现栈 - 力扣（LeetCode）</a><img src="/../../imgs/Pasted%20image%2020240405184932.png" srcset="/img/loading.gif" lazyload></li></ol><p><strong>思路：</strong>用队列实现栈；栈是最后一元素出来；所以input 需要遍历到添加元素到output, 到剩余最后一个元素。这个元素就是要出栈的。出完栈再将output 重新赋值给input;output 重置为空；</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> MyStack <span class="hljs-keyword">struct</span> &#123;<br>	inputQueue  []<span class="hljs-type">int</span><br>	outputQueue []<span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">()</span></span> MyStack &#123;<br>	<span class="hljs-keyword">return</span> MyStack&#123;<br>		inputQueue:  <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">0</span>),<br>		outputQueue: <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">0</span>),<br>	&#125;<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyStack)</span></span> Push(x <span class="hljs-type">int</span>) &#123;<br>	this.inputQueue = <span class="hljs-built_in">append</span>(this.inputQueue, x)<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyStack)</span></span> Pop() <span class="hljs-type">int</span> &#123;<br>	<span class="hljs-keyword">for</span> <span class="hljs-built_in">len</span>(this.inputQueue) != <span class="hljs-number">1</span> &#123;<br>		this.outputQueue = <span class="hljs-built_in">append</span>(this.outputQueue, this.inputQueue[<span class="hljs-number">0</span>])<br>		this.inputQueue = this.inputQueue[<span class="hljs-number">1</span>:]<br>	&#125;<br>	top := this.inputQueue[<span class="hljs-number">0</span>]<br>	this.inputQueue = this.outputQueue<br>    this.outputQueue = []<span class="hljs-type">int</span>&#123;&#125;<br>	<span class="hljs-keyword">return</span> top<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyStack)</span></span> Top() <span class="hljs-type">int</span> &#123;<br>	<span class="hljs-keyword">for</span> <span class="hljs-built_in">len</span>(this.inputQueue) != <span class="hljs-number">1</span> &#123;<br>		this.outputQueue = <span class="hljs-built_in">append</span>(this.outputQueue, this.inputQueue[<span class="hljs-number">0</span>])<br>		this.inputQueue = this.inputQueue[<span class="hljs-number">1</span>:]<br>	&#125;<br>	top := this.inputQueue[<span class="hljs-number">0</span>]<br>	this.inputQueue = <span class="hljs-built_in">append</span>(this.outputQueue, this.inputQueue...)<br>    this.outputQueue = []<span class="hljs-type">int</span>&#123;&#125;<br>	<span class="hljs-keyword">return</span> top<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyStack)</span></span> Empty() <span class="hljs-type">bool</span> &#123;<br>	<span class="hljs-keyword">if</span> (<span class="hljs-built_in">len</span>(this.inputQueue) == <span class="hljs-number">0</span>) &amp;&amp; (<span class="hljs-built_in">len</span>(this.outputQueue) == <span class="hljs-number">0</span>) &#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="303-区域和检索-数组不可变"><a href="#303-区域和检索-数组不可变" class="headerlink" title="303. 区域和检索 - 数组不可变"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/range-sum-query-immutable/">303. 区域和检索 - 数组不可变</a></h1><p><img src="/../../imgs/Pasted%20image%2020240406201421.png" srcset="/img/loading.gif" lazyload><br>思路：简单题，</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> NumArray <span class="hljs-keyword">struct</span> &#123;<br>    nums  []<span class="hljs-type">int</span><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">(nums []<span class="hljs-type">int</span>)</span></span> NumArray &#123;<br>    <span class="hljs-keyword">return</span> NumArray&#123;nums: nums&#125;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *NumArray)</span></span> SumRange(left <span class="hljs-type">int</span>, right <span class="hljs-type">int</span>) <span class="hljs-type">int</span> &#123;<br>    sum := <span class="hljs-number">0</span> <br>    <span class="hljs-keyword">for</span> i:= left; i&lt;= right; i++ &#123;<br>        sum += this.nums[i]<br>    &#125;<br>    <span class="hljs-keyword">return</span> sum<br>&#125;<br><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your NumArray object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor(nums);</span><br><span class="hljs-comment"> * param_1 := obj.SumRange(left,right);</span><br><span class="hljs-comment"> */</span><br><br></code></pre></td></tr></table></figure><p>使用前缀和<br><img src="/../../imgs/Pasted%20image%2020240406201959.png" srcset="/img/loading.gif" lazyload><br>怎么求 preSum 数组<br>利用前面提到的递推式:<br><img src="/../../imgs/Pasted%20image%2020240406201929.png" srcset="/img/loading.gif" lazyload></p><p>遍历求出每一个preSum[i]，别忘了预置preSum[-1]为0，<strong>即preSum[0]为nums[0]（前提是nums有元素）</strong>。</p><p>预置preSum[-1]这种荒谬的情况，只是为了边界情况也能套用通式。</p><p>需要针对len(nums) &#x3D;&#x3D; 0的情况进行特判，i &#x3D; 0 的情况，也需单独讨论。</p><p>后面会给出简化的写法。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> NumArray <span class="hljs-keyword">struct</span> &#123;<br>    preSum []<span class="hljs-type">int</span><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">(nums []<span class="hljs-type">int</span>)</span></span> NumArray &#123;<br>    preSum := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-built_in">len</span>(nums))<br>    preSum[<span class="hljs-number">0</span>] = nums[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">for</span> i:=<span class="hljs-number">1</span>; i&lt;<span class="hljs-built_in">len</span>(nums);i++ &#123;<br>        preSum[ i] = preSum[ i<span class="hljs-number">-1</span>] + nums[i]<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> NumArray&#123;preSum&#125;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *NumArray)</span></span> SumRange(left <span class="hljs-type">int</span>, right <span class="hljs-type">int</span>) <span class="hljs-type">int</span> &#123;<br>    	<span class="hljs-keyword">if</span> left == <span class="hljs-number">0</span> &#123; <span class="hljs-comment">// 此时preSum[i-1]应该为0，从0到j的求和，应该返回preSum[j]</span><br>		<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(this.preSum) == <span class="hljs-number">0</span> &#123; <span class="hljs-comment">// 但如果nums根本没有长度，直接返回0</span><br>			<span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>		&#125;<br>		<span class="hljs-keyword">return</span> this.preSum[right]<br>	&#125;<br>    <span class="hljs-keyword">return</span> this.preSum[right] - this.preSum[left<span class="hljs-number">-1</span>]<br>&#125;<br><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your NumArray object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor(nums);</span><br><span class="hljs-comment"> * param_1 := obj.SumRange(left,right);</span><br><span class="hljs-comment"> */</span><br><br></code></pre></td></tr></table></figure><p>使用多一位长度的前缀和<br>之所以上面处理东西多，是因为<code>preSum[i]</code>的定义导致的。例如如果上边left &#x3D;&#x3D; 0 ; 则不再适用于通用公式；那是因为left -1 &#x3D; -1了，而数组中没有-1 index</p><p>要解决这问题。我们只要改革preSum[i]的定义就行;我们期望最后是preSum[left] 而不是preSum[left-1]<br>即：</p><p><img src="/../../imgs/Pasted%20image%2020240406202142.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> NumArray <span class="hljs-keyword">struct</span> &#123;<br>    preSum []<span class="hljs-type">int</span><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">(nums []<span class="hljs-type">int</span>)</span></span> NumArray &#123;<br>    preSum := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-built_in">len</span>(nums) + <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">for</span> index, value := <span class="hljs-keyword">range</span> nums &#123;<br>        preSum[index + <span class="hljs-number">1</span>] = preSum[index] + value<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> NumArray&#123;preSum&#125;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *NumArray)</span></span> SumRange(left <span class="hljs-type">int</span>, right <span class="hljs-type">int</span>) <span class="hljs-type">int</span> &#123;<br>    <span class="hljs-keyword">return</span> this.preSum[right + <span class="hljs-number">1</span>] - this.preSum[left]<br>&#125;<br><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your NumArray object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor(nums);</span><br><span class="hljs-comment"> * param_1 := obj.SumRange(left,right);</span><br><span class="hljs-comment"> */</span><br><br></code></pre></td></tr></table></figure><h1 id="703-数据流中的第-K-大元素"><a href="#703-数据流中的第-K-大元素" class="headerlink" title="703. 数据流中的第 K 大元素"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/kth-largest-element-in-a-stream/">703. 数据流中的第 K 大元素</a></h1><p><img src="/../../imgs/Pasted%20image%2020240406204841.png" srcset="/img/loading.gif" lazyload><br><strong>暴力解法</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs go"><br><span class="hljs-keyword">type</span> KthLargest <span class="hljs-keyword">struct</span> &#123;<br>	<span class="hljs-comment">// 排序后的nums</span><br>	index      <span class="hljs-type">int</span><br>	sortedNums []<span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">(k <span class="hljs-type">int</span>, nums []<span class="hljs-type">int</span>)</span></span> KthLargest &#123;<br>	<span class="hljs-keyword">return</span> KthLargest&#123;k, nums&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *KthLargest)</span></span> Add(val <span class="hljs-type">int</span>) <span class="hljs-type">int</span> &#123;<br>	this.sortedNums = <span class="hljs-built_in">append</span>(this.sortedNums, val)<br>	sort.Ints(this.sortedNums)<br>	revert(this.sortedNums)<br>	<span class="hljs-keyword">return</span> this.sortedNums[this.index<span class="hljs-number">-1</span>]<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">revert</span><span class="hljs-params">(nums []<span class="hljs-type">int</span>)</span></span> &#123;<br>	<span class="hljs-keyword">for</span> i, j := <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(nums)<span class="hljs-number">-1</span>; i &lt; j; i, j = i+<span class="hljs-number">1</span>, j<span class="hljs-number">-1</span> &#123;<br>		nums[i], nums[j] = nums[j], nums[i]<br>	&#125;<br>&#125;<br><br><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your KthLargest object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor(k, nums);</span><br><span class="hljs-comment"> * param_1 := obj.Add(val);</span><br><span class="hljs-comment"> */</span><br><br></code></pre></td></tr></table></figure><p><strong>优先队列</strong><br>我们可以使用一个大小为 kkk 的优先队列来存储前 kkk 大的元素，其中优先队列的队头为队列中最小的元素，也就是第 kkk 大的元素。</p><p>在单次插入的操作中，我们首先将元素 val\textit{val}val 加入到优先队列中。如果此时优先队列的大小大于 kkk，我们需要将优先队列的队头元素弹出，以保证优先队列的大小为 kkk。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> KthLargest <span class="hljs-keyword">struct</span> &#123;<br>    sort.IntSlice<br>    k <span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">(k <span class="hljs-type">int</span>, nums []<span class="hljs-type">int</span>)</span></span> KthLargest &#123;<br>    kl := KthLargest&#123;k: k&#125;<br>    <span class="hljs-keyword">for</span> _, val := <span class="hljs-keyword">range</span> nums &#123;<br>        kl.Add(val)<br>    &#125;<br>    <span class="hljs-keyword">return</span> kl<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(kl *KthLargest)</span></span> Push(v <span class="hljs-keyword">interface</span>&#123;&#125;) &#123;<br>    kl.IntSlice = <span class="hljs-built_in">append</span>(kl.IntSlice, v.(<span class="hljs-type">int</span>))<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(kl *KthLargest)</span></span> Pop() <span class="hljs-keyword">interface</span>&#123;&#125; &#123;<br>    a := kl.IntSlice<br>    v := a[<span class="hljs-built_in">len</span>(a)<span class="hljs-number">-1</span>]<br>    kl.IntSlice = a[:<span class="hljs-built_in">len</span>(a)<span class="hljs-number">-1</span>]<br>    <span class="hljs-keyword">return</span> v<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(kl *KthLargest)</span></span> Add(val <span class="hljs-type">int</span>) <span class="hljs-type">int</span> &#123;<br>    heap.Push(kl, val)<br>    <span class="hljs-keyword">if</span> kl.Len() &gt; kl.k &#123;<br>        heap.Pop(kl)<br>    &#125;<br>    <span class="hljs-keyword">return</span> kl.IntSlice[<span class="hljs-number">0</span>]<br>&#125;<br><br><br></code></pre></td></tr></table></figure><h1 id="146-LRU缓存"><a href="#146-LRU缓存" class="headerlink" title="146 LRU缓存"></a>146 LRU缓存</h1><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/lru-cache/">146. LRU 缓存</a></p><p><img src="/../../imgs/Pasted%20image%2020240512220224.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> LRUCache <span class="hljs-keyword">struct</span> &#123;<br>	capacity <span class="hljs-type">int</span> <span class="hljs-comment">// 容量</span><br>	keysList []<span class="hljs-type">int</span> <span class="hljs-comment">// 实现最新时间 存放key 每次update get put 等都要将对应key删除，然后追加到最新时间</span><br>	keysMap  <span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]<span class="hljs-type">int</span> <span class="hljs-comment">// 存放key value</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">(capacity <span class="hljs-type">int</span>)</span></span> LRUCache &#123;<br>	<span class="hljs-comment">//return</span><br>	<span class="hljs-keyword">return</span> LRUCache&#123;capacity, <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">0</span>), <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]<span class="hljs-type">int</span>, <span class="hljs-number">0</span>)&#125;<br>&#125;<br><br><span class="hljs-comment">// 如果key存在于缓存中，则返回关键字的值，否则返回-1</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *LRUCache)</span></span> Get(key <span class="hljs-type">int</span>) <span class="hljs-type">int</span> &#123;<br>	<span class="hljs-keyword">if</span> ele, ok := this.keysMap[key]; ok &#123;<br>		this.updateListKey(key)<br>		<span class="hljs-keyword">return</span> ele<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *LRUCache)</span></span> Put(key <span class="hljs-type">int</span>, value <span class="hljs-type">int</span>) &#123;<br>	<span class="hljs-comment">// 关键字存在 则更新值为value</span><br>	<span class="hljs-comment">// 不存在，则插入value</span><br>	<span class="hljs-comment">// 如果插入超过数量capacity 则删除最久没有使用的关键字【list]</span><br>	<span class="hljs-keyword">if</span> _, ok := this.keysMap[key]; ok &#123;<br>		this.updateListKey(key)<br>		this.keysMap[key] = value<br>	&#125; <span class="hljs-keyword">else</span> &#123;<br>		this.updateListKey(key)<br>		this.keysMap[key] = value<br>		<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(this.keysList) &gt; this.capacity &#123;<br>			<span class="hljs-built_in">delete</span>(this.keysMap, this.keysList[<span class="hljs-number">0</span>]) <span class="hljs-comment">// 这里删除key 从list队列中获取</span><br>			this.keysList = this.keysList[<span class="hljs-number">1</span>:]<br>		&#125;<br>	&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *LRUCache)</span></span> updateListKey(key <span class="hljs-type">int</span>) &#123;<br>	<span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">len</span>(this.keysList); i++ &#123;<br>		<span class="hljs-keyword">if</span> key == this.keysList[i] &#123;<br>			this.keysList = <span class="hljs-built_in">append</span>(this.keysList[:i], this.keysList[i+<span class="hljs-number">1</span>:]...) <span class="hljs-comment">// 删除该key, 然后放在末尾</span><br>			<span class="hljs-keyword">break</span><br>		&#125;<br>	&#125;<br>	this.keysList = <span class="hljs-built_in">append</span>(this.keysList, key)<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="355-设计推特"><a href="#355-设计推特" class="headerlink" title="355 设计推特"></a>355 设计推特</h1><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/design-twitter/">355. 设计推特</a><br><img src="/../../imgs/Pasted%20image%2020240512221227.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> Twitter <span class="hljs-keyword">struct</span> &#123;<br>	userMap <span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]*User<br>&#125;<br><br><span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> &#123;<br>	userId    <span class="hljs-type">int</span><br>	followees <span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]<span class="hljs-type">bool</span><br>	tweets    []*Tweet<br>&#125;<br><br><span class="hljs-keyword">type</span> Tweet <span class="hljs-keyword">struct</span> &#123;<br>	tweetId <span class="hljs-type">int</span><br>	time    <span class="hljs-type">int</span><br>	userId  <span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-comment">// 推特数目，用于时间排序</span><br><span class="hljs-keyword">var</span> tweetCount <span class="hljs-type">int</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">()</span></span> Twitter &#123;<br>	<span class="hljs-keyword">return</span> Twitter&#123;userMap: <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]*User)&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t *Twitter)</span></span> PostTweet(userId <span class="hljs-type">int</span>, tweetId <span class="hljs-type">int</span>) &#123;<br>	<span class="hljs-comment">// 新建tweet  将自己设置为关注</span><br><br>	<span class="hljs-comment">// 如果map 中不存在需要新建，因为User 类中存在map 和 slice</span><br>	<span class="hljs-keyword">if</span> _, ok := t.userMap[userId]; !ok &#123;<br>		t.userMap[userId] = &amp;User&#123;userId: userId, tweets: <span class="hljs-built_in">make</span>([]*Tweet, <span class="hljs-number">0</span>), followees: <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]<span class="hljs-type">bool</span>)&#125;<br>		tweet := &amp;Tweet&#123;tweetId, tweetCount, userId&#125;<br>		t.userMap[userId].tweets = <span class="hljs-built_in">append</span>(t.userMap[userId].tweets, tweet)<br>		t.userMap[userId].followees[userId] = <span class="hljs-literal">true</span><br>	&#125; <span class="hljs-keyword">else</span> &#123;<br>		tweet := &amp;Tweet&#123;tweetId, tweetCount, userId&#125;<br>		t.userMap[userId].tweets = <span class="hljs-built_in">append</span>(t.userMap[userId].tweets, tweet)<br><br>	&#125;<br><br>	<span class="hljs-comment">// 将tweetId 和时间做一个新增</span><br>	tweetCount++<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t *Twitter)</span></span> Follow(followerId <span class="hljs-type">int</span>, followeeId <span class="hljs-type">int</span>) &#123;<br>    <span class="hljs-comment">// 如果关注人不存在则新建</span><br>    <span class="hljs-keyword">if</span> _, ok := t.userMap[followerId]; !ok &#123;<br>        t.userMap[followerId] = &amp;User&#123;<br>            userId:        followerId,<br>            followees: <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]<span class="hljs-type">bool</span>),<br>        &#125;<br>        <span class="hljs-comment">// 每次新建user的时候 将自己加入自己关注</span><br>        t.userMap[followerId].followees[followerId] = <span class="hljs-literal">true</span><br>    &#125;<br><br>    <span class="hljs-comment">// 如果被关注人不存在则新建</span><br>    <span class="hljs-keyword">if</span> _, ok := t.userMap[followeeId]; !ok &#123;<br>        t.userMap[followeeId] = &amp;User&#123;<br>            userId:        followeeId,<br>            followees: <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]<span class="hljs-type">bool</span>),<br>        &#125;<br>        <span class="hljs-comment">// 每次新建user的时候 将自己加入自己关注</span><br>        t.userMap[followeeId].followees[followeeId] = <span class="hljs-literal">true</span><br>    &#125;<br>    t.userMap[followerId].followees[followeeId] = <span class="hljs-literal">true</span><br><br>&#125;<br><br><span class="hljs-comment">// 形参上的Id 在使用数据结构的时候一般使用map查找</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t *Twitter)</span></span> Unfollow(followerId <span class="hljs-type">int</span>, followeeId <span class="hljs-type">int</span>) &#123;<br>	<span class="hljs-keyword">if</span> _, ok := t.userMap[followerId]; ok &#123;<br>		<span class="hljs-built_in">delete</span>(t.userMap[followerId].followees, followeeId)<br>	&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t *Twitter)</span></span> GetNewsFeed(userId <span class="hljs-type">int</span>) []<span class="hljs-type">int</span> &#123;<br>	resTop10 := []<span class="hljs-type">int</span>&#123;&#125;<br>	tweeters := []*Tweet&#123;&#125;<br>	<span class="hljs-keyword">if</span> _, ok := t.userMap[userId]; ok &#123;<br><br>		<span class="hljs-keyword">for</span> followeeId, _ := <span class="hljs-keyword">range</span> t.userMap[userId].followees &#123;<br>			tweeters = <span class="hljs-built_in">append</span>(tweeters, t.userMap[followeeId].tweets...)<br>		&#125;<br><br>	&#125;<br>	sort.Slice(tweeters, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(i, j <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">bool</span> &#123;<br>		<span class="hljs-keyword">if</span> tweeters[i].time &gt; tweeters[j].time &#123;<br>			<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>		&#125;<br>		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>	&#125;)<br><br>	<span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">len</span>(tweeters) &amp;&amp; i &lt; <span class="hljs-number">10</span> ; i++ &#123;<br>		resTop10 = <span class="hljs-built_in">append</span>(resTop10, tweeters[i].tweetId)<br>	&#125;<br>	<span class="hljs-keyword">return</span> resTop10<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="208-实现-Trie-前缀树"><a href="#208-实现-Trie-前缀树" class="headerlink" title="208. 实现 Trie (前缀树)"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/implement-trie-prefix-tree/">208. 实现 Trie (前缀树)</a></h1><p><img src="/../../imgs/Pasted%20image%2020240512221416.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-comment">// TrieNode 代表Trie中的每个节点</span><br><span class="hljs-keyword">type</span> TrieNode <span class="hljs-keyword">struct</span> &#123;<br>    children [<span class="hljs-number">26</span>]*TrieNode<br>    isEnd    <span class="hljs-type">bool</span><br>&#125;<br><br><span class="hljs-comment">// Trie 代表整个前缀树</span><br><span class="hljs-keyword">type</span> Trie <span class="hljs-keyword">struct</span> &#123;<br>    root *TrieNode<br>&#125;<br><br><span class="hljs-comment">// Constructor 初始化一个Trie对象</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">()</span></span> Trie &#123;<br>    <span class="hljs-keyword">return</span> Trie&#123;root: &amp;TrieNode&#123;&#125;&#125;<br>&#125;<br><br><span class="hljs-comment">// Insert 将word插入到trie中</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *Trie)</span></span> Insert(word <span class="hljs-type">string</span>) &#123;<br>    node := this.root<br>    <span class="hljs-keyword">for</span> _, ch := <span class="hljs-keyword">range</span> word &#123;<br>        index := ch - <span class="hljs-string">&#x27;a&#x27;</span><br>        <span class="hljs-keyword">if</span> node.children[index] == <span class="hljs-literal">nil</span> &#123;<br>            node.children[index] = &amp;TrieNode&#123;&#125;<br>        &#125;<br>        node = node.children[index]<br>    &#125;<br>    node.isEnd = <span class="hljs-literal">true</span> <span class="hljs-comment">// 标记单词结束的节点</span><br>&#125;<br><br><span class="hljs-comment">// Search 在trie中搜索word</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *Trie)</span></span> Search(word <span class="hljs-type">string</span>) <span class="hljs-type">bool</span> &#123;<br>    node := this.root<br>    <span class="hljs-keyword">for</span> _, ch := <span class="hljs-keyword">range</span> word &#123;<br>        index := ch - <span class="hljs-string">&#x27;a&#x27;</span><br>        <span class="hljs-keyword">if</span> node.children[index] == <span class="hljs-literal">nil</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> <span class="hljs-comment">// 如果路径中的节点不存在，说明word不在trie中</span><br>        &#125;<br>        node = node.children[index]<br>    &#125;<br>    <span class="hljs-keyword">return</span> node.isEnd <span class="hljs-comment">// 检查最后一个节点是否标记为单词结尾</span><br>&#125;<br><br><span class="hljs-comment">// StartsWith 返回trie中是否有任何单词以prefix为前缀</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *Trie)</span></span> StartsWith(prefix <span class="hljs-type">string</span>) <span class="hljs-type">bool</span> &#123;<br>    node := this.root<br>    <span class="hljs-keyword">for</span> _, ch := <span class="hljs-keyword">range</span> prefix &#123;<br>        index := ch - <span class="hljs-string">&#x27;a&#x27;</span><br>        <span class="hljs-keyword">if</span> node.children[index] == <span class="hljs-literal">nil</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> <span class="hljs-comment">// 如果路径中的节点不存在，说明没有以prefix为前缀的word</span><br>        &#125;<br>        node = node.children[index]<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span> <span class="hljs-comment">// 所有的char都在路径中，说明trie有以prefix为前缀的word</span><br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your Trie object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor();</span><br><span class="hljs-comment"> * obj.Insert(word);</span><br><span class="hljs-comment"> * param_2 := obj.Search(word);</span><br><span class="hljs-comment"> * param_3 := obj.StartsWith(prefix);</span><br><span class="hljs-comment"> */</span><br><br></code></pre></td></tr></table></figure><h1 id="211-添加与搜索单词-数据结构设计"><a href="#211-添加与搜索单词-数据结构设计" class="headerlink" title="211. 添加与搜索单词 - 数据结构设计"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/design-add-and-search-words-data-structure/">211. 添加与搜索单词 - 数据结构设计</a></h1><p><img src="/../../imgs/Pasted%20image%2020240512221549.png" srcset="/img/loading.gif" lazyload></p><p>一次AC</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;strings&quot;</span><br><br><span class="hljs-keyword">type</span> WordDictionary <span class="hljs-keyword">struct</span> &#123;<br>	wordMap <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">bool</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">()</span></span> WordDictionary &#123;<br>	<span class="hljs-keyword">return</span> WordDictionary&#123;<span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">bool</span>, <span class="hljs-number">0</span>)&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *WordDictionary)</span></span> AddWord(word <span class="hljs-type">string</span>) &#123;<br>	this.wordMap[word] = <span class="hljs-literal">true</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *WordDictionary)</span></span> Search(word <span class="hljs-type">string</span>) <span class="hljs-type">bool</span> &#123;<br>	<span class="hljs-keyword">if</span> _, ok := this.wordMap[word]; ok &#123;<br><br>		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>	&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> strings.Contains(word, <span class="hljs-string">&quot;.&quot;</span>) &#123;<br>		<span class="hljs-keyword">for</span> key, _ := <span class="hljs-keyword">range</span> this.wordMap &#123;<br>			<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(key) == <span class="hljs-built_in">len</span>(word) &#123;<br>				flag := <span class="hljs-literal">true</span><br>				<span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">len</span>(word); i++ &#123;<br>					<span class="hljs-keyword">if</span> key[i] == word[i] || word[i] == <span class="hljs-string">&#x27;.&#x27;</span> &#123;<br>						<br>					&#125; <span class="hljs-keyword">else</span> &#123;<br>						flag = <span class="hljs-literal">false</span><br>					&#125;<br>				&#125;<br>				<span class="hljs-keyword">if</span> flag == <span class="hljs-literal">true</span> &#123;<br>					<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>				&#125;<br>			&#125;<br>		&#125;<br>		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>&#125;<br><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your WordDictionary object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor();</span><br><span class="hljs-comment"> * obj.AddWord(word);</span><br><span class="hljs-comment"> * param_2 := obj.Search(word);</span><br><span class="hljs-comment"> */</span><br><br></code></pre></td></tr></table></figure><h1 id="284-窥视迭代器"><a href="#284-窥视迭代器" class="headerlink" title="284. 窥视迭代器"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/peeking-iterator/">284. 窥视迭代器</a></h1><p><img src="/../../imgs/Pasted%20image%2020240512221905.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">/*   Below is the interface for Iterator, which is already defined for you.</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> *   type Iterator struct &#123;</span><br><span class="hljs-comment"> *       </span><br><span class="hljs-comment"> *   &#125;</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> *   func (this *Iterator) hasNext() bool &#123;</span><br><span class="hljs-comment"> *		// Returns true if the iteration has more elements.</span><br><span class="hljs-comment"> *   &#125;</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> *   func (this *Iterator) next() int &#123;</span><br><span class="hljs-comment"> *		// Returns the next element in the iteration.</span><br><span class="hljs-comment"> *   &#125;</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">type</span> PeekingIterator <span class="hljs-keyword">struct</span> &#123;<br>    iter     *Iterator<br>    _hasNext <span class="hljs-type">bool</span><br>    _next    <span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">(iter *Iterator)</span></span> *PeekingIterator &#123;<br>    <span class="hljs-keyword">return</span> &amp;PeekingIterator&#123;iter, iter.hasNext(), iter.next()&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(it *PeekingIterator)</span></span> hasNext() <span class="hljs-type">bool</span> &#123;<br>    <span class="hljs-keyword">return</span> it._hasNext<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(it *PeekingIterator)</span></span> next() <span class="hljs-type">int</span> &#123;<br>    ret := it._next<br>    it._hasNext = it.iter.hasNext()<br>    <span class="hljs-keyword">if</span> it._hasNext &#123;<br>        it._next = it.iter.next()<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(it *PeekingIterator)</span></span> peek() <span class="hljs-type">int</span> &#123;<br>    <span class="hljs-keyword">return</span> it._next<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="535-TinyURL-的加密与解密"><a href="#535-TinyURL-的加密与解密" class="headerlink" title="535. TinyURL 的加密与解密"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/encode-and-decode-tinyurl/">535. TinyURL 的加密与解密</a></h1><p><img src="/../../imgs/Pasted%20image%2020240512222106.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// 通过自增id 的方式来实现encode</span><br><span class="hljs-keyword">type</span> Codec <span class="hljs-keyword">struct</span> &#123;<br>	dataId <span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]<span class="hljs-type">string</span><br>	nums   <span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">()</span></span> Codec &#123;<br>	<span class="hljs-keyword">return</span> Codec&#123;<span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]<span class="hljs-type">string</span>&#123;&#125;, <span class="hljs-number">0</span>&#125;<br>&#125;<br><br><span class="hljs-comment">// Encodes a URL to a shortened URL.</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *Codec)</span></span> encode(longUrl <span class="hljs-type">string</span>) <span class="hljs-type">string</span> &#123;<br>	this.nums++<br>	this.dataId[this.nums] = longUrl<br>	res := <span class="hljs-string">&quot;http://tinyurl.com/&quot;</span> + strconv.Itoa(this.nums)<br>	<span class="hljs-keyword">return</span> res<br>&#125;<br><br><span class="hljs-comment">// Decodes a shortened URL to its original URL.</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *Codec)</span></span> decode(shortUrl <span class="hljs-type">string</span>) <span class="hljs-type">string</span> &#123;<br>	index := strings.Split(shortUrl, <span class="hljs-string">&quot;/&quot;</span>)<br>	tmp := index[<span class="hljs-built_in">len</span>(index)<span class="hljs-number">-1</span>]<br>	idx, _ := strconv.Atoi(tmp)<br>	long := this.dataId[idx]<br>	<span class="hljs-keyword">return</span> long<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your Codec object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor();</span><br><span class="hljs-comment"> * url := obj.encode(longUrl);</span><br><span class="hljs-comment"> * ans := obj.decode(url);</span><br><span class="hljs-comment"> */</span><br><br></code></pre></td></tr></table></figure><h1 id="707-设计链表"><a href="#707-设计链表" class="headerlink" title="707. 设计链表"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/design-linked-list/">707. 设计链表</a></h1><p><img src="/../../imgs/Pasted%20image%2020240512222241.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> MyLinkedList <span class="hljs-keyword">struct</span> &#123;<br>	<span class="hljs-comment">// 如何确定结构体里应设置什么变量？</span><br>	<span class="hljs-comment">// 总的List 包含 有多少个节点，以及头节点是什么</span><br>	Size      <span class="hljs-type">int</span><br>	dummyHead *ListNode <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">()</span></span> MyLinkedList &#123;<br>	<span class="hljs-comment">// Constructor 该如何写？如何才能符合题目要求？</span><br>	<span class="hljs-keyword">return</span> MyLinkedList&#123;<span class="hljs-number">0</span>, &amp;ListNode&#123;<span class="hljs-number">0</span>,<span class="hljs-literal">nil</span>&#125;&#125; <span class="hljs-comment">// 这个虚拟头节点不应该删掉吗？</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyLinkedList)</span></span> Get(index <span class="hljs-type">int</span>) <span class="hljs-type">int</span> &#123;<br>	<span class="hljs-keyword">if</span> index &lt; <span class="hljs-number">0</span> || index &gt;= this.Size &#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span><br>	&#125;<br>	<span class="hljs-comment">//dummyHead := &amp;ListNode&#123;0, this.head&#125;</span><br>	cur := this.dummyHead.Next<br>	<span class="hljs-keyword">for</span> index != <span class="hljs-number">0</span> &amp;&amp; cur != <span class="hljs-literal">nil</span> &#123;<br>		cur = cur.Next<br>		index--<br>	&#125;<br>	<span class="hljs-keyword">return</span> cur.Val<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyLinkedList)</span></span> AddAtHead(val <span class="hljs-type">int</span>) &#123;<br>	this.AddAtIndex(<span class="hljs-number">0</span>, val)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyLinkedList)</span></span> AddAtTail(val <span class="hljs-type">int</span>) &#123;<br>	this.AddAtIndex(this.Size, val)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyLinkedList)</span></span> AddAtIndex(index <span class="hljs-type">int</span>, val <span class="hljs-type">int</span>) &#123;<br>	<span class="hljs-keyword">if</span> index &gt;= <span class="hljs-number">0</span> &amp;&amp; index &lt;= this.Size &#123;<br>		cur := this.dummyHead <span class="hljs-comment">//cur 等于虚拟头节点，插入节点的前驱</span><br>		<span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; index; i++ &#123;<br>			cur = cur.Next<br>		&#125;<br>		newNode := &amp;ListNode&#123;val, cur.Next&#125;<br>		cur.Next = newNode<br>		this.Size++<br>	&#125;<br>	<span class="hljs-keyword">if</span> index &lt; <span class="hljs-number">0</span> &#123;<br>		this.AddAtIndex(<span class="hljs-number">0</span>, val)<br>		this.Size++<br>	&#125;<br>	<span class="hljs-keyword">if</span> index &gt; this.Size &#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-comment">// 这个return 到哪里了？ 代表结束这个程序吗？</span><br>	&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MyLinkedList)</span></span> DeleteAtIndex(index <span class="hljs-type">int</span>) &#123;<br><br>	<span class="hljs-keyword">if</span> index &gt;= <span class="hljs-number">0</span> &amp;&amp; index &lt; this.Size &#123;<br>		cur := this.dummyHead <span class="hljs-comment">//cur 等于虚拟头节点，插入节点的前驱</span><br>		<span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; index; i++ &#123;<br>			cur = cur.Next<br>		&#125;<br>		cur.Next = cur.Next.Next<br>		this.Size--<br>	&#125;<br>	<span class="hljs-keyword">return</span><br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your MyLinkedList object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor();</span><br><span class="hljs-comment"> * param_1 := obj.Get(index);</span><br><span class="hljs-comment"> * obj.AddAtHead(val);</span><br><span class="hljs-comment"> * obj.AddAtTail(val);</span><br><span class="hljs-comment"> * obj.AddAtIndex(index,val);</span><br><span class="hljs-comment"> * obj.DeleteAtIndex(index);</span><br><span class="hljs-comment"> */</span><br></code></pre></td></tr></table></figure><p><img src="/../../imgs/Pasted%20image%2020240512222402.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs go"><br><span class="hljs-keyword">type</span> StockSpanner <span class="hljs-keyword">struct</span> &#123;<br>    stack [][<span class="hljs-number">2</span>]<span class="hljs-type">int</span><br>    idx   <span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">()</span></span> StockSpanner &#123;<br>    <span class="hljs-keyword">return</span> StockSpanner&#123;[][<span class="hljs-number">2</span>]<span class="hljs-type">int</span>&#123;&#123;<span class="hljs-number">-1</span>, math.MaxInt32&#125;&#125;, <span class="hljs-number">-1</span>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *StockSpanner)</span></span> Next(price <span class="hljs-type">int</span>) <span class="hljs-type">int</span> &#123;<br>    s.idx++<br>    <span class="hljs-keyword">for</span> price &gt;= s.stack[<span class="hljs-built_in">len</span>(s.stack)<span class="hljs-number">-1</span>][<span class="hljs-number">1</span>] &#123;<br>        s.stack = s.stack[:<span class="hljs-built_in">len</span>(s.stack)<span class="hljs-number">-1</span>]<br>    &#125;<br>    s.stack = <span class="hljs-built_in">append</span>(s.stack, [<span class="hljs-number">2</span>]<span class="hljs-type">int</span>&#123;s.idx, price&#125;)<br>    <span class="hljs-keyword">return</span> s.idx - s.stack[<span class="hljs-built_in">len</span>(s.stack)<span class="hljs-number">-2</span>][<span class="hljs-number">0</span>]<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your StockSpanner object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor();</span><br><span class="hljs-comment"> * param_1 := obj.Next(price);</span><br><span class="hljs-comment"> */</span><br><br></code></pre></td></tr></table></figure><h1 id="901-股票价格跨度"><a href="#901-股票价格跨度" class="headerlink" title="901. 股票价格跨度"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/online-stock-span/">901. 股票价格跨度</a></h1><p><img src="/../../imgs/Pasted%20image%2020240512222459.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs go"><br><span class="hljs-keyword">type</span> StockSpanner <span class="hljs-keyword">struct</span> &#123;<br>    stack [][<span class="hljs-number">2</span>]<span class="hljs-type">int</span><br>    idx   <span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">()</span></span> StockSpanner &#123;<br>    <span class="hljs-keyword">return</span> StockSpanner&#123;[][<span class="hljs-number">2</span>]<span class="hljs-type">int</span>&#123;&#123;<span class="hljs-number">-1</span>, math.MaxInt32&#125;&#125;, <span class="hljs-number">-1</span>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *StockSpanner)</span></span> Next(price <span class="hljs-type">int</span>) <span class="hljs-type">int</span> &#123;<br>    s.idx++<br>    <span class="hljs-keyword">for</span> price &gt;= s.stack[<span class="hljs-built_in">len</span>(s.stack)<span class="hljs-number">-1</span>][<span class="hljs-number">1</span>] &#123;<br>        s.stack = s.stack[:<span class="hljs-built_in">len</span>(s.stack)<span class="hljs-number">-1</span>]<br>    &#125;<br>    s.stack = <span class="hljs-built_in">append</span>(s.stack, [<span class="hljs-number">2</span>]<span class="hljs-type">int</span>&#123;s.idx, price&#125;)<br>    <span class="hljs-keyword">return</span> s.idx - s.stack[<span class="hljs-built_in">len</span>(s.stack)<span class="hljs-number">-2</span>][<span class="hljs-number">0</span>]<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your StockSpanner object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor();</span><br><span class="hljs-comment"> * param_1 := obj.Next(price);</span><br><span class="hljs-comment"> */</span><br><br></code></pre></td></tr></table></figure><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/design-underground-system/">1396. 设计地铁系统</a><br><img src="/../../imgs/Pasted%20image%2020240512222605.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> user <span class="hljs-keyword">struct</span> &#123;<br>	id <span class="hljs-type">int</span><br>	startTime <span class="hljs-type">int</span><br>	endTime <span class="hljs-type">int</span><br>	startStationName <span class="hljs-type">string</span><br>	endStatationName <span class="hljs-type">string</span><br>&#125;<br><br><span class="hljs-keyword">type</span> UndergroundSystem <span class="hljs-keyword">struct</span> &#123;<br>	userMap <span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]*user<br>	pathMap <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>][]<span class="hljs-type">int</span> <span class="hljs-comment">// 存放对应路程的用时，用于计算平均时间</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">()</span></span> UndergroundSystem &#123;<br>	<span class="hljs-comment">// 初始化</span><br>	<span class="hljs-keyword">return</span> UndergroundSystem&#123;<span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]*user),<span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>][]<span class="hljs-type">int</span>)&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *UndergroundSystem)</span></span> CheckIn(id <span class="hljs-type">int</span>, stationName <span class="hljs-type">string</span>, t <span class="hljs-type">int</span>) &#123;<br>	<span class="hljs-comment">//userMap 添加</span><br>	this.userMap[id] = &amp;user&#123;id:id&#125; <span class="hljs-comment">// 重点！！！ 这里多层嵌套指针的时候现需要新建指针初始化，否则会报错找不到该地址</span><br>	this.userMap[id].startTime = t<br>	this.userMap[id].startStationName = stationName<br>	<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *UndergroundSystem)</span></span> CheckOut(id <span class="hljs-type">int</span>, stationName <span class="hljs-type">string</span>, t <span class="hljs-type">int</span>) &#123;<br>	<span class="hljs-comment">//出站时，更新user.end* ;append pathmap</span><br>	useTime := <span class="hljs-number">0</span><br>	<span class="hljs-keyword">if</span> _,ok := this.userMap[id] ;ok &#123;<br>		this.userMap[id].endTime = t<br>		this.userMap[id].endStatationName = stationName<br>	&#125;<br><br>	mapKey := this.userMap[id].startStationName +<span class="hljs-string">&quot;-&gt;&quot;</span> + this.userMap[id].endStatationName<br>	useTime = this.userMap[id].endTime - this.userMap[id].startTime<br>	this.pathMap[mapKey] = <span class="hljs-built_in">append</span>(this.pathMap[mapKey],useTime)<br><br>&#125;<br>	<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *UndergroundSystem)</span></span> GetAverageTime(startStation <span class="hljs-type">string</span>, endStation <span class="hljs-type">string</span>) <span class="hljs-type">float64</span> &#123;<br>	mapKey := startStation +<span class="hljs-string">&quot;-&gt;&quot;</span> + endStation<br>	<span class="hljs-keyword">return</span> average(this.pathMap[mapKey])<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">average</span><span class="hljs-params">(s []<span class="hljs-type">int</span>)</span></span> <span class="hljs-type">float64</span> &#123;<br>	sum := <span class="hljs-number">0</span><br>	<span class="hljs-keyword">for</span> _,v := <span class="hljs-keyword">range</span> s &#123;<br>		sum +=v<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-type">float64</span>(sum)/<span class="hljs-type">float64</span>(<span class="hljs-built_in">len</span>(s))<br>&#125;<br><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your UndergroundSystem object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor();</span><br><span class="hljs-comment"> * obj.CheckIn(id,stationName,t);</span><br><span class="hljs-comment"> * obj.CheckOut(id,stationName,t);</span><br><span class="hljs-comment"> * param_3 := obj.GetAverageTime(startStation,endStation);</span><br><span class="hljs-comment"> */</span><br><br></code></pre></td></tr></table></figure><h1 id="1476-子矩形查询"><a href="#1476-子矩形查询" class="headerlink" title="1476. 子矩形查询"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/subrectangle-queries/">1476. 子矩形查询</a></h1><p><img src="/../../imgs/Pasted%20image%2020240512222653.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> SubrectangleQueries <span class="hljs-keyword">struct</span> &#123;<br>	<span class="hljs-comment">// 需要什么数据结构呢？ 1. 一个二维数组</span><br>	rectangle [][]<span class="hljs-type">int</span><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">(rectangle [][]<span class="hljs-type">int</span>)</span></span> SubrectangleQueries &#123;<br>	<span class="hljs-keyword">return</span> SubrectangleQueries&#123;rectangle: rectangle&#125;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *SubrectangleQueries)</span></span> UpdateSubrectangle(row1 <span class="hljs-type">int</span>, col1 <span class="hljs-type">int</span>, row2 <span class="hljs-type">int</span>, col2 <span class="hljs-type">int</span>, newValue <span class="hljs-type">int</span>)  &#123;<br>	<span class="hljs-keyword">for</span> i:=row1;i &lt;= row2;i++ &#123;<br>		<span class="hljs-keyword">for</span> j:= col1; j &lt;= col2; j++ &#123;<br>			this.rectangle[i][j] = newValue<br>		&#125;<br>	&#125;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *SubrectangleQueries)</span></span> GetValue(row <span class="hljs-type">int</span>, col <span class="hljs-type">int</span>) <span class="hljs-type">int</span> &#123;<br>	<span class="hljs-keyword">return</span> this.rectangle[row][col]<br>&#125;<br><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your SubrectangleQueries object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor(rectangle);</span><br><span class="hljs-comment"> * obj.UpdateSubrectangle(row1,col1,row2,col2,newValue);</span><br><span class="hljs-comment"> * param_2 := obj.GetValue(row,col);</span><br><span class="hljs-comment"> */</span><br><br></code></pre></td></tr></table></figure><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/seat-reservation-manager/">1845. 座位预约管理系统</a><br><img src="/../../imgs/Pasted%20image%2020240512222738.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs go"><br><br><span class="hljs-keyword">type</span> SeatManager <span class="hljs-keyword">struct</span> &#123;<br>	seats []<span class="hljs-type">int</span><br>	min <span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">(n <span class="hljs-type">int</span>)</span></span> SeatManager &#123;<br>	set:=<span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>,n+<span class="hljs-number">2</span>)<br>	<span class="hljs-keyword">return</span> SeatManager&#123;seats:set,min:<span class="hljs-number">1</span>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *SeatManager)</span></span> Reserve() <span class="hljs-type">int</span> &#123;<br>	value := this.min<br>	this.seats[value]=<span class="hljs-number">1</span><br>	length := <span class="hljs-built_in">len</span> (this.seats)<br>	fmt.Println(length)<br>	i:=value<br>	<span class="hljs-keyword">for</span> ;i&lt;length+<span class="hljs-number">1</span>;i++&#123;<br>		<span class="hljs-keyword">if</span> this.seats[i]==<span class="hljs-number">1</span>&#123;<br>			<span class="hljs-keyword">continue</span><br>		&#125;<br>		this.min=i <span class="hljs-comment">// 中间变量，更新下次的最小座位号</span><br>		<span class="hljs-keyword">break</span><br>	&#125;<br>	<span class="hljs-keyword">return</span> value <span class="hljs-comment">// 最小的座位号</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *SeatManager)</span></span> Unreserve(seatNumber <span class="hljs-type">int</span>)  &#123;<br>	this.seats[seatNumber] = <span class="hljs-number">0</span><br>	<span class="hljs-keyword">if</span> seatNumber &lt; this.min&#123;<br>		this.min=seatNumber<br>	&#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="1993-树上的操作"><a href="#1993-树上的操作" class="headerlink" title="1993. 树上的操作"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/operations-on-tree/">1993. 树上的操作</a></h1><p><img src="/../../imgs/Pasted%20image%2020240512222930.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> LockingTree <span class="hljs-keyword">struct</span> &#123;<br>    parent []<span class="hljs-type">int</span><br>    lockNodeUser []<span class="hljs-type">int</span><br>    children [][]<span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">(parent []<span class="hljs-type">int</span>)</span></span> LockingTree &#123;<br>    n := <span class="hljs-built_in">len</span>(parent)<br>    lockNodeUser := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, n)<br>    children := <span class="hljs-built_in">make</span>([][]<span class="hljs-type">int</span>, n)<br>    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; n; i++ &#123;<br>        lockNodeUser[i] = <span class="hljs-number">-1</span><br>        p := parent[i]<br>        <span class="hljs-keyword">if</span> p != <span class="hljs-number">-1</span> &#123;<br>            children[p] = <span class="hljs-built_in">append</span>(children[p], i)<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> LockingTree&#123;parent, lockNodeUser, children&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *LockingTree)</span></span> Lock(num <span class="hljs-type">int</span>, user <span class="hljs-type">int</span>) <span class="hljs-type">bool</span> &#123;<br>    <span class="hljs-keyword">if</span> this.lockNodeUser[num] == <span class="hljs-number">-1</span> &#123;<br>        this.lockNodeUser[num] = user<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>    &#125; <br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *LockingTree)</span></span> Unlock(num <span class="hljs-type">int</span>, user <span class="hljs-type">int</span>) <span class="hljs-type">bool</span> &#123;<br>    <span class="hljs-keyword">if</span> this.lockNodeUser[num] == user &#123;<br>        this.lockNodeUser[num] = <span class="hljs-number">-1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *LockingTree)</span></span> Upgrade(num <span class="hljs-type">int</span>, user <span class="hljs-type">int</span>) <span class="hljs-type">bool</span> &#123;<br>    res := this.lockNodeUser[num] == <span class="hljs-number">-1</span> &amp;&amp; !this.hasLockedAncestor(num) &amp;&amp; this.checkAndUnlockDescendant(num)<br>    <span class="hljs-keyword">if</span> res &#123;<br>        this.lockNodeUser[num] = user<br>    &#125;<br>    <span class="hljs-keyword">return</span> res<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *LockingTree)</span></span> hasLockedAncestor(num <span class="hljs-type">int</span>) <span class="hljs-type">bool</span> &#123;<br>    num = this.parent[num]<br>    <span class="hljs-keyword">for</span> num != <span class="hljs-number">-1</span> &#123;<br>        <span class="hljs-keyword">if</span> this.lockNodeUser[num] != <span class="hljs-number">-1</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>        &#125;<br>        num = this.parent[num]<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *LockingTree)</span></span> checkAndUnlockDescendant(num <span class="hljs-type">int</span>) <span class="hljs-type">bool</span> &#123;<br>    res := <span class="hljs-literal">false</span><br>    <span class="hljs-keyword">if</span> this.lockNodeUser[num] != <span class="hljs-number">-1</span> &#123;<br>        res = <span class="hljs-literal">true</span><br>    &#125;<br>    this.lockNodeUser[num] = <span class="hljs-number">-1</span><br>    <span class="hljs-keyword">for</span> _, child := <span class="hljs-keyword">range</span> this.children[num] &#123;<br>        <span class="hljs-keyword">if</span> this.checkAndUnlockDescendant(child) &#123;<br>            res = <span class="hljs-literal">true</span><br>        &#125;<br>    &#125;            <br>    <span class="hljs-keyword">return</span> res<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="2241-设计一个-ATM-机器"><a href="#2241-设计一个-ATM-机器" class="headerlink" title="2241. 设计一个 ATM 机器"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/design-an-atm-machine/">2241. 设计一个 ATM 机器</a></h1><p><img src="/../../imgs/Pasted%20image%2020240512223036.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> ATM <span class="hljs-keyword">struct</span> &#123;<br>	orderList []<span class="hljs-type">int</span><br>	amountMap <span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]<span class="hljs-type">int</span> <span class="hljs-comment">// map 是多余的</span><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">()</span></span> ATM &#123;<br>	<span class="hljs-keyword">return</span> ATM&#123;<br>		<span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">5</span>),<br>		<span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">int</span>]<span class="hljs-type">int</span>),<span class="hljs-comment">// 初始化 使用make 多练习多学习，保持手感。</span><br>	&#125;<br>&#125;<br><br><span class="hljs-keyword">var</span> price [<span class="hljs-number">5</span>]<span class="hljs-type">int</span> = [<span class="hljs-number">5</span>]<span class="hljs-type">int</span>&#123;<span class="hljs-number">20</span>, <span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">500</span>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *ATM)</span></span> Deposit(banknotesCount []<span class="hljs-type">int</span>) &#123;<br>	<span class="hljs-keyword">for</span> i , count := <span class="hljs-keyword">range</span> banknotesCount&#123;<br>		this.orderList[i] += count<br>	<br>    &#125;<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *ATM)</span></span> Withdraw(amount <span class="hljs-type">int</span>) []<span class="hljs-type">int</span> &#123;<br>	<span class="hljs-comment">//使用整除法</span><br>	ans := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">5</span>)<br>	<span class="hljs-keyword">for</span> i := <span class="hljs-number">4</span>; i &gt;= <span class="hljs-number">0</span>; i-- &#123;<br>		ans[i] = min(amount/price[i],this.orderList[i])<br>		amount -= ans[i]*price[i]<br>	&#125;<br>	<span class="hljs-keyword">if</span> amount &gt; <span class="hljs-number">0</span> &#123;<br>		<span class="hljs-keyword">return</span> []<span class="hljs-type">int</span>&#123;<span class="hljs-number">-1</span>&#125;<br>	&#125;<br>	<span class="hljs-keyword">for</span> idx,v := <span class="hljs-keyword">range</span> ans &#123;<br>		this.orderList[idx] -= v<br>	&#125;<br>	<span class="hljs-keyword">return</span> ans <span class="hljs-comment">// 注意试着返回是需要钞票的数量，不是钞票的剩余数量</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">min</span><span class="hljs-params">(a, b <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> &#123;<br>	<span class="hljs-keyword">if</span> a &gt; b &#123;<br>		<span class="hljs-keyword">return</span> b<br>	&#125;<br>	<span class="hljs-keyword">return</span> a<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="2353-设计食物评分系统"><a href="#2353-设计食物评分系统" class="headerlink" title="2353. 设计食物评分系统"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/design-a-food-rating-system/">2353. 设计食物评分系统</a></h1><p><img src="/../../imgs/Pasted%20image%2020240512223102.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> FoodRatings <span class="hljs-keyword">struct</span> &#123;<br>    Map <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]*FoodHeap<br>    NameMap <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]*Food<br>&#125;<br><br><br><span class="hljs-keyword">type</span> Food <span class="hljs-keyword">struct</span> &#123;<br>    Name, C <span class="hljs-type">string</span><br>    Rating, Idx <span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-comment">// 实现堆</span><br><span class="hljs-keyword">type</span> FoodHeap []*Food<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(h FoodHeap)</span></span> String() <span class="hljs-type">string</span>  &#123;<br>    res := <span class="hljs-string">&quot;&quot;</span><br>    <span class="hljs-keyword">for</span> _, f := <span class="hljs-keyword">range</span> h &#123;<br>        res = fmt.Sprintf(<span class="hljs-string">&quot;%s -&gt; (%v, %v)&quot;</span>, res, f.Name, f.Rating)    <br>    &#125;<br>    <span class="hljs-keyword">return</span> res<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(h FoodHeap)</span></span> Len() <span class="hljs-type">int</span> &#123; <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(h) &#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(h FoodHeap)</span></span> Swap(i, j <span class="hljs-type">int</span>) &#123; <br>    h[i], h[i].Idx, h[j], h[j].Idx = h[j], h[j].Idx, h[i], h[i].Idx<br>&#125;<br><br><br><span class="hljs-comment">// 大顶堆 如果分数相同，Name 字典序小的更大</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(h FoodHeap)</span></span> Less(i, j <span class="hljs-type">int</span>) <span class="hljs-type">bool</span> &#123; <br>    <span class="hljs-keyword">if</span> h[j].Rating == h[i].Rating &#123;<br>        <span class="hljs-keyword">return</span> h[i].Name &lt; h[j].Name<br>    &#125;<br>    <span class="hljs-keyword">return</span> h[j].Rating &lt; h[i].Rating<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(h *FoodHeap)</span></span> Push(f <span class="hljs-keyword">interface</span>&#123;&#125;) &#123;<br>	<span class="hljs-comment">// Push and Pop use pointer receivers because they modify the slice&#x27;s length,</span><br>	<span class="hljs-comment">// not just its contents.</span><br>    food := f.(*Food)<br>    food.Idx = h.Len()<br>	*h = <span class="hljs-built_in">append</span>(*h, food)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(h *FoodHeap)</span></span> Pop() <span class="hljs-keyword">interface</span>&#123;&#125;   &#123; a := *h; v := a[<span class="hljs-built_in">len</span>(a) - <span class="hljs-number">1</span>]; *h = a[:<span class="hljs-built_in">len</span>(a) - <span class="hljs-number">1</span>]; <span class="hljs-keyword">return</span> v &#125;<br><br><br><span class="hljs-comment">// 以烹饪方式对评分归类</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">(foods []<span class="hljs-type">string</span>, cuisines []<span class="hljs-type">string</span>, ratings []<span class="hljs-type">int</span>)</span></span> FoodRatings &#123;<br>    f := FoodRatings&#123;<br>        Map: <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]*FoodHeap),<br>        NameMap: <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]*Food, <span class="hljs-built_in">len</span>(foods)),<br>    &#125;<br>    <span class="hljs-keyword">var</span> (<br>        food *Food<br>        h *FoodHeap<br>        has <span class="hljs-type">bool</span><br>    )<br>    <span class="hljs-keyword">for</span> idx := <span class="hljs-keyword">range</span> foods &#123;<br>        food = &amp;Food &#123;<br>            foods[idx],<br>            cuisines[idx],<br>            ratings[idx],<br>            <span class="hljs-number">0</span>,<br>        &#125;<br>        f.NameMap[foods[idx]] = food<br>        <br>        <span class="hljs-keyword">if</span> h, has = f.Map[cuisines[idx]]; !has &#123;<br>            h = &amp;FoodHeap&#123;&#125;<br>            f.Map[cuisines[idx]] = h<br>        &#125;<br>    <br>        heap.Push(h, food)<br>    &#125;<br>    <span class="hljs-keyword">return</span> f<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *FoodRatings)</span></span> ChangeRating(food <span class="hljs-type">string</span>, newRating <span class="hljs-type">int</span>)  &#123;<br>    f := this.NameMap[food]<br>    h := this.Map[f.C]<br>    f.Rating = newRating<br>    <br>    heap.Fix(h, f.Idx)        <br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *FoodRatings)</span></span> HighestRated(cuisine <span class="hljs-type">string</span>) <span class="hljs-type">string</span> &#123;<br>    h := this.Map[cuisine]<br>    <span class="hljs-keyword">if</span> h.Len() == <span class="hljs-number">0</span> &#123;<br>        <span class="hljs-keyword">return</span> cuisine + <span class="hljs-string">&quot;No exist&quot;</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> (*h)[<span class="hljs-number">0</span>].Name<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="LCR-184-设计自助结算系统"><a href="#LCR-184-设计自助结算系统" class="headerlink" title="LCR 184. 设计自助结算系统"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/dui-lie-de-zui-da-zhi-lcof/">LCR 184. 设计自助结算系统</a></h1><p><img src="/../../imgs/Pasted%20image%2020240512223239.png" srcset="/img/loading.gif" lazyload></p><blockquote></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> MaxQueue <span class="hljs-keyword">struct</span> &#123;<br>    q1 []<span class="hljs-type">int</span><br>    max []<span class="hljs-type">int</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Constructor</span><span class="hljs-params">()</span></span> MaxQueue &#123;<br>    <span class="hljs-keyword">return</span> MaxQueue&#123;<br>        <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>,<span class="hljs-number">0</span>),<br>        <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>,<span class="hljs-number">0</span>),<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MaxQueue)</span></span> Max_value() <span class="hljs-type">int</span> &#123;<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(this.max) == <span class="hljs-number">0</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> this.max[<span class="hljs-number">0</span>]<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MaxQueue)</span></span> Push_back(value <span class="hljs-type">int</span>)  &#123;<br>    this.q1 = <span class="hljs-built_in">append</span>(this.q1,value)<br>    <span class="hljs-keyword">for</span> <span class="hljs-built_in">len</span>(this.max) != <span class="hljs-number">0</span> &amp;&amp; value &gt; this.max[<span class="hljs-built_in">len</span>(this.max)<span class="hljs-number">-1</span>]&#123;<br>        this.max = this.max[:<span class="hljs-built_in">len</span>(this.max)<span class="hljs-number">-1</span>]<br>    &#125;<br>    this.max = <span class="hljs-built_in">append</span>(this.max,value)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(this *MaxQueue)</span></span> Pop_front() <span class="hljs-type">int</span> &#123;<br>    n := <span class="hljs-number">-1</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(this.q1) != <span class="hljs-number">0</span>&#123;<br>        n = this.q1[<span class="hljs-number">0</span>]<br>        this.q1 = this.q1[<span class="hljs-number">1</span>:]<br>        <span class="hljs-keyword">if</span> this.max[<span class="hljs-number">0</span>] == n&#123;<br>            this.max = this.max[<span class="hljs-number">1</span>:]<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> n<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your MaxQueue object will be instantiated and called as such:</span><br><span class="hljs-comment"> * obj := Constructor();</span><br><span class="hljs-comment"> * param_1 := obj.Max_value();</span><br><span class="hljs-comment"> * obj.Push_back(value);</span><br><span class="hljs-comment"> * param_3 := obj.Pop_front();</span><br><span class="hljs-comment"> */</span><br><br>作者：Sakura<br>链接：https:<span class="hljs-comment">//leetcode.cn/problems/dui-lie-de-zui-da-zhi-lcof/solutions/135149/golang-shuang-dui-lie-by-sakura-151/</span><br>来源：力扣（LeetCode）<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。<br><br></code></pre></td></tr></table></figure></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/leetcode/" class="category-chain-item">leetcode</a></span></span></div></div><div class="license-box my-3"><div class="license-title"><div>设计题 总结</div><div>https://leiqi.top/2024-04-05-d9f9294c39ef.html</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Lei Qi</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2024年4月6日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2024-04-11-22166b2f52d0.html" title="Golang slice作为参数传递给函数需要使用指针"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">Golang slice作为参数传递给函数需要使用指针</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2024-04-05-e1116cf34b00.html" title="windows IE代理问题解决"><span class="hidden-mobile">windows IE代理问题解决</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments("#valine",function(){Fluid.utils.createScript("https://lib.baomitu.com/valine/1.5.1/Valine.min.js",function(){var i=Object.assign({appId:"adkgmMmfMC1DMgYcjg960d5a-gzGzoHsz",appKey:"RTNGcd7iOxYeuwCSRE5LHm2D",path:"window.location.pathname",placeholder:"点击这里输入你的真知灼见吧！输入邮箱后支持评论回复邮件通知哦！支持MarkDown语法~~~ PS: 在昵称框输入QQ号可自动获取QQ昵称和QQ头像哦！期待你的精彩评论！",avatar:"",meta:["nick","mail"],requiredFields:["nick","mail"],pageSize:10,lang:"zh-CN",highlight:!1,recordIP:!0,serverURLs:"",emojiCDN:null,emojiMaps:null,visitor:!0,enableQQ:!0},{el:"#valine",path:window.location.pathname});new Valine(i),Fluid.utils.waitElementVisible("#valine .vcontent",()=>{var i="#valine .vcontent img:not(.vemoji)";Fluid.plugins.imageCaption(i),Fluid.plugins.fancyBox(i)})})})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://leiqi.top" target="_blank" rel="nofollow noopener"><span>Copyright ©Lei Qi 2022-<script>document.write((new Date).getFullYear())</script>. All right reserved.</span></a><br><a href="https://leiqi.top" target="_blank" rel="nofollow noopener"><span>国内加速网站访问</span></a> <a onclick="navigator.clipboard.writeText(&quot;https://leiqichn.github.io/atom.xml&quot;);alert(&quot;已复制RSS地址到剪切板，快来订阅我的博客吧！&quot;)">获取RSS订阅地址</a><br><a href="https://github.com/leiqichn" target="_blank" rel="nofollow noopener"><span>Github | </span></a><a href="https://blog.csdn.net/lei_qi" target="_blank" rel="nofollow noopener"><span>CSDN | </span></a><a href="mailto:leiqi@fudan.edu.cn" target="_blank" rel="nofollow noopener"><span>Email | </span></a><a href="/imgs/qrcode.jpg" target="_blank" rel="nofollow noopener"><span>微信公众号</span></a></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-t},CONFIG.toc)),0<o.find(".toc-list-item").length&&o.css("visibility","visible"),Fluid.events.registerRefreshCallback(function(){var t;"tocbot"in window&&(tocbot.refresh(),0!==(t=jQuery("#toc")).length)&&tocbot&&0<t.find(".toc-list-item").length&&t.css("visibility","visible")}))})</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n,o=[];for(n of(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","))o.push(".markdown-body > "+n.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback(function(){if("anchors"in window){anchors.removeAll();var n,o=[];for(n of(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","))o.push(".markdown-body > "+n.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}})})</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript><script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js?t=1741534058245").then(function(){console.log("ServiceWorker Register Successfully.")}).catch(function(e){console.error(e)})</script></body></html>