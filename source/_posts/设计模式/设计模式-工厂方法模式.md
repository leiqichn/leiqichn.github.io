---
title: 设计模式-工厂方法模式
date: 2023-09-03 13:09:25
modificationDate: 2023 九月 3日 星期日 13:09:25
categories: 
	- 设计模式
tags: []
sticky: []
hide: false
category_bar: true
---
网站链接：
[工厂方法设计模式 (refactoringguru.cn)](https://refactoringguru.cn/design-patterns/factory-method)

# 简介
工厂方法模式 她是一种创建型设计模式，其在父类中提供一种船舰对象的方法，允许子类决定实例化对象的类型。
![](../../imgs/Pasted%20image%2020230903131943.png)
> 其实就是使用简单工厂类
‘简单工厂模式’，也就是说，到底要实例化谁，将来会不会增加实例化的对象，比如增加开根运算，这是很容易变化的地方，应该考虑用一个单独的类来做这个创造实例的过程，这就是工厂

![](../../imgs/Pasted%20image%2020230903134040.png)
![](../../imgs/Pasted%20image%2020230903133944.png)
简单工厂就是在需要的时候, 创建对应的类. 每个类都相互独立,互不影响, 如果增加代码,不会编译之前的类, 减少编译时间.
## UML类图如何看
![](../../imgs/Pasted%20image%2020230903132154.png)

首先你看那个‘动物’矩形框，它就代表一个类（Class）。类图分三层，第一层显示类的名称，如果是抽象类，则就用斜体显示。第二层是类的特性，通常就是字段和属性。第三层是类的操作，通常是方法或行为。注意前面的符号，‘+’表示public，‘-’表示private，‘#’表示protected。”

![](../../imgs/Pasted%20image%2020230903134233.png)

**接口:** 

![](https://res.weread.qq.com/wrepub/CB_85fDPzDPICld6ht6gW5IeD0Q_Image00017.jpg)

‘飞翔’，它表示一个接口图，与类图的区别主要是顶端有interface显示。第一行是接口名称，第二行是接口方法。接口还有另一种表示方法，俗称棒棒糖表示法，比如图中的唐老鸭类就是实现了‘讲人话’的接口.


**类和类之间的关系:** 继承的关系，继承关系用空心三角形+实线来表示
![](../../imgs/Pasted%20image%2020230903134840.png)

**聚合:** 我们再来看大雁与雁群这两个类，大雁是群居动物，每只大雁都是属于一个雁群，一个雁群可以有多只大雁。所以它们之间就满足聚合（Aggregation）关系。聚合表示一种弱的‘拥有’关系，体现的是A对象可以包含B对象，但B对象不是A对象的一部分 [DPE]（DPE表示此句摘自《设计模式》（第2版），详细摘要说明见附录二）。聚合关系用空心的菱形+实线箭头来表示。

![](../../imgs/Pasted%20image%2020230903140037.png)
**合成**（Composition，也有翻译成‘**组合**’的）是一种强的‘拥有’关系，体现了严格的部分和整体的关系，部分和整体的生命周期一样 [DPE]。在这里鸟和其翅膀就是合成（组合）关系，因为它们是部分和整体的关系，并且翅膀和鸟的生命周期是相同的。合成关系用实心的菱形+实线箭头来表示。另外，你会注意到合成关系的连线两端还有一个数字‘1’和数字‘2’，这被称为基数。表明这一端的类可以有几个实例，很显然，一个鸟应该有两只翅膀。如果一个类可能有无数个实例，则就用‘n’来表示。关联关系、聚合关系也可以有基数的。
![](../../imgs/Pasted%20image%2020230903140113.png)

**依赖**
![](../../imgs/Pasted%20image%2020230903140305.png)
