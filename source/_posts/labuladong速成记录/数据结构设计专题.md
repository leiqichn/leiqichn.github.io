
---
title: æ•°æ®ç»“æ„è®¾è®¡ä¸“é¢˜
date: 2025-03-06 22:56:44
modificationDate: 2025 ä¸‰æœˆ 6æ—¥ æ˜ŸæœŸå›› 23:03:50
categories: 
	- labuladongé€Ÿæˆè®°å½•
tags: []
sticky: []
hide: false
category_bar: true
---

#### [æ•°æ®ç»“æ„è®¾è®¡](https://labuladong.online/algo/intro/quick-learning-plan/#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1)

| LeetCode                                                                                                                     | åŠ›æ‰£                                                                                              | éš¾åº¦  | æ˜¯å¦å®Œæˆ        |
| ---------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- | --- | ----------- |
| [146. LRU Cache](https://leetcode.com/problems/lru-cache/?show=1)                                                            | [146. LRU ç¼“å­˜](https://leetcode.cn/problems/lru-cache/?show=1)                                   | ğŸŸ   | 202050306ğŸŸ¢ |
| [460. LFU Cache](https://leetcode.com/problems/lfu-cache/?show=1)                                                            | [460. LFU ç¼“å­˜](https://leetcode.cn/problems/lfu-cache/?show=1)                                   | ğŸ”´  | ğŸ”´          |
| [729. My Calendar I](https://leetcode.com/problems/my-calendar-i/?show=1)                                                    | [729. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ I](https://leetcode.cn/problems/my-calendar-i/?show=1)                            | ğŸŸ   | ğŸ”´          |
| [950. Reveal Cards In Increasing Order](https://leetcode.com/problems/reveal-cards-in-increasing-order/?show=1)              | [950. æŒ‰é€’å¢é¡ºåºæ˜¾ç¤ºå¡ç‰Œ](https://leetcode.cn/problems/reveal-cards-in-increasing-order/?show=1)         | ğŸŸ   | ğŸ”´          |
| [1700. Number of Students Unable to Eat Lunch](https://leetcode.com/problems/number-of-students-unable-to-eat-lunch/?show=1) | [1700. æ— æ³•åƒåˆé¤çš„å­¦ç”Ÿæ•°é‡](https://leetcode.cn/problems/number-of-students-unable-to-eat-lunch/?show=1) | ğŸŸ¢  | 202050307ğŸŸ¢ |
| [155. Min Stack](https://leetcode.com/problems/min-stack/?show=1)                                                            | [155. æœ€å°æ ˆ](https://leetcode.cn/problems/min-stack/?show=1)                                      | ğŸŸ   | ğŸ”´          |
| [1670. Design Front Middle Back Queue](https://leetcode.com/problems/design-front-middle-back-queue/?show=1)                 | [1670. è®¾è®¡å‰ä¸­åé˜Ÿåˆ—](https://leetcode.cn/problems/design-front-middle-back-queue/?show=1)            | ğŸŸ   | ğŸ”´          |
| [895. Maximum Frequency Stack](https://leetcode.com/problems/maximum-frequency-stack/?show=1)                                | [895. æœ€å¤§é¢‘ç‡æ ˆ](https://leetcode.cn/problems/maximum-frequency-stack/?show=1)                      | ğŸ”´  | ğŸ”´          |
| [224. Basic Calculator](https://leetcode.com/problems/basic-calculator/?show=1)                                              | [224. åŸºæœ¬è®¡ç®—å™¨](https://leetcode.cn/problems/basic-calculator/?show=1)                             | ğŸ”´  | ğŸ”´          |
| [227. Basic Calculator II](https://leetcode.com/problems/basic-calculator-ii/?show=1)                                        | [227. åŸºæœ¬è®¡ç®—å™¨ II](https://leetcode.cn/problems/basic-calculator-ii/?show=1)                       | ğŸŸ   | ğŸ”´          |

# [146. LRU ç¼“å­˜](https://leetcode.cn/problems/lru-cache/)

è¯·è®¾è®¡ æœ€è¿‘ æœ€å°‘ä½¿ç”¨ çº¦æŸçš„æ•°æ®ç»“æ„



20250307 39 åˆ†é’Ÿè°ƒè¯•å®Œæˆï¼Œéœ€è¦ç¡®è®¤çš„æ˜¯ï¼ŒListåˆå§‹åŒ–éœ€è¦ä¸ºç©ºï¼Œè€Œä¸æ˜¯orderList: make([]int, capacity) è¿™ä¸ªæ˜¯åˆ›å»ºcapacityä¸ª0

```go
type LRUCache struct {
	orderList []int
	cacheMaps map[int]int
	capacity  int
}

func Constructor(capacity int) LRUCache {
	return LRUCache{
		orderList: make([]int, 0, capacity), // 39 åˆ†é’Ÿè°ƒè¯•å®Œæˆï¼Œéœ€è¦ç¡®è®¤çš„æ˜¯ï¼ŒListåˆå§‹åŒ–éœ€è¦ä¸ºç©ºï¼Œè€Œä¸æ˜¯orderList: make([]int, capacity) è¿™ä¸ªæ˜¯åˆ›å»ºcapacityä¸ª0
		cacheMaps: make(map[int]int, capacity),
		capacity:  capacity,
	}
}

func (this *LRUCache) Get(key int) int {
	// key å­˜åœ¨ä¸å•ç‹¬çš„ç¯å¢ƒä¸­
	if _, ok := this.cacheMaps[key]; ok {
		this.Update(key)
		return this.cacheMaps[key]
	}
	return -1
}

func (this *LRUCache) Update(key int) {
	// æ›´æ–°key åˆ°æœ€æ–°ä½ç½®
	for i := 0; i < len(this.orderList); i++ {
		if this.orderList[i] == key {
			this.orderList = append(this.orderList[:i], append(this.orderList[i+1:], this.orderList[i])...)
		}
	}
}

func (this *LRUCache) Put(key int, value int) {
	if _, ok := this.cacheMaps[key]; ok {
		// æ›´æ–°key
		this.cacheMaps[key] = value
		this.Update(key)
	}  else if len(this.cacheMaps) >= this.capacity {
        fmt.Println("=",len(this.orderList), len(this.cacheMaps), this.capacity)
		// åˆ é™¤key
		oldKey := this.orderList[0]
		this.orderList = this.orderList[1:]
		delete(this.cacheMaps, oldKey)
		// æ–°å»ºkey
		this.cacheMaps[key] = value
		this.orderList = append(this.orderList, key)
	}else if len(this.cacheMaps) < this.capacity {
        fmt.Println("<", len(this.orderList), len(this.cacheMaps), this.capacity)
		// æ–°å»ºkey
		this.cacheMaps[key] = value
		this.orderList = append(this.orderList, key)
    }
}














# O(1) æ–¹æ³•åŒå‘åˆ—è¡¨ï¼Œmap ä¸­ç›´æ¥ä¿å­˜åˆ—è¡¨å…ƒç´ æŒ‡é’ˆï¼Œ


Â·Â·Â·go


type LRUCache struct {
	cacheMaps map[int]*list.Element
	orderList *list.List
	capacity  int
}

type entry struct {
	key   int
	value int
}

func Constructor(capacity int) LRUCache {
	return LRUCache{
		cacheMaps: make(map[int]*list.Element, capacity),
		orderList: list.New(),
		capacity:  capacity,
	}
}

func (this *LRUCache) Get(key int) int {
	if elem, ok := this.cacheMaps[key]; ok {
		this.orderList.MoveToBack(elem)
		return elem.Value.(entry).value
	}
	return -1
}

func (this *LRUCache) Put(key int, value int) {
	if elem, ok := this.cacheMaps[key]; ok {
		// æ›´æ–°å·²å­˜åœ¨çš„é”®
		elem.Value = entry{key: key, value: value}
		this.orderList.MoveToBack(elem)
	} else {
		// æ’å…¥æ–°é”®
		if len(this.cacheMaps) == this.capacity {
			// åˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„é”®
			frontElem := this.orderList.Front()
			delete(this.cacheMaps, frontElem.Value.(entry).key)
			this.orderList.Remove(frontElem)
		}
		// æ’å…¥æ–°é”®åˆ°é“¾è¡¨æœ«å°¾
		newElem := this.orderList.PushBack(entry{key: key, value: value})
		this.cacheMaps[key] = newElem
	}
}
```

# [1700. æ— æ³•åƒåˆé¤çš„å­¦ç”Ÿæ•°é‡](https://leetcode.cn/problems/number-of-students-unable-to-eat-lunch/)
![](../../imgs/Pasted%20image%2020250307231252.png)

```go
package leetcode1700  
  
// 9åˆ†é’Ÿå®Œæˆ  
func countStudents(students []int, sandwiches []int) int {  
    // æ ˆæ¨¡æ‹Ÿ  
    // ç»“æŸæ¡ä»¶  
    // åŒå­¦ä¸­æ•°å­—éƒ½ç›¸åŒï¼Œä¸”ä¸ç­‰äºæ ˆé¡¶å…ƒç´  [0]  
    for !isEnd(students, sandwiches) {  
       if sandwiches[0] == students[0] {  
          sandwiches = sandwiches[1:]  
          students = students[1:]  
       } else {  
          students = append(students[1:], students[0])  
       }  
    }  
  
    return len(students)  
}  
  
func isEnd(students []int, sandwiches []int) bool {  
    for _, val := range students {  
       if val == sandwiches[0] {  
          return false  
       }  
    }  
    return true  
}

```
