import e from"@babel/runtime-corejs3/core-js-stable/object/keys";import t from"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols";import r from"@babel/runtime-corejs3/core-js-stable/instance/filter";import n from"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor";import a from"@babel/runtime-corejs3/core-js-stable/instance/for-each";import i from"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors";import o from"@babel/runtime-corejs3/core-js-stable/object/define-properties";import s from"@babel/runtime-corejs3/core-js-stable/object/define-property";import l from"@babel/runtime-corejs3/helpers/asyncToGenerator";import f from"@babel/runtime-corejs3/helpers/classCallCheck";import h from"@babel/runtime-corejs3/helpers/createClass";import d from"@babel/runtime-corejs3/helpers/defineProperty";import u from"@babel/runtime-corejs3/helpers/typeof";import c from"@babel/runtime-corejs3/regenerator";function _(a,i){var o=e(a);if(t){var s=t(a);i&&(s=r(s).call(s,(function(e){return n(a,e).enumerable}))),o.push.apply(o,s)}return o}function v(e){for(var t=1;t<arguments.length;t++){var r,l,f=null!=arguments[t]?arguments[t]:{};t%2?a(r=_(Object(f),!0)).call(r,(function(t){d(e,t,f[t])})):i?o(e,i(f)):a(l=_(Object(f))).call(l,(function(t){s(e,t,n(f,t))}))}return e}import p from"@babel/runtime-corejs3/core-js-stable/promise";import b from"@babel/runtime-corejs3/core-js-stable/instance/slice";import w from"@babel/runtime-corejs3/core-js-stable/instance/index-of";import g from"@babel/runtime-corejs3/core-js-stable/instance/sort";import m from"@babel/runtime-corejs3/core-js-stable/instance/flags";import y from"@babel/runtime-corejs3/core-js-stable/instance/concat";import k from"@babel/runtime-corejs3/core-js-stable/instance/includes";function x(e){return new p((function(t,r){var n=new FileReader;n.onloadstart=function(){console.log("文件上传处理......")},n.onload=function(e){n.result&&"string"==typeof n.result&&t(n.result)},n.onerror=function(e){r(e)},n.readAsDataURL(e)}))}var A={exports:{}};!function(e){var t,r,n={};A.exports=n,n.parse=function(e,t){for(var r=n.bin.readUshort,a=n.bin.readUint,i=0,o={},s=new Uint8Array(e),l=s.length-4;101010256!=a(s,l);)l--;i=l;i+=4;var f=r(s,i+=4);r(s,i+=2);var h=a(s,i+=2),d=a(s,i+=4);i+=4,i=d;for(var u=0;u<f;u++){a(s,i),i+=4,i+=4,i+=4,a(s,i+=4);h=a(s,i+=4);var c=a(s,i+=4),_=r(s,i+=4),v=r(s,i+2),p=r(s,i+4);i+=6;var b=a(s,i+=8);i+=4,i+=_+v+p,n._readLocal(s,b,o,h,c,t)}return o},n._readLocal=function(e,t,r,a,i,o){var s,l=n.bin.readUshort,f=n.bin.readUint;f(e,t),l(e,t+=4),l(e,t+=2);var h=l(e,t+=2);f(e,t+=2),f(e,t+=4),t+=4;var d=l(e,t+=8),u=l(e,t+=2);t+=2;var c=n.bin.readUTF8(e,t,d);if(t+=d,t+=u,o)r[c]={size:i,csize:a};else{var _=new Uint8Array(e.buffer,t);if(0==h)r[c]=new Uint8Array(b(s=_.buffer).call(s,t,t+a));else{if(8!=h)throw"unknown compression method: "+h;var v=new Uint8Array(i);n.inflateRaw(_,v),r[c]=v}}},n.inflateRaw=function(e,t){return n.F.inflate(e,t)},n.inflate=function(e,t){return e[0],e[1],n.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},n.deflate=function(e,t){null==t&&(t={level:6});var r=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[r]=120,a[r+1]=156,r+=2,r=n.F.deflateRaw(e,a,r,t.level);var i=n.adler(e,0,e.length);return a[r+0]=i>>>24&255,a[r+1]=i>>>16&255,a[r+2]=i>>>8&255,a[r+3]=i>>>0&255,new Uint8Array(a.buffer,0,r+4)},n.deflateRaw=function(e,t){null==t&&(t={level:6});var r=new Uint8Array(50+Math.floor(1.1*e.length)),a=n.F.deflateRaw(e,r,a,t.level);return new Uint8Array(r.buffer,0,a)},n.encode=function(e,t){null==t&&(t=!1);var r=0,a=n.bin.writeUint,i=n.bin.writeUshort,o={};for(var s in e){var l=!n._noNeed(s)&&!t,f=e[s],h=n.crc.crc(f,0,f.length);o[s]={cpr:l,usize:f.length,crc:h,file:l?n.deflateRaw(f):f}}for(var s in o)r+=o[s].file.length+30+46+2*n.bin.sizeUTF8(s);r+=22;var d=new Uint8Array(r),u=0,c=[];for(var s in o){var _=o[s];c.push(u),u=n._writeHeader(d,u,s,_,0)}var v=0,p=u;for(var s in o){_=o[s];c.push(u),u=n._writeHeader(d,u,s,_,1,c[v++])}var b=u-p;return a(d,u,101010256),u+=4,i(d,u+=4,v),i(d,u+=2,v),a(d,u+=2,b),a(d,u+=4,p),u+=4,u+=2,d.buffer},n._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!=w("png,jpg,jpeg,zip").call("png,jpg,jpeg,zip",t)},n._writeHeader=function(e,t,r,a,i,o){var s=n.bin.writeUint,l=n.bin.writeUshort,f=a.file;return s(e,t,0==i?67324752:33639248),t+=4,1==i&&(t+=2),l(e,t,20),l(e,t+=2,0),l(e,t+=2,a.cpr?8:0),s(e,t+=2,0),s(e,t+=4,a.crc),s(e,t+=4,f.length),s(e,t+=4,a.usize),l(e,t+=4,n.bin.sizeUTF8(r)),l(e,t+=2,0),t+=2,1==i&&(t+=2,t+=2,s(e,t+=6,o),t+=4),t+=n.bin.writeUTF8(e,t,r),0==i&&(e.set(f,t),t+=f.length),t},n.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(e,t,r,a){for(var i=0;i<a;i++)e=n.crc.table[255&(e^t[r+i])]^e>>>8;return e},crc:function(e,t,r){return 4294967295^n.crc.update(4294967295,e,t,r)}},n.adler=function(e,t,r){for(var n=1,a=0,i=t,o=t+r;i<o;){for(var s=Math.min(i+5552,o);i<s;)a+=n+=e[i++];n%=65521,a%=65521}return a<<16|n},n.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,r){e[t]=255&r,e[t+1]=r>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,r){e[t]=255&r,e[t+1]=r>>8&255,e[t+2]=r>>16&255,e[t+3]=r>>24&255},readASCII:function(e,t,r){for(var n="",a=0;a<r;a++)n+=String.fromCharCode(e[t+a]);return n},writeASCII:function(e,t,r){for(var n=0;n<r.length;n++)e[t+n]=r.charCodeAt(n)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,r){for(var a,i="",o=0;o<r;o++)i+="%"+n.bin.pad(e[t+o].toString(16));try{a=decodeURIComponent(i)}catch(a){return n.bin.readASCII(e,t,r)}return a},writeUTF8:function(e,t,r){for(var n=r.length,a=0,i=0;i<n;i++){var o=r.charCodeAt(i);if(0==(4294967168&o))e[t+a]=o,a++;else if(0==(4294965248&o))e[t+a]=192|o>>6,e[t+a+1]=128|o>>0&63,a+=2;else if(0==(4294901760&o))e[t+a]=224|o>>12,e[t+a+1]=128|o>>6&63,e[t+a+2]=128|o>>0&63,a+=3;else{if(0!=(4292870144&o))throw"e";e[t+a]=240|o>>18,e[t+a+1]=128|o>>12&63,e[t+a+2]=128|o>>6&63,e[t+a+3]=128|o>>0&63,a+=4}}return a},sizeUTF8:function(e){for(var t=e.length,r=0,n=0;n<t;n++){var a=e.charCodeAt(n);if(0==(4294967168&a))r++;else if(0==(4294965248&a))r+=2;else if(0==(4294901760&a))r+=3;else{if(0!=(4292870144&a))throw"e";r+=4}}return r}},n.F={},n.F.deflateRaw=function(e,t,r,a){var i=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],o=n.F.U,s=n.F._goodIndex;n.F._hash;var l=n.F._putsE,f=0,h=r<<3,d=0,u=e.length;if(0==a){for(;f<u;){l(t,h,f+(A=Math.min(65535,u-f))==u?1:0),h=n.F._copyExact(e,f,A,t,h+8),f+=A}return h>>>3}var c=o.lits,_=o.strt,v=o.prev,p=0,b=0,w=0,g=0,m=0,y=0;for(u>2&&(_[y=n.F._hash(e,0)]=0),f=0;f<u;f++){if(m=y,f+1<u-2){y=n.F._hash(e,f+1);var k=f+1&32767;v[k]=_[y],_[y]=k}if(d<=f){(p>14e3||b>26697)&&u-f>100&&(d<f&&(c[p]=f-d,p+=2,d=f),h=n.F._writeBlock(f==u-1||d==u?1:0,c,p,g,e,w,f-w,t,h),p=b=g=0,w=f);var x=0;f<u-2&&(x=n.F._bestMatch(e,f,v,m,Math.min(i[2],u-f),i[3]));var A=x>>>16,U=65535&x;if(0!=x){U=65535&x;var z=s(A=x>>>16,o.of0);o.lhst[257+z]++;var F=s(U,o.df0);o.dhst[F]++,g+=o.exb[z]+o.dxb[F],c[p]=A<<23|f-d,c[p+1]=U<<16|z<<8|F,p+=2,d=f+A}else o.lhst[e[f]]++;b++}}for(w==f&&0!=e.length||(d<f&&(c[p]=f-d,p+=2,d=f),h=n.F._writeBlock(1,c,p,g,e,w,f-w,t,h),p=0,b=0,p=b=g=0,w=f);0!=(7&h);)h++;return h>>>3},n.F._bestMatch=function(e,t,r,a,i,o){var s=32767&t,l=r[s],f=s-l+32768&32767;if(l==s||a!=n.F._hash(e,t-f))return 0;for(var h=0,d=0,u=Math.min(32767,t);f<=u&&0!=--o&&l!=s;){if(0==h||e[t+h]==e[t+h-f]){var c=n.F._howLong(e,t,f);if(c>h){if(d=f,(h=c)>=i)break;f+2<c&&(c=f+2);for(var _=0,v=0;v<c-2;v++){var p=t-f+v+32768&32767,b=p-r[p]+32768&32767;b>_&&(_=b,l=p)}}}f+=(s=l)-(l=r[s])+32768&32767}return h<<16|d},n.F._howLong=function(e,t,r){if(e[t]!=e[t-r]||e[t+1]!=e[t+1-r]||e[t+2]!=e[t+2-r])return 0;var n=t,a=Math.min(e.length,t+258);for(t+=3;t<a&&e[t]==e[t-r];)t++;return t-n},n.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(e,t,r,a,i,o,s,l,f){var h,d,u,c,_,v,p,b,w,g=n.F.U,m=n.F._putsF,y=n.F._putsE;g.lhst[256]++,d=(h=n.F.getTrees())[0],u=h[1],c=h[2],_=h[3],v=h[4],p=h[5],b=h[6],w=h[7];var k=32+(0==(f+3&7)?0:8-(f+3&7))+(s<<3),x=a+n.F.contSize(g.fltree,g.lhst)+n.F.contSize(g.fdtree,g.dhst),A=a+n.F.contSize(g.ltree,g.lhst)+n.F.contSize(g.dtree,g.dhst);A+=14+3*p+n.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var U=0;U<286;U++)g.lhst[U]=0;for(U=0;U<30;U++)g.dhst[U]=0;for(U=0;U<19;U++)g.ihst[U]=0;var z=k<x&&k<A?0:x<A?1:2;if(m(l,f,e),m(l,f+1,z),f+=3,0==z){for(;0!=(7&f);)f++;f=n.F._copyExact(i,o,s,l,f)}else{var F,R;if(1==z&&(F=g.fltree,R=g.fdtree),2==z){n.F.makeCodes(g.ltree,d),n.F.revCodes(g.ltree,d),n.F.makeCodes(g.dtree,u),n.F.revCodes(g.dtree,u),n.F.makeCodes(g.itree,c),n.F.revCodes(g.itree,c),F=g.ltree,R=g.dtree,y(l,f,_-257),y(l,f+=5,v-1),y(l,f+=5,p-4),f+=4;for(var E=0;E<p;E++)y(l,f+3*E,g.itree[1+(g.ordr[E]<<1)]);f+=3*p,f=n.F._codeTiny(b,g.itree,l,f),f=n.F._codeTiny(w,g.itree,l,f)}for(var T=o,S=0;S<r;S+=2){for(var I=t[S],Z=I>>>23,D=T+(8388607&I);T<D;)f=n.F._writeLit(i[T++],F,l,f);if(0!=Z){var C=t[S+1],M=C>>16,L=C>>8&255,H=255&C;y(l,f=n.F._writeLit(257+L,F,l,f),Z-g.of0[L]),f+=g.exb[L],m(l,f=n.F._writeLit(H,R,l,f),M-g.df0[H]),f+=g.dxb[H],T+=Z}}f=n.F._writeLit(256,F,l,f)}return f},n.F._copyExact=function(e,t,r,n,a){var i=a>>>3;return n[i]=r,n[i+1]=r>>>8,n[i+2]=255-n[i],n[i+3]=255-n[i+1],i+=4,n.set(new Uint8Array(e.buffer,t,r),i),a+(r+4<<3)},n.F.getTrees=function(){for(var e=n.F.U,t=n.F._hufTree(e.lhst,e.ltree,15),r=n.F._hufTree(e.dhst,e.dtree,15),a=[],i=n.F._lenCodes(e.ltree,a),o=[],s=n.F._lenCodes(e.dtree,o),l=0;l<a.length;l+=2)e.ihst[a[l]]++;for(l=0;l<o.length;l+=2)e.ihst[o[l]]++;for(var f=n.F._hufTree(e.ihst,e.itree,7),h=19;h>4&&0==e.itree[1+(e.ordr[h-1]<<1)];)h--;return[t,r,f,i,s,h,a,o]},n.F.getSecond=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(e[r+1]);return t},n.F.nonZero=function(e){for(var t="",r=0;r<e.length;r+=2)0!=e[r+1]&&(t+=(r>>1)+",");return t},n.F.contSize=function(e,t){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[1+(n<<1)];return r},n.F._codeTiny=function(e,t,r,a){for(var i=0;i<e.length;i+=2){var o=e[i],s=e[i+1];a=n.F._writeLit(o,t,r,a);var l=16==o?2:17==o?3:7;o>15&&(n.F._putsE(r,a,s,l),a+=l)}return a},n.F._lenCodes=function(e,t){for(var r=e.length;2!=r&&0==e[r-1];)r-=2;for(var n=0;n<r;n+=2){var a=e[n+1],i=n+3<r?e[n+3]:-1,o=n+5<r?e[n+5]:-1,s=0==n?-1:e[n-1];if(0==a&&i==a&&o==a){for(var l=n+5;l+2<r&&e[l+2]==a;)l+=2;(f=Math.min(l+1-n>>>1,138))<11?t.push(17,f-3):t.push(18,f-11),n+=2*f-2}else if(a==s&&i==a&&o==a){for(l=n+5;l+2<r&&e[l+2]==a;)l+=2;var f=Math.min(l+1-n>>>1,6);t.push(16,f-3),n+=2*f-2}else t.push(a,0)}return r>>>1},n.F._hufTree=function(e,t,r){var a=[],i=e.length,o=t.length,s=0;for(s=0;s<o;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<i;s++)0!=e[s]&&a.push({lit:s,f:e[s]});var l=a.length,f=b(a).call(a,0);if(0==l)return 0;if(1==l){var h=a[0].lit;f=0==h?1:0;return t[1+(h<<1)]=1,t[1+(f<<1)]=1,1}g(a).call(a,(function(e,t){return e.f-t.f}));var d=a[0],u=a[1],c=0,_=1,v=2;for(a[0]={lit:-1,f:d.f+u.f,l:d,r:u,d:0};_!=l-1;)d=c!=_&&(v==l||a[c].f<a[v].f)?a[c++]:a[v++],u=c!=_&&(v==l||a[c].f<a[v].f)?a[c++]:a[v++],a[_++]={lit:-1,f:d.f+u.f,l:d,r:u};var p=n.F.setDepth(a[_-1],0);for(p>r&&(n.F.restrictDepth(f,r,p),p=r),s=0;s<l;s++)t[1+(f[s].lit<<1)]=f[s].d;return p},n.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(n.F.setDepth(e.l,t+1),n.F.setDepth(e.r,t+1))},n.F.restrictDepth=function(e,t,r){var n=0,a=1<<r-t,i=0;for(g(e).call(e,(function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),n=0;n<e.length&&e[n].d>t;n++){var o=e[n].d;e[n].d=t,i+=a-(1<<r-o)}for(i>>>=r-t;i>0;){(o=e[n].d)<t?(e[n].d++,i-=1<<t-o-1):n++}for(;n>=0;n--)e[n].d==t&&i<0&&(e[n].d--,i++);0!=i&&console.log("debt left")},n.F._goodIndex=function(e,t){var r=0;return t[16|r]<=e&&(r|=16),t[8|r]<=e&&(r|=8),t[4|r]<=e&&(r|=4),t[2|r]<=e&&(r|=2),t[1|r]<=e&&(r|=1),r},n.F._writeLit=function(e,t,r,a){return n.F._putsF(r,a,t[e<<1]),a+t[1+(e<<1)]},n.F.inflate=function(e,t){var r=Uint8Array;if(3==e[0]&&0==e[1])return t||new r(0);var a=n.F,i=a._bitsF,o=a._bitsE,s=a._decodeTiny,l=a.makeCodes,f=a.codes2map,h=a._get17,d=a.U,u=null==t;u&&(t=new r(e.length>>>2<<3));for(var c,_,v=0,p=0,w=0,g=0,m=0,y=0,k=0,x=0,A=0;0==v;)if(v=i(e,A,1),p=i(e,A+1,2),A+=3,0!=p){if(u&&(t=n.F._check(t,x+(1<<17))),1==p&&(c=d.flmap,_=d.fdmap,y=511,k=31),2==p){w=o(e,A,5)+257,g=o(e,A+5,5)+1,m=o(e,A+10,4)+4,A+=14;for(var U=0;U<38;U+=2)d.itree[U]=0,d.itree[U+1]=0;var z=1;for(U=0;U<m;U++){var F=o(e,A+3*U,3);d.itree[1+(d.ordr[U]<<1)]=F,F>z&&(z=F)}A+=3*m,l(d.itree,z),f(d.itree,z,d.imap),c=d.lmap,_=d.dmap,A=s(d.imap,(1<<z)-1,w+g,e,A,d.ttree);var R=a._copyOut(d.ttree,0,w,d.ltree);y=(1<<R)-1;var E=a._copyOut(d.ttree,w,g,d.dtree);k=(1<<E)-1,l(d.ltree,R),f(d.ltree,R,c),l(d.dtree,E),f(d.dtree,E,_)}for(;;){var T=c[h(e,A)&y];A+=15&T;var S=T>>>4;if(S>>>8==0)t[x++]=S;else{if(256==S)break;var I=x+S-254;if(S>264){var Z=d.ldef[S-257];I=x+(Z>>>3)+o(e,A,7&Z),A+=7&Z}var D=_[h(e,A)&k];A+=15&D;var C=D>>>4,M=d.ddef[C],L=(M>>>4)+i(e,A,15&M);for(A+=15&M,u&&(t=n.F._check(t,x+(1<<17)));x<I;)t[x]=t[x++-L],t[x]=t[x++-L],t[x]=t[x++-L],t[x]=t[x++-L];x=I}}}else{0!=(7&A)&&(A+=8-(7&A));var H=4+(A>>>3),N=e[H-4]|e[H-3]<<8;u&&(t=n.F._check(t,x+N)),t.set(new r(e.buffer,e.byteOffset+H,N),x),A=H+N<<3,x+=N}return t.length==x?t:b(t).call(t,0,x)},n.F._check=function(e,t){var r=e.length;if(t<=r)return e;var n=new Uint8Array(Math.max(r<<1,t));return n.set(e,0),n},n.F._decodeTiny=function(e,t,r,a,i,o){for(var s=n.F._bitsE,l=n.F._get17,f=0;f<r;){var h=e[l(a,i)&t];i+=15&h;var d=h>>>4;if(d<=15)o[f]=d,f++;else{var u=0,c=0;16==d?(c=3+s(a,i,2),i+=2,u=o[f-1]):17==d?(c=3+s(a,i,3),i+=3):18==d&&(c=11+s(a,i,7),i+=7);for(var _=f+c;f<_;)o[f]=u,f++}}return i},n.F._copyOut=function(e,t,r,n){for(var a=0,i=0,o=n.length>>>1;i<r;){var s=e[i+t];n[i<<1]=0,n[1+(i<<1)]=s,s>a&&(a=s),i++}for(;i<o;)n[i<<1]=0,n[1+(i<<1)]=0,i++;return a},n.F.makeCodes=function(e,t){for(var r,a,i,o,s=n.F.U,l=e.length,f=s.bl_count,h=0;h<=t;h++)f[h]=0;for(h=1;h<l;h+=2)f[e[h]]++;var d=s.next_code;for(r=0,f[0]=0,a=1;a<=t;a++)r=r+f[a-1]<<1,d[a]=r;for(i=0;i<l;i+=2)0!=(o=e[i+1])&&(e[i]=d[o],d[o]++)},n.F.codes2map=function(e,t,r){for(var a=e.length,i=n.F.U.rev15,o=0;o<a;o+=2)if(0!=e[o+1])for(var s=o>>1,l=e[o+1],f=s<<4|l,h=t-l,d=e[o]<<h,u=d+(1<<h);d!=u;){r[i[d]>>>15-t]=f,d++}},n.F.revCodes=function(e,t){for(var r=n.F.U.rev15,a=15-t,i=0;i<e.length;i+=2){var o=e[i]<<t-e[i+1];e[i]=r[o]>>>a}},n.F._putsE=function(e,t,r){r<<=7&t;var n=t>>>3;e[n]|=r,e[n+1]|=r>>>8},n.F._putsF=function(e,t,r){r<<=7&t;var n=t>>>3;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},n.F._bitsE=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<r)-1},n.F._bitsF=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<r)-1},n.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},n.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},n.F.U=(t=Uint16Array,r=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var e=n.F.U,t=0;t<32768;t++){var r=t;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,e.rev15[t]=(r>>>16|r<<16)>>>17}function a(e,t,r){for(;0!=t--;)e.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),n.F.makeCodes(e.fltree,9),n.F.codes2map(e.fltree,9,e.flmap),n.F.revCodes(e.fltree,9),a(e.fdtree,32,5),n.F.makeCodes(e.fdtree,5),n.F.codes2map(e.fdtree,5,e.fdmap),n.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()}();var U=A.exports,z={},F={},R={},E={};function T(e){for(var t=e.length;--t>=0;)e[t]=0}var S=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),I=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Z=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C=new Array(576);T(C);var M=new Array(60);T(M);var L=new Array(512);T(L);var H=new Array(256);T(H);var N=new Array(29);T(N);var j,B,O,q=new Array(30);function P(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}function G(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}T(q);var K=function(e){return e<256?L[e]:L[256+(e>>>7)]},Y=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},X=function(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,Y(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Q=function(e,t,r){X(e,r[2*t],r[2*t+1])},V=function(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},W=function(e,t,r){var n,a,i=new Array(16),o=0;for(n=1;n<=15;n++)i[n]=o=o+r[n-1]<<1;for(a=0;a<=t;a++){var s=e[2*a+1];0!==s&&(e[2*a]=V(i[s]++,s))}},$=function(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},J=function(e){e.bi_valid>8?Y(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ee=function(e,t,r,n){var a=2*t,i=2*r;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]},te=function(e,t,r){for(var n=e.heap[r],a=r<<1;a<=e.heap_len&&(a<e.heap_len&&ee(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!ee(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n},re=function(e,t,r){var n,a,i,o,s=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],a=e.pending_buf[e.l_buf+s],s++,0===n?Q(e,a,t):(i=H[a],Q(e,i+256+1,t),0!==(o=S[i])&&(a-=N[i],X(e,a,o)),n--,i=K(n),Q(e,i,r),0!==(o=I[i])&&(n-=q[i],X(e,n,o)))}while(s<e.last_lit);Q(e,256,t)},ne=function(e,t){var r,n,a,i=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<l;r++)0!==i[2*r]?(e.heap[++e.heap_len]=f=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=f<2?++f:0)]=1,e.depth[a]=0,e.opt_len--,s&&(e.static_len-=o[2*a+1]);for(t.max_code=f,r=e.heap_len>>1;r>=1;r--)te(e,i,r);a=l;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],te(e,i,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,i[2*a]=i[2*r]+i[2*n],e.depth[a]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,i[2*r+1]=i[2*n+1]=a,e.heap[1]=a++,te(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,a,i,o,s,l=t.dyn_tree,f=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,c=t.stat_desc.extra_base,_=t.stat_desc.max_length,v=0;for(i=0;i<=15;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(i=l[2*l[2*(n=e.heap[r])+1]+1]+1)>_&&(i=_,v++),l[2*n+1]=i,n>f||(e.bl_count[i]++,o=0,n>=c&&(o=u[n-c]),s=l[2*n],e.opt_len+=s*(i+o),d&&(e.static_len+=s*(h[2*n+1]+o)));if(0!==v){do{for(i=_-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[_]--,v-=2}while(v>0);for(i=_;0!==i;i--)for(n=e.bl_count[i];0!==n;)(a=e.heap[--r])>f||(l[2*a+1]!==i&&(e.opt_len+=(i-l[2*a+1])*l[2*a],l[2*a+1]=i),n--)}}(e,t),W(i,f,e.bl_count)},ae=function(e,t,r){var n,a,i=-1,o=t[1],s=0,l=7,f=4;for(0===o&&(l=138,f=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)a=o,o=t[2*(n+1)+1],++s<l&&a===o||(s<f?e.bl_tree[2*a]+=s:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,i=a,0===o?(l=138,f=3):a===o?(l=6,f=3):(l=7,f=4))},ie=function(e,t,r){var n,a,i=-1,o=t[1],s=0,l=7,f=4;for(0===o&&(l=138,f=3),n=0;n<=r;n++)if(a=o,o=t[2*(n+1)+1],!(++s<l&&a===o)){if(s<f)do{Q(e,a,e.bl_tree)}while(0!=--s);else 0!==a?(a!==i&&(Q(e,a,e.bl_tree),s--),Q(e,16,e.bl_tree),X(e,s-3,2)):s<=10?(Q(e,17,e.bl_tree),X(e,s-3,3)):(Q(e,18,e.bl_tree),X(e,s-11,7));s=0,i=a,0===o?(l=138,f=3):a===o?(l=6,f=3):(l=7,f=4)}},oe=!1,se=function(e,t,r,n){X(e,0+(n?1:0),3),function(e,t,r,n){J(e),n&&(Y(e,r),Y(e,~r)),e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r}(e,t,r,!0)};E._tr_init=function(e){oe||(!function(){var e,t,r,n,a,i=new Array(16);for(r=0,n=0;n<28;n++)for(N[n]=r,e=0;e<1<<S[n];e++)H[r++]=n;for(H[r-1]=n,a=0,n=0;n<16;n++)for(q[n]=a,e=0;e<1<<I[n];e++)L[a++]=n;for(a>>=7;n<30;n++)for(q[n]=a<<7,e=0;e<1<<I[n]-7;e++)L[256+a++]=n;for(t=0;t<=15;t++)i[t]=0;for(e=0;e<=143;)C[2*e+1]=8,e++,i[8]++;for(;e<=255;)C[2*e+1]=9,e++,i[9]++;for(;e<=279;)C[2*e+1]=7,e++,i[7]++;for(;e<=287;)C[2*e+1]=8,e++,i[8]++;for(W(C,287,i),e=0;e<30;e++)M[2*e+1]=5,M[2*e]=V(e,5);j=new P(C,S,257,286,15),B=new P(M,I,0,30,15),O=new P(new Array(0),Z,0,19,7)}(),oe=!0),e.l_desc=new G(e.dyn_ltree,j),e.d_desc=new G(e.dyn_dtree,B),e.bl_desc=new G(e.bl_tree,O),e.bi_buf=0,e.bi_valid=0,$(e)},E._tr_stored_block=se,E._tr_flush_block=function(e,t,r,n){var a,i,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),ne(e,e.l_desc),ne(e,e.d_desc),o=function(e){var t;for(ae(e,e.dyn_ltree,e.l_desc.max_code),ae(e,e.dyn_dtree,e.d_desc.max_code),ne(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*D[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=r+5,r+4<=a&&-1!==t?se(e,t,r,n):4===e.strategy||i===a?(X(e,2+(n?1:0),3),re(e,C,M)):(X(e,4+(n?1:0),3),function(e,t,r,n){var a;for(X(e,t-257,5),X(e,r-1,5),X(e,n-4,4),a=0;a<n;a++)X(e,e.bl_tree[2*D[a]+1],3);ie(e,e.dyn_ltree,t-1),ie(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),re(e,e.dyn_ltree,e.dyn_dtree)),$(e),n&&J(e)},E._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(H[r]+256+1)]++,e.dyn_dtree[2*K(t)]++),e.last_lit===e.lit_bufsize-1},E._tr_align=function(e){X(e,2,3),Q(e,256,C),function(e){16===e.bi_valid?(Y(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)};var le=function(e,t,r,n){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{i=i+(a=a+t[n++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16|0},fe=new Uint32Array(function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}()),he=function(e,t,r,n){var a=fe,i=n+r;e^=-1;for(var o=n;o<i;o++)e=e>>>8^a[255&(e^t[o])];return-1^e},de={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ue={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ce=E._tr_init,_e=E._tr_stored_block,ve=E._tr_flush_block,pe=E._tr_tally,be=E._tr_align,we=le,ge=he,me=de,ye=ue.Z_NO_FLUSH,ke=ue.Z_PARTIAL_FLUSH,xe=ue.Z_FULL_FLUSH,Ae=ue.Z_FINISH,Ue=ue.Z_BLOCK,ze=ue.Z_OK,Fe=ue.Z_STREAM_END,Re=ue.Z_STREAM_ERROR,Ee=ue.Z_DATA_ERROR,Te=ue.Z_BUF_ERROR,Se=ue.Z_DEFAULT_COMPRESSION,Ie=ue.Z_FILTERED,Ze=ue.Z_HUFFMAN_ONLY,De=ue.Z_RLE,Ce=ue.Z_FIXED,Me=ue.Z_DEFAULT_STRATEGY,Le=ue.Z_UNKNOWN,He=ue.Z_DEFLATED,Ne=function(e,t){return e.msg=me[t],t},je=function(e){return(e<<1)-(e>4?9:0)},Be=function(e){for(var t=e.length;--t>=0;)e[t]=0},Oe=function(e,t,r){return(t<<e.hash_shift^r)&e.hash_mask},qe=function(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},Pe=function(e,t){ve(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,qe(e.strm)},Ge=function(e,t){e.pending_buf[e.pending++]=t},Ke=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ye=function(e,t){var r,n,a=e.max_chain_length,i=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,f=e.window,h=e.w_mask,d=e.prev,u=e.strstart+258,c=f[i+o-1],_=f[i+o];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(f[(r=t)+o]===_&&f[r+o-1]===c&&f[r]===f[i]&&f[++r]===f[i+1]){i+=2,r++;do{}while(f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&f[++i]===f[++r]&&i<u);if(n=258-(u-i),i=u-258,n>o){if(e.match_start=t,o=n,n>=s)break;c=f[i+o-1],_=f[i+o]}}}while((t=d[t&h])>l&&0!=--a);return o<=e.lookahead?o:e.lookahead},Xe=function(e){var t,r,n,a,i,o,s,l,f,h,d=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=d+(d-262)){e.window.set(e.window.subarray(d,d+d),0),e.match_start-=d,e.strstart-=d,e.block_start-=d,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=d?n-d:0}while(--r);t=r=d;do{n=e.prev[--t],e.prev[t]=n>=d?n-d:0}while(--r);a+=d}if(0===e.strm.avail_in)break;if(o=e.strm,s=e.window,l=e.strstart+e.lookahead,f=a,h=void 0,(h=o.avail_in)>f&&(h=f),r=0===h?0:(o.avail_in-=h,s.set(o.input.subarray(o.next_in,o.next_in+h),l),1===o.state.wrap?o.adler=we(o.adler,s,h,l):2===o.state.wrap&&(o.adler=ge(o.adler,s,h,l)),o.next_in+=h,o.total_in+=h,h),e.lookahead+=r,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Oe(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Oe(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},Qe=function(e,t){for(var r,n;;){if(e.lookahead<262){if(Xe(e),e.lookahead<262&&t===ye)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=Ye(e,r)),e.match_length>=3)if(n=pe(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+1]);else n=pe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Pe(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Ae?(Pe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pe(e,!1),0===e.strm.avail_out)?1:2},Ve=function(e,t){for(var r,n,a;;){if(e.lookahead<262){if(Xe(e),e.lookahead<262&&t===ye)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=Ye(e,r),e.match_length<=5&&(e.strategy===Ie||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,n=pe(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Pe(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=pe(e,0,e.window[e.strstart-1]))&&Pe(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=pe(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Ae?(Pe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pe(e,!1),0===e.strm.avail_out)?1:2};function We(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}var $e=[new We(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Xe(e),0===e.lookahead&&t===ye)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Pe(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(Pe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ae?(Pe(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Pe(e,!1),e.strm.avail_out),1)})),new We(4,4,8,4,Qe),new We(4,5,16,8,Qe),new We(4,6,32,32,Qe),new We(4,4,16,16,Ve),new We(8,16,32,32,Ve),new We(8,16,128,128,Ve),new We(8,32,128,256,Ve),new We(32,128,258,1024,Ve),new We(32,258,258,4096,Ve)];function Je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=He,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Be(this.dyn_ltree),Be(this.dyn_dtree),Be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var et=function(e){if(!e||!e.state)return Ne(e,Re);e.total_in=e.total_out=0,e.data_type=Le;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=ye,ce(t),ze},tt=function(e){var t,r=et(e);return r===ze&&((t=e.state).window_size=2*t.w_size,Be(t.head),t.max_lazy_match=$e[t.level].max_lazy,t.good_match=$e[t.level].good_length,t.nice_match=$e[t.level].nice_length,t.max_chain_length=$e[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r},rt=function(e,t,r,n,a,i){if(!e)return Re;var o=1;if(t===Se&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),a<1||a>9||r!==He||n<8||n>15||t<0||t>9||i<0||i>Ce)return Ne(e,Re);8===n&&(n=9);var s=new Je;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=i,s.method=r,tt(e)};R.deflateInit=function(e,t){return rt(e,t,He,15,8,Me)},R.deflateInit2=rt,R.deflateReset=tt,R.deflateResetKeep=et,R.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?Re:(e.state.gzhead=t,ze):Re},R.deflate=function(e,t){var r,n;if(!e||!e.state||t>Ue||t<0)return e?Ne(e,Re):Re;var a=e.state;if(!e.output||!e.input&&0!==e.avail_in||666===a.status&&t!==Ae)return Ne(e,0===e.avail_out?Te:Re);a.strm=e;var i=a.last_flush;if(a.last_flush=t,42===a.status)if(2===a.wrap)e.adler=0,Ge(a,31),Ge(a,139),Ge(a,8),a.gzhead?(Ge(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),Ge(a,255&a.gzhead.time),Ge(a,a.gzhead.time>>8&255),Ge(a,a.gzhead.time>>16&255),Ge(a,a.gzhead.time>>24&255),Ge(a,9===a.level?2:a.strategy>=Ze||a.level<2?4:0),Ge(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(Ge(a,255&a.gzhead.extra.length),Ge(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=ge(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(Ge(a,0),Ge(a,0),Ge(a,0),Ge(a,0),Ge(a,0),Ge(a,9===a.level?2:a.strategy>=Ze||a.level<2?4:0),Ge(a,3),a.status=113);else{var o=He+(a.w_bits-8<<4)<<8;o|=(a.strategy>=Ze||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(o|=32),o+=31-o%31,a.status=113,Ke(a,o),0!==a.strstart&&(Ke(a,e.adler>>>16),Ke(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(r=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>r&&(e.adler=ge(e.adler,a.pending_buf,a.pending-r,r)),qe(e),r=a.pending,a.pending!==a.pending_buf_size));)Ge(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>r&&(e.adler=ge(e.adler,a.pending_buf,a.pending-r,r)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){r=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>r&&(e.adler=ge(e.adler,a.pending_buf,a.pending-r,r)),qe(e),r=a.pending,a.pending===a.pending_buf_size)){n=1;break}n=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,Ge(a,n)}while(0!==n);a.gzhead.hcrc&&a.pending>r&&(e.adler=ge(e.adler,a.pending_buf,a.pending-r,r)),0===n&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){r=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>r&&(e.adler=ge(e.adler,a.pending_buf,a.pending-r,r)),qe(e),r=a.pending,a.pending===a.pending_buf_size)){n=1;break}n=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,Ge(a,n)}while(0!==n);a.gzhead.hcrc&&a.pending>r&&(e.adler=ge(e.adler,a.pending_buf,a.pending-r,r)),0===n&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&qe(e),a.pending+2<=a.pending_buf_size&&(Ge(a,255&e.adler),Ge(a,e.adler>>8&255),e.adler=0,a.status=113)):a.status=113),0!==a.pending){if(qe(e),0===e.avail_out)return a.last_flush=-1,ze}else if(0===e.avail_in&&je(t)<=je(i)&&t!==Ae)return Ne(e,Te);if(666===a.status&&0!==e.avail_in)return Ne(e,Te);if(0!==e.avail_in||0!==a.lookahead||t!==ye&&666!==a.status){var s=a.strategy===Ze?function(e,t){for(var r;;){if(0===e.lookahead&&(Xe(e),0===e.lookahead)){if(t===ye)return 1;break}if(e.match_length=0,r=pe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Pe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ae?(Pe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pe(e,!1),0===e.strm.avail_out)?1:2}(a,t):a.strategy===De?function(e,t){for(var r,n,a,i,o=e.window;;){if(e.lookahead<=258){if(Xe(e),e.lookahead<=258&&t===ye)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=o[a=e.strstart-1])===o[++a]&&n===o[++a]&&n===o[++a]){i=e.strstart+258;do{}while(n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&a<i);e.match_length=258-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=pe(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=pe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Pe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Ae?(Pe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pe(e,!1),0===e.strm.avail_out)?1:2}(a,t):$e[a.level].func(a,t);if(3!==s&&4!==s||(a.status=666),1===s||3===s)return 0===e.avail_out&&(a.last_flush=-1),ze;if(2===s&&(t===ke?be(a):t!==Ue&&(_e(a,0,0,!1),t===xe&&(Be(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),qe(e),0===e.avail_out))return a.last_flush=-1,ze}return t!==Ae?ze:a.wrap<=0?Fe:(2===a.wrap?(Ge(a,255&e.adler),Ge(a,e.adler>>8&255),Ge(a,e.adler>>16&255),Ge(a,e.adler>>24&255),Ge(a,255&e.total_in),Ge(a,e.total_in>>8&255),Ge(a,e.total_in>>16&255),Ge(a,e.total_in>>24&255)):(Ke(a,e.adler>>>16),Ke(a,65535&e.adler)),qe(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?ze:Fe)},R.deflateEnd=function(e){if(!e||!e.state)return Re;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?Ne(e,Re):(e.state=null,113===t?Ne(e,Ee):ze)},R.deflateSetDictionary=function(e,t){var r=t.length;if(!e||!e.state)return Re;var n=e.state,a=n.wrap;if(2===a||1===a&&42!==n.status||n.lookahead)return Re;if(1===a&&(e.adler=we(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===a&&(Be(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(t.subarray(r-n.w_size,r),0),t=i,r=n.w_size}var o=e.avail_in,s=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Xe(n);n.lookahead>=3;){var f=n.strstart,h=n.lookahead-2;do{n.ins_h=Oe(n,n.ins_h,n.window[f+3-1]),n.prev[f&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=f,f++}while(--h);n.strstart=f,n.lookahead=2,Xe(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=l,e.avail_in=o,n.wrap=a,ze},R.deflateInfo="pako deflate (from Nodeca project)";var nt={},at=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};nt.assign=function(e){for(var t=b(Array.prototype).call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!==u(r))throw new TypeError(r+"must be non-object");for(var n in r)at(r,n)&&(e[n]=r[n])}}return e},nt.flattenChunks=function(e){for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r].length;for(var a=new Uint8Array(t),i=0,o=0,s=e.length;i<s;i++){var l=e[i];a.set(l,o),o+=l.length}return a};var it={},ot=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ot=!1}for(var st=new Uint8Array(256),lt=0;lt<256;lt++)st[lt]=lt>=252?6:lt>=248?5:lt>=240?4:lt>=224?3:lt>=192?2:1;st[254]=st[254]=1,it.string2buf=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,a,i,o=e.length,s=0;for(a=0;a<o;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),i=0,a=0;i<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|63&r):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|63&r):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|63&r);return t};it.buf2string=function(e,t){var r,n,a=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var i=new Array(2*a);for(n=0,r=0;r<a;){var o=e[r++];if(o<128)i[n++]=o;else{var s=st[o];if(s>4)i[n++]=65533,r+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&r<a;)o=o<<6|63&e[r++],s--;s>1?i[n++]=65533:o<65536?i[n++]=o:(o-=65536,i[n++]=55296|o>>10&1023,i[n++]=56320|1023&o)}}}return function(e,t){if(t<65534&&e.subarray&&ot)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}(i,n)},it.utf8border=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+st[e[r]]>t?r:t};var ft=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ht=R,dt=nt,ut=it,ct=de,_t=ft,vt=Object.prototype.toString,pt=ue.Z_NO_FLUSH,bt=ue.Z_SYNC_FLUSH,wt=ue.Z_FULL_FLUSH,gt=ue.Z_FINISH,mt=ue.Z_OK,yt=ue.Z_STREAM_END,kt=ue.Z_DEFAULT_COMPRESSION,xt=ue.Z_DEFAULT_STRATEGY,At=ue.Z_DEFLATED;function Ut(e){this.options=dt.assign({level:kt,method:At,chunkSize:16384,windowBits:15,memLevel:8,strategy:xt},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _t,this.strm.avail_out=0;var r=ht.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==mt)throw new Error(ct[r]);if(t.header&&ht.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n="string"==typeof t.dictionary?ut.string2buf(t.dictionary):"[object ArrayBuffer]"===vt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=ht.deflateSetDictionary(this.strm,n))!==mt)throw new Error(ct[r]);this._dict_set=!0}}function zt(e,t){var r=new Ut(t);if(r.push(e,!0),r.err)throw r.msg||ct[r.err];return r.result}Ut.prototype.push=function(e,t){var r,n,a=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=t===~~t?t:!0===t?gt:pt,"string"==typeof e?a.input=ut.string2buf(e):"[object ArrayBuffer]"===vt.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(n===bt||n===wt)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if((r=ht.deflate(a,n))===yt)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),r=ht.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===mt;if(0!==a.avail_out){if(n>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},Ut.prototype.onData=function(e){this.chunks.push(e)},Ut.prototype.onEnd=function(e){e===mt&&(this.result=dt.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},F.Deflate=Ut,F.deflate=zt,F.deflateRaw=function(e,t){return(t=t||{}).raw=!0,zt(e,t)},F.gzip=function(e,t){return(t=t||{}).gzip=!0,zt(e,t)},F.constants=ue;var Ft={},Rt={},Et=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Tt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),St=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),It=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Zt=le,Dt=he,Ct=function(e,t){var r,n,a,i,o,s,l,f,h,d,u,c,_,v,p,b,w,g,m,y,k,x,A,U,z=e.state;r=e.next_in,A=e.input,n=r+(e.avail_in-5),a=e.next_out,U=e.output,i=a-(t-e.avail_out),o=a+(e.avail_out-257),s=z.dmax,l=z.wsize,f=z.whave,h=z.wnext,d=z.window,u=z.hold,c=z.bits,_=z.lencode,v=z.distcode,p=(1<<z.lenbits)-1,b=(1<<z.distbits)-1;e:do{c<15&&(u+=A[r++]<<c,c+=8,u+=A[r++]<<c,c+=8),w=_[u&p];t:for(;;){if(u>>>=g=w>>>24,c-=g,0===(g=w>>>16&255))U[a++]=65535&w;else{if(!(16&g)){if(0==(64&g)){w=_[(65535&w)+(u&(1<<g)-1)];continue t}if(32&g){z.mode=12;break e}e.msg="invalid literal/length code",z.mode=30;break e}m=65535&w,(g&=15)&&(c<g&&(u+=A[r++]<<c,c+=8),m+=u&(1<<g)-1,u>>>=g,c-=g),c<15&&(u+=A[r++]<<c,c+=8,u+=A[r++]<<c,c+=8),w=v[u&b];r:for(;;){if(u>>>=g=w>>>24,c-=g,!(16&(g=w>>>16&255))){if(0==(64&g)){w=v[(65535&w)+(u&(1<<g)-1)];continue r}e.msg="invalid distance code",z.mode=30;break e}if(y=65535&w,c<(g&=15)&&(u+=A[r++]<<c,(c+=8)<g&&(u+=A[r++]<<c,c+=8)),(y+=u&(1<<g)-1)>s){e.msg="invalid distance too far back",z.mode=30;break e}if(u>>>=g,c-=g,y>(g=a-i)){if((g=y-g)>f&&z.sane){e.msg="invalid distance too far back",z.mode=30;break e}if(k=0,x=d,0===h){if(k+=l-g,g<m){m-=g;do{U[a++]=d[k++]}while(--g);k=a-y,x=U}}else if(h<g){if(k+=l+h-g,(g-=h)<m){m-=g;do{U[a++]=d[k++]}while(--g);if(k=0,h<m){m-=g=h;do{U[a++]=d[k++]}while(--g);k=a-y,x=U}}}else if(k+=h-g,g<m){m-=g;do{U[a++]=d[k++]}while(--g);k=a-y,x=U}for(;m>2;)U[a++]=x[k++],U[a++]=x[k++],U[a++]=x[k++],m-=3;m&&(U[a++]=x[k++],m>1&&(U[a++]=x[k++]))}else{k=a-y;do{U[a++]=U[k++],U[a++]=U[k++],U[a++]=U[k++],m-=3}while(m>2);m&&(U[a++]=U[k++],m>1&&(U[a++]=U[k++]))}break}}break}}while(r<n&&a<o);r-=m=c>>3,u&=(1<<(c-=m<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=a<o?o-a+257:257-(a-o),z.hold=u,z.bits=c},Mt=function(e,t,r,n,a,i,o,s){var l,f,h,d,u,c,_,v,p,b=s.bits,w=0,g=0,m=0,y=0,k=0,x=0,A=0,U=0,z=0,F=0,R=null,E=0,T=new Uint16Array(16),S=new Uint16Array(16),I=null,Z=0;for(w=0;w<=15;w++)T[w]=0;for(g=0;g<n;g++)T[t[r+g]]++;for(k=b,y=15;y>=1&&0===T[y];y--);if(k>y&&(k=y),0===y)return a[i++]=20971520,a[i++]=20971520,s.bits=1,0;for(m=1;m<y&&0===T[m];m++);for(k<m&&(k=m),U=1,w=1;w<=15;w++)if(U<<=1,(U-=T[w])<0)return-1;if(U>0&&(0===e||1!==y))return-1;for(S[1]=0,w=1;w<15;w++)S[w+1]=S[w]+T[w];for(g=0;g<n;g++)0!==t[r+g]&&(o[S[t[r+g]]++]=g);if(0===e?(R=I=o,c=19):1===e?(R=Et,E-=257,I=Tt,Z-=257,c=256):(R=St,I=It,c=-1),F=0,g=0,w=m,u=i,x=k,A=0,h=-1,d=(z=1<<k)-1,1===e&&z>852||2===e&&z>592)return 1;for(;;){_=w-A,o[g]<c?(v=0,p=o[g]):o[g]>c?(v=I[Z+o[g]],p=R[E+o[g]]):(v=96,p=0),l=1<<w-A,m=f=1<<x;do{a[u+(F>>A)+(f-=l)]=_<<24|v<<16|p|0}while(0!==f);for(l=1<<w-1;F&l;)l>>=1;if(0!==l?(F&=l-1,F+=l):F=0,g++,0==--T[w]){if(w===y)break;w=t[r+o[g]]}if(w>k&&(F&d)!==h){for(0===A&&(A=k),u+=m,U=1<<(x=w-A);x+A<y&&!((U-=T[x+A])<=0);)x++,U<<=1;if(z+=1<<x,1===e&&z>852||2===e&&z>592)return 1;a[h=F&d]=k<<24|x<<16|u-i|0}}return 0!==F&&(a[u+F]=w-A<<24|64<<16|0),s.bits=k,0},Lt=ue.Z_FINISH,Ht=ue.Z_BLOCK,Nt=ue.Z_TREES,jt=ue.Z_OK,Bt=ue.Z_STREAM_END,Ot=ue.Z_NEED_DICT,qt=ue.Z_STREAM_ERROR,Pt=ue.Z_DATA_ERROR,Gt=ue.Z_MEM_ERROR,Kt=ue.Z_BUF_ERROR,Yt=ue.Z_DEFLATED,Xt=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function Qt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Vt,Wt,$t=function(e){if(!e||!e.state)return qt;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,jt},Jt=function(e){if(!e||!e.state)return qt;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,$t(e)},er=function(e,t){var r;if(!e||!e.state)return qt;var n=e.state;return t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?qt:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Jt(e))},tr=function(e,t){if(!e)return qt;var r=new Qt;e.state=r,r.window=null;var n=er(e,t);return n!==jt&&(e.state=null),n},rr=!0,nr=function(e){if(rr){Vt=new Int32Array(512),Wt=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Mt(1,e.lens,0,288,Vt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Mt(2,e.lens,0,32,Wt,0,e.work,{bits:5}),rr=!1}e.lencode=Vt,e.lenbits=9,e.distcode=Wt,e.distbits=5},ar=function(e,t,r,n){var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):((a=i.wsize-i.wnext)>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),(n-=a)?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0};Rt.inflateReset=Jt,Rt.inflateReset2=er,Rt.inflateResetKeep=$t,Rt.inflateInit=function(e){return tr(e,15)},Rt.inflateInit2=tr,Rt.inflate=function(e,t){var r,n,a,i,o,s,l,f,h,d,u,c,_,v,p,b,w,g,y,k,x,A,U,z,F=0,R=new Uint8Array(4),E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return qt;12===(r=e.state).mode&&(r.mode=13),o=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,f=r.hold,h=r.bits,d=s,u=l,A=jt;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;h<16;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}if(2&r.wrap&&35615===f){r.check=0,R[0]=255&f,R[1]=f>>>8&255,r.check=Dt(r.check,R,2,0),f=0,h=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=30;break}if((15&f)!==Yt){e.msg="unknown compression method",r.mode=30;break}if(h-=4,x=8+(15&(f>>>=4)),0===r.wbits)r.wbits=x;else if(x>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&f?10:12,f=0,h=0;break;case 2:for(;h<16;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}if(r.flags=f,(255&m(r))!==Yt){e.msg="unknown compression method",r.mode=30;break}if(57344&m(r)){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=f>>8&1),512&m(r)&&(R[0]=255&f,R[1]=f>>>8&255,r.check=Dt(r.check,R,2,0)),f=0,h=0,r.mode=3;case 3:for(;h<32;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}r.head&&(r.head.time=f),512&m(r)&&(R[0]=255&f,R[1]=f>>>8&255,R[2]=f>>>16&255,R[3]=f>>>24&255,r.check=Dt(r.check,R,4,0)),f=0,h=0,r.mode=4;case 4:for(;h<16;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&m(r)&&(R[0]=255&f,R[1]=f>>>8&255,r.check=Dt(r.check,R,2,0)),f=0,h=0,r.mode=5;case 5:if(1024&m(r)){for(;h<16;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}r.length=f,r.head&&(r.head.extra_len=f),512&m(r)&&(R[0]=255&f,R[1]=f>>>8&255,r.check=Dt(r.check,R,2,0)),f=0,h=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&m(r)&&((c=r.length)>s&&(c=s),c&&(r.head&&(x=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+c),x)),512&m(r)&&(r.check=Dt(r.check,n,c,i)),s-=c,i+=c,r.length-=c),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&m(r)){if(0===s)break e;c=0;do{x=n[i+c++],r.head&&x&&r.length<65536&&(r.head.name+=String.fromCharCode(x))}while(x&&c<s);if(512&m(r)&&(r.check=Dt(r.check,n,c,i)),s-=c,i+=c,x)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&m(r)){if(0===s)break e;c=0;do{x=n[i+c++],r.head&&x&&r.length<65536&&(r.head.comment+=String.fromCharCode(x))}while(x&&c<s);if(512&m(r)&&(r.check=Dt(r.check,n,c,i)),s-=c,i+=c,x)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&m(r)){for(;h<16;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}if(f!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}f=0,h=0}r.head&&(r.head.hcrc=m(r)>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;h<32;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}e.adler=r.check=Xt(f),f=0,h=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,r.hold=f,r.bits=h,Ot;e.adler=r.check=1,r.mode=12;case 12:if(t===Ht||t===Nt)break e;case 13:if(r.last){f>>>=7&h,h-=7&h,r.mode=27;break}for(;h<3;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}switch(r.last=1&f,h-=1,3&(f>>>=1)){case 0:r.mode=14;break;case 1:if(nr(r),r.mode=20,t===Nt){f>>>=2,h-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}f>>>=2,h-=2;break;case 14:for(f>>>=7&h,h-=7&h;h<32;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}if((65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&f,f=0,h=0,r.mode=15,t===Nt)break e;case 15:r.mode=16;case 16:if(c=r.length){if(c>s&&(c=s),c>l&&(c=l),0===c)break e;a.set(n.subarray(i,i+c),o),s-=c,i+=c,l-=c,o+=c,r.length-=c;break}r.mode=12;break;case 17:for(;h<14;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}if(r.nlen=257+(31&f),f>>>=5,h-=5,r.ndist=1+(31&f),f>>>=5,h-=5,r.ncode=4+(15&f),f>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;h<3;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}r.lens[E[r.have++]]=7&f,f>>>=3,h-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,U={bits:r.lenbits},A=Mt(0,r.lens,0,19,r.lencode,0,r.work,U),r.lenbits=U.bits,A){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;b=(F=r.lencode[f&(1<<r.lenbits)-1])>>>16&255,w=65535&F,!((p=F>>>24)<=h);){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}if(w<16)f>>>=p,h-=p,r.lens[r.have++]=w;else{if(16===w){for(z=p+2;h<z;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}if(f>>>=p,h-=p,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}x=r.lens[r.have-1],c=3+(3&f),f>>>=2,h-=2}else if(17===w){for(z=p+3;h<z;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}h-=p,x=0,c=3+(7&(f>>>=p)),f>>>=3,h-=3}else{for(z=p+7;h<z;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}h-=p,x=0,c=11+(127&(f>>>=p)),f>>>=7,h-=7}if(r.have+c>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;c--;)r.lens[r.have++]=x}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,U={bits:r.lenbits},A=Mt(1,r.lens,0,r.nlen,r.lencode,0,r.work,U),r.lenbits=U.bits,A){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,U={bits:r.distbits},A=Mt(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U),r.distbits=U.bits,A){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,t===Nt)break e;case 20:r.mode=21;case 21:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,r.hold=f,r.bits=h,Ct(e,u),o=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,n=e.input,s=e.avail_in,f=r.hold,h=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;b=(F=r.lencode[f&(1<<r.lenbits)-1])>>>16&255,w=65535&F,!((p=F>>>24)<=h);){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}if(b&&0==(240&b)){for(g=p,y=b,k=w;b=(F=r.lencode[k+((f&(1<<g+y)-1)>>g)])>>>16&255,w=65535&F,!(g+(p=F>>>24)<=h);){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}f>>>=g,h-=g,r.back+=g}if(f>>>=p,h-=p,r.back+=p,r.length=w,0===b){r.mode=26;break}if(32&b){r.back=-1,r.mode=12;break}if(64&b){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&b,r.mode=22;case 22:if(r.extra){for(z=r.extra;h<z;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;b=(F=r.distcode[f&(1<<r.distbits)-1])>>>16&255,w=65535&F,!((p=F>>>24)<=h);){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}if(0==(240&b)){for(g=p,y=b,k=w;b=(F=r.distcode[k+((f&(1<<g+y)-1)>>g)])>>>16&255,w=65535&F,!(g+(p=F>>>24)<=h);){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}f>>>=g,h-=g,r.back+=g}if(f>>>=p,h-=p,r.back+=p,64&b){e.msg="invalid distance code",r.mode=30;break}r.offset=w,r.extra=15&b,r.mode=24;case 24:if(r.extra){for(z=r.extra;h<z;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===l)break e;if(c=u-l,r.offset>c){if((c=r.offset-c)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}c>r.wnext?(c-=r.wnext,_=r.wsize-c):_=r.wnext-c,c>r.length&&(c=r.length),v=r.window}else v=a,_=o-r.offset,c=r.length;c>l&&(c=l),l-=c,r.length-=c;do{a[o++]=v[_++]}while(--c);0===r.length&&(r.mode=21);break;case 26:if(0===l)break e;a[o++]=r.length,l--,r.mode=21;break;case 27:if(r.wrap){for(;h<32;){if(0===s)break e;s--,f|=n[i++]<<h,h+=8}if(u-=l,e.total_out+=u,r.total+=u,u&&(e.adler=r.check=m(r)?Dt(r.check,a,u,o-u):Zt(r.check,a,u,o-u)),u=l,(m(r)?f:Xt(f))!==r.check){e.msg="incorrect data check",r.mode=30;break}f=0,h=0}r.mode=28;case 28:if(r.wrap&&m(r)){for(;h<32;){if(0===s)break e;s--,f+=n[i++]<<h,h+=8}if(f!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}f=0,h=0}r.mode=29;case 29:A=Bt;break e;case 30:A=Pt;break e;case 31:return Gt;default:return qt}return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=s,r.hold=f,r.bits=h,(r.wsize||u!==e.avail_out&&r.mode<30&&(r.mode<27||t!==Lt))&&ar(e,e.output,e.next_out,u-e.avail_out),d-=e.avail_in,u-=e.avail_out,e.total_in+=d,e.total_out+=u,r.total+=u,r.wrap&&u&&(e.adler=r.check=m(r)?Dt(r.check,a,u,e.next_out-u):Zt(r.check,a,u,e.next_out-u)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===d&&0===u||t===Lt)&&A===jt&&(A=Kt),A},Rt.inflateEnd=function(e){if(!e||!e.state)return qt;var t=e.state;return t.window&&(t.window=null),e.state=null,jt},Rt.inflateGetHeader=function(e,t){if(!e||!e.state)return qt;var r=e.state;return 0==(2&r.wrap)?qt:(r.head=t,t.done=!1,jt)},Rt.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?qt:11===r.mode&&Zt(1,t,n,0)!==r.check?Pt:ar(e,t,n,n)?(r.mode=31,Gt):(r.havedict=1,jt):qt},Rt.inflateInfo="pako inflate (from Nodeca project)";var ir=Rt,or=nt,sr=it,lr=de,fr=ft,hr=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},dr=Object.prototype.toString,ur=ue.Z_NO_FLUSH,cr=ue.Z_FINISH,_r=ue.Z_OK,vr=ue.Z_STREAM_END,pr=ue.Z_NEED_DICT,br=ue.Z_STREAM_ERROR,wr=ue.Z_DATA_ERROR,gr=ue.Z_MEM_ERROR;function mr(e){this.options=or.assign({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fr,this.strm.avail_out=0;var r=ir.inflateInit2(this.strm,t.windowBits);if(r!==_r)throw new Error(lr[r]);if(this.header=new hr,ir.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=sr.string2buf(t.dictionary):"[object ArrayBuffer]"===dr.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=ir.inflateSetDictionary(this.strm,t.dictionary))!==_r))throw new Error(lr[r])}function yr(e,t){var r=new mr(t);if(r.push(e),r.err)throw r.msg||lr[r.err];return r.result}mr.prototype.push=function(e,t){var r,n,a,i=this.strm,o=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?cr:ur,"[object ArrayBuffer]"===dr.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(o),i.next_out=0,i.avail_out=o),(r=ir.inflate(i,n))===pr&&s&&((r=ir.inflateSetDictionary(i,s))===_r?r=ir.inflate(i,n):r===wr&&(r=pr));i.avail_in>0&&r===vr&&i.state.wrap>0&&0!==e[i.next_in];)ir.inflateReset(i),r=ir.inflate(i,n);switch(r){case br:case wr:case pr:case gr:return this.onEnd(r),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||r===vr))if("string"===this.options.to){var l=sr.utf8border(i.output,i.next_out),f=i.next_out-l,h=sr.buf2string(i.output,l);i.next_out=f,i.avail_out=o-f,f&&i.output.set(i.output.subarray(l,l+f),0),this.onData(h)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(r!==_r||0!==a){if(r===vr)return r=ir.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},mr.prototype.onData=function(e){this.chunks.push(e)},mr.prototype.onEnd=function(e){e===_r&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=or.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},Ft.Inflate=mr,Ft.inflate=yr,Ft.inflateRaw=function(e,t){return(t=t||{}).raw=!0,yr(e,t)},Ft.ungzip=yr,Ft.constants=ue;var kr=F.Deflate,xr=F.deflate,Ar=F.deflateRaw,Ur=F.gzip,zr=Ft.Inflate,Fr=Ft.inflate,Rr=Ft.inflateRaw,Er=Ft.ungzip,Tr=ue;z.Deflate=kr,z.deflate=xr,z.deflateRaw=Ar,z.gzip=Ur,z.Inflate=zr,z.inflate=Fr,z.inflateRaw=Rr,z.ungzip=Er,z.constants=Tr;var Sr,Ir,Zr,Dr={};Dr.toRGBA8=function(e){var t=e.width,r=e.height;if(null==e.tabs.acTL)return[Dr.toRGBA8.decodeImage(e.data,t,r,e).buffer];var n=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var a=t*r*4,i=new Uint8Array(a),o=new Uint8Array(a),s=new Uint8Array(a),l=0;l<e.frames.length;l++){var f,h=e.frames[l],d=h.rect.x,u=h.rect.y,c=h.rect.width,_=h.rect.height,v=Dr.toRGBA8.decodeImage(h.data,c,_,e);if(0!=l)for(var p=0;p<a;p++)s[p]=i[p];if(0==h.blend?Dr._copyTile(v,c,_,i,t,r,d,u,0):1==h.blend&&Dr._copyTile(v,c,_,i,t,r,d,u,1),n.push(b(f=i.buffer).call(f,0)),0==h.dispose);else if(1==h.dispose)Dr._copyTile(o,c,_,i,t,r,d,u,0);else if(2==h.dispose)for(p=0;p<a;p++)i[p]=s[p]}return n},Dr.toRGBA8.decodeImage=function(e,t,r,n){var a=t*r,i=Dr.decode._getBPP(n),o=Math.ceil(t*i/8),s=new Uint8Array(4*a),l=new Uint32Array(s.buffer),f=n.ctype,h=n.depth,d=Dr._bin.readUshort;if(6==f){var u=a<<2;if(8==h)for(var c=0;c<u;c+=4)s[c]=e[c],s[c+1]=e[c+1],s[c+2]=e[c+2],s[c+3]=e[c+3];if(16==h)for(c=0;c<u;c++)s[c]=e[c<<1]}else if(2==f){var _=n.tabs.tRNS;if(null==_){if(8==h)for(c=0;c<a;c++){var v=3*c;l[c]=255<<24|e[v+2]<<16|e[v+1]<<8|e[v]}if(16==h)for(c=0;c<a;c++){v=6*c;l[c]=255<<24|e[v+4]<<16|e[v+2]<<8|e[v]}}else{var p=_[0],b=_[1],w=_[2];if(8==h)for(c=0;c<a;c++){var g=c<<2;v=3*c;l[c]=255<<24|e[v+2]<<16|e[v+1]<<8|e[v],e[v]==p&&e[v+1]==b&&e[v+2]==w&&(s[g+3]=0)}if(16==h)for(c=0;c<a;c++){g=c<<2,v=6*c;l[c]=255<<24|e[v+4]<<16|e[v+2]<<8|e[v],d(e,v)==p&&d(e,v+2)==b&&d(e,v+4)==w&&(s[g+3]=0)}}}else if(3==f){var m=n.tabs.PLTE,y=n.tabs.tRNS,k=y?y.length:0;if(1==h)for(var x=0;x<r;x++){var A=x*o,U=x*t;for(c=0;c<t;c++){g=U+c<<2;var z=3*(F=e[A+(c>>3)]>>7-((7&c)<<0)&1);s[g]=m[z],s[g+1]=m[z+1],s[g+2]=m[z+2],s[g+3]=F<k?y[F]:255}}if(2==h)for(x=0;x<r;x++)for(A=x*o,U=x*t,c=0;c<t;c++){g=U+c<<2,z=3*(F=e[A+(c>>2)]>>6-((3&c)<<1)&3);s[g]=m[z],s[g+1]=m[z+1],s[g+2]=m[z+2],s[g+3]=F<k?y[F]:255}if(4==h)for(x=0;x<r;x++)for(A=x*o,U=x*t,c=0;c<t;c++){g=U+c<<2,z=3*(F=e[A+(c>>1)]>>4-((1&c)<<2)&15);s[g]=m[z],s[g+1]=m[z+1],s[g+2]=m[z+2],s[g+3]=F<k?y[F]:255}if(8==h)for(c=0;c<a;c++){var F;g=c<<2,z=3*(F=e[c]);s[g]=m[z],s[g+1]=m[z+1],s[g+2]=m[z+2],s[g+3]=F<k?y[F]:255}}else if(4==f){if(8==h)for(c=0;c<a;c++){g=c<<2;var R=e[E=c<<1];s[g]=R,s[g+1]=R,s[g+2]=R,s[g+3]=e[E+1]}if(16==h)for(c=0;c<a;c++){var E;g=c<<2,R=e[E=c<<2];s[g]=R,s[g+1]=R,s[g+2]=R,s[g+3]=e[E+2]}}else if(0==f)for(p=n.tabs.tRNS?n.tabs.tRNS:-1,x=0;x<r;x++){var T=x*o,S=x*t;if(1==h)for(var I=0;I<t;I++){var Z=(R=255*(e[T+(I>>>3)]>>>7-(7&I)&1))==255*p?0:255;l[S+I]=Z<<24|R<<16|R<<8|R}else if(2==h)for(I=0;I<t;I++){Z=(R=85*(e[T+(I>>>2)]>>>6-((3&I)<<1)&3))==85*p?0:255;l[S+I]=Z<<24|R<<16|R<<8|R}else if(4==h)for(I=0;I<t;I++){Z=(R=17*(e[T+(I>>>1)]>>>4-((1&I)<<2)&15))==17*p?0:255;l[S+I]=Z<<24|R<<16|R<<8|R}else if(8==h)for(I=0;I<t;I++){Z=(R=e[T+I])==p?0:255;l[S+I]=Z<<24|R<<16|R<<8|R}else if(16==h)for(I=0;I<t;I++){R=e[T+(I<<1)],Z=d(e,T+(I<<c))==p?0:255;l[S+I]=Z<<24|R<<16|R<<8|R}}return s},Dr.decode=function(e){for(var t,r=new Uint8Array(e),n=8,a=Dr._bin,i=a.readUshort,o=a.readUint,s={tabs:{},frames:[]},l=new Uint8Array(r.length),f=0,h=0,d=[137,80,78,71,13,10,26,10],u=0;u<8;u++)if(r[u]!=d[u])throw"The input is not a PNG file!";for(;n<r.length;){var c=a.readUint(r,n);n+=4;var _=a.readASCII(r,n,4);if(n+=4,"IHDR"==_)Dr.decode._IHDR(r,n,s);else if("CgBI"==_)s.tabs[_]=b(r).call(r,n,n+4);else if("IDAT"==_){for(u=0;u<c;u++)l[f+u]=r[n+u];f+=c}else if("acTL"==_)s.tabs[_]={num_frames:o(r,n),num_plays:o(r,n+4)},t=new Uint8Array(r.length);else if("fcTL"==_){var v;if(0!=h)(v=s.frames[s.frames.length-1]).data=Dr.decode._decompress(s,b(t).call(t,0,h),v.rect.width,v.rect.height),h=0;var p={x:o(r,n+12),y:o(r,n+16),width:o(r,n+4),height:o(r,n+8)},w=i(r,n+22);w=i(r,n+20)/(0==w?100:w);var g={rect:p,delay:Math.round(1e3*w),dispose:r[n+24],blend:r[n+25]};s.frames.push(g)}else if("fdAT"==_){for(u=0;u<c-4;u++)t[h+u]=r[n+u+4];h+=c-4}else if("pHYs"==_)s.tabs[_]=[a.readUint(r,n),a.readUint(r,n+4),r[n+8]];else if("cHRM"==_){s.tabs[_]=[];for(u=0;u<8;u++)s.tabs[_].push(a.readUint(r,n+4*u))}else if("tEXt"==_||"zTXt"==_){null==s.tabs[_]&&(s.tabs[_]={});var m=a.nextZero(r,n),y=a.readASCII(r,n,m-n),k=n+c-m-1;if("tEXt"==_)z=a.readASCII(r,m+1,k);else{var x=Dr.decode._inflate(b(r).call(r,m+2,m+2+k));z=a.readUTF8(x,0,x.length)}s.tabs[_][y]=z}else if("iTXt"==_){null==s.tabs[_]&&(s.tabs[_]={});m=0;var A=n;m=a.nextZero(r,A);y=a.readASCII(r,A,m-A);var U=r[A=m+1];r[A+1],A+=2,m=a.nextZero(r,A),a.readASCII(r,A,m-A),A=m+1,m=a.nextZero(r,A),a.readUTF8(r,A,m-A);var z;k=c-((A=m+1)-n);if(0==U)z=a.readUTF8(r,A,k);else{x=Dr.decode._inflate(b(r).call(r,A,A+k));z=a.readUTF8(x,0,x.length)}s.tabs[_][y]=z}else if("PLTE"==_)s.tabs[_]=a.readBytes(r,n,c);else if("hIST"==_){var F=s.tabs.PLTE.length/3;s.tabs[_]=[];for(u=0;u<F;u++)s.tabs[_].push(i(r,n+2*u))}else if("tRNS"==_)3==s.ctype?s.tabs[_]=a.readBytes(r,n,c):0==s.ctype?s.tabs[_]=i(r,n):2==s.ctype&&(s.tabs[_]=[i(r,n),i(r,n+2),i(r,n+4)]);else if("gAMA"==_)s.tabs[_]=a.readUint(r,n)/1e5;else if("sRGB"==_)s.tabs[_]=r[n];else if("bKGD"==_)0==s.ctype||4==s.ctype?s.tabs[_]=[i(r,n)]:2==s.ctype||6==s.ctype?s.tabs[_]=[i(r,n),i(r,n+2),i(r,n+4)]:3==s.ctype&&(s.tabs[_]=r[n]);else if("IEND"==_)break;n+=c,a.readUint(r,n),n+=4}0!=h&&((v=s.frames[s.frames.length-1]).data=Dr.decode._decompress(s,b(t).call(t,0,h),v.rect.width,v.rect.height),h=0);return s.data=Dr.decode._decompress(s,l,s.width,s.height),delete s.compress,delete s.interlace,delete s.filter,s},Dr.decode._decompress=function(e,t,r,n){var a=Dr.decode._getBPP(e),i=Math.ceil(r*a/8),o=new Uint8Array((i+1+e.interlace)*n);return t=e.tabs.CgBI?Dr.inflateRaw(t,o):Dr.decode._inflate(t,o),0==e.interlace?t=Dr.decode._filterZero(t,e,0,r,n):1==e.interlace&&(t=Dr.decode._readInterlace(t,e)),t},Dr.decode._inflate=function(e,t){return Dr.inflateRaw(new Uint8Array(e.buffer,2,e.length-6),t)},Dr.inflateRaw=((Zr={}).H={},Zr.H.N=function(e,t){var r,n,a=Uint8Array,i=0,o=0,s=0,l=0,f=0,h=0,d=0,u=0,c=0;if(3==e[0]&&0==e[1])return t||new a(0);var _=Zr.H,v=_.b,p=_.e,w=_.R,g=_.n,m=_.A,y=_.Z,k=_.m,x=null==t;for(x&&(t=new a(e.length>>>2<<3));0==i;)if(i=v(e,c,1),o=v(e,c+1,2),c+=3,0!=o){if(x&&(t=Zr.H.W(t,u+(1<<17))),1==o&&(r=k.J,n=k.h,h=511,d=31),2==o){s=p(e,c,5)+257,l=p(e,c+5,5)+1,f=p(e,c+10,4)+4,c+=14;for(var A=1,U=0;U<38;U+=2)k.Q[U]=0,k.Q[U+1]=0;for(U=0;U<f;U++){var z=p(e,c+3*U,3);k.Q[1+(k.X[U]<<1)]=z,z>A&&(A=z)}c+=3*f,g(k.Q,A),m(k.Q,A,k.u),r=k.w,n=k.d,c=w(k.u,(1<<A)-1,s+l,e,c,k.v);var F=_.V(k.v,0,s,k.C);h=(1<<F)-1;var R=_.V(k.v,s,l,k.D);d=(1<<R)-1,g(k.C,F),m(k.C,F,r),g(k.D,R),m(k.D,R,n)}for(;;){var E=r[y(e,c)&h];c+=15&E;var T=E>>>4;if(T>>>8==0)t[u++]=T;else{if(256==T)break;var S=u+T-254;if(T>264){var I=k.q[T-257];S=u+(I>>>3)+p(e,c,7&I),c+=7&I}var Z=n[y(e,c)&d];c+=15&Z;var D=Z>>>4,C=k.c[D],M=(C>>>4)+v(e,c,15&C);for(c+=15&C;u<S;)t[u]=t[u++-M],t[u]=t[u++-M],t[u]=t[u++-M],t[u]=t[u++-M];u=S}}}else{0!=(7&c)&&(c+=8-(7&c));var L=4+(c>>>3),H=e[L-4]|e[L-3]<<8;x&&(t=Zr.H.W(t,u+H)),t.set(new a(e.buffer,e.byteOffset+L,H),u),c=L+H<<3,u+=H}return t.length==u?t:b(t).call(t,0,u)},Zr.H.W=function(e,t){var r=e.length;if(t<=r)return e;var n=new Uint8Array(r<<1);return n.set(e,0),n},Zr.H.R=function(e,t,r,n,a,i){for(var o=Zr.H.e,s=Zr.H.Z,l=0;l<r;){var f=e[s(n,a)&t];a+=15&f;var h=f>>>4;if(h<=15)i[l]=h,l++;else{var d=0,u=0;16==h?(u=3+o(n,a,2),a+=2,d=i[l-1]):17==h?(u=3+o(n,a,3),a+=3):18==h&&(u=11+o(n,a,7),a+=7);for(var c=l+u;l<c;)i[l]=d,l++}}return a},Zr.H.V=function(e,t,r,n){for(var a=0,i=0,o=n.length>>>1;i<r;){var s=e[i+t];n[i<<1]=0,n[1+(i<<1)]=s,s>a&&(a=s),i++}for(;i<o;)n[i<<1]=0,n[1+(i<<1)]=0,i++;return a},Zr.H.n=function(e,t){for(var r,n,a,i,o=Zr.H.m,s=e.length,l=o.j,f=0;f<=t;f++)l[f]=0;for(f=1;f<s;f+=2)l[e[f]]++;var h=o.K;for(r=0,l[0]=0,n=1;n<=t;n++)r=r+l[n-1]<<1,h[n]=r;for(a=0;a<s;a+=2)0!=(i=e[a+1])&&(e[a]=h[i],h[i]++)},Zr.H.A=function(e,t,r){for(var n=e.length,a=Zr.H.m.r,i=0;i<n;i+=2)if(0!=e[i+1])for(var o=i>>1,s=e[i+1],l=o<<4|s,f=t-s,h=e[i]<<f,d=h+(1<<f);h!=d;)r[a[h]>>>15-t]=l,h++},Zr.H.l=function(e,t){for(var r=Zr.H.m.r,n=15-t,a=0;a<e.length;a+=2){var i=e[a]<<t-e[a+1];e[a]=r[i]>>>n}},Zr.H.M=function(e,t,r){r<<=7&t;var n=t>>>3;e[n]|=r,e[n+1]|=r>>>8},Zr.H.I=function(e,t,r){r<<=7&t;var n=t>>>3;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},Zr.H.e=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<r)-1},Zr.H.b=function(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<r)-1},Zr.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},Zr.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},Zr.H.m=(Sr=Uint16Array,Ir=Uint32Array,{K:new Sr(16),j:new Sr(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new Sr(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new Ir(32),J:new Sr(512),_:[],h:new Sr(32),$:[],w:new Sr(32768),C:[],v:[],d:new Sr(32768),D:[],u:new Sr(512),Q:[],r:new Sr(32768),s:new Ir(286),Y:new Ir(30),a:new Ir(19),t:new Ir(15e3),k:new Sr(65536),g:new Sr(32768)}),function(){for(var e=Zr.H.m,t=0;t<32768;t++){var r=t;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,e.r[t]=(r>>>16|r<<16)>>>17}function n(e,t,r){for(;0!=t--;)e.push(0,r)}for(t=0;t<32;t++)e.q[t]=e.S[t]<<3|e.T[t],e.c[t]=e.p[t]<<4|e.z[t];n(e._,144,8),n(e._,112,9),n(e._,24,7),n(e._,8,8),Zr.H.n(e._,9),Zr.H.A(e._,9,e.J),Zr.H.l(e._,9),n(e.$,32,5),Zr.H.n(e.$,5),Zr.H.A(e.$,5,e.h),Zr.H.l(e.$,5),n(e.Q,19,0),n(e.C,286,0),n(e.D,30,0),n(e.v,320,0)}(),Zr.H.N),Dr.decode._readInterlace=function(e,t){for(var r=t.width,n=t.height,a=Dr.decode._getBPP(t),i=a>>3,o=Math.ceil(r*a/8),s=new Uint8Array(n*o),l=0,f=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],d=[8,8,8,4,4,2,2],u=[8,8,4,4,2,2,1],c=0;c<7;){for(var _=d[c],v=u[c],p=0,b=0,w=f[c];w<n;)w+=_,b++;for(var g=h[c];g<r;)g+=v,p++;var m=Math.ceil(p*a/8);Dr.decode._filterZero(e,t,l,p,b);for(var y=0,k=f[c];k<n;){for(var x=h[c],A=l+y*m<<3;x<r;){var U;if(1==a)U=(U=e[A>>3])>>7-(7&A)&1,s[k*o+(x>>3)]|=U<<7-((7&x)<<0);if(2==a)U=(U=e[A>>3])>>6-(7&A)&3,s[k*o+(x>>2)]|=U<<6-((3&x)<<1);if(4==a)U=(U=e[A>>3])>>4-(7&A)&15,s[k*o+(x>>1)]|=U<<4-((1&x)<<2);if(a>=8)for(var z=k*o+x*i,F=0;F<i;F++)s[z+F]=e[(A>>3)+F];A+=a,x+=v}y++,k+=_}p*b!=0&&(l+=b*(1+m)),c+=1}return s},Dr.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},Dr.decode._filterZero=function(e,t,r,n,a){var i=Dr.decode._getBPP(t),o=Math.ceil(n*i/8),s=Dr.decode._paeth;i=Math.ceil(i/8);var l=0,f=1,h=e[r],d=0;if(h>1&&(e[r]=[0,0,1][h-2]),3==h)for(d=i;d<o;d++)e[d+1]=e[d+1]+(e[d+1-i]>>>1)&255;for(var u=0;u<a;u++)if(d=0,0==(h=e[(f=(l=r+u*o)+u+1)-1]))for(;d<o;d++)e[l+d]=e[f+d];else if(1==h){for(;d<i;d++)e[l+d]=e[f+d];for(;d<o;d++)e[l+d]=e[f+d]+e[l+d-i]}else if(2==h)for(;d<o;d++)e[l+d]=e[f+d]+e[l+d-o];else if(3==h){for(;d<i;d++)e[l+d]=e[f+d]+(e[l+d-o]>>>1);for(;d<o;d++)e[l+d]=e[f+d]+(e[l+d-o]+e[l+d-i]>>>1)}else{for(;d<i;d++)e[l+d]=e[f+d]+s(0,e[l+d-o],0);for(;d<o;d++)e[l+d]=e[f+d]+s(e[l+d-i],e[l+d-o],e[l+d-i-o])}return e},Dr.decode._paeth=function(e,t,r){var n=e+t-r,a=n-e,i=n-t,o=n-r;return a*a<=i*i&&a*a<=o*o?e:i*i<=o*o?t:r},Dr.decode._IHDR=function(e,t,r){var n=Dr._bin;r.width=n.readUint(e,t),t+=4,r.height=n.readUint(e,t),t+=4,r.depth=e[t],t++,r.ctype=e[t],t++,r.compress=e[t],t++,r.filter=e[t],t++,r.interlace=e[t],t++},Dr._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,r){e[t]=r>>8&255,e[t+1]=255&r},readUint:function(e,t){return 16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},readASCII:function(e,t,r){for(var n="",a=0;a<r;a++)n+=String.fromCharCode(e[t+a]);return n},writeASCII:function(e,t,r){for(var n=0;n<r.length;n++)e[t+n]=r.charCodeAt(n)},readBytes:function(e,t,r){for(var n=[],a=0;a<r;a++)n.push(e[t+a]);return n},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,r){for(var n,a="",i=0;i<r;i++)a+="%"+Dr._bin.pad(e[t+i].toString(16));try{n=decodeURIComponent(a)}catch(n){return Dr._bin.readASCII(e,t,r)}return n}},Dr._copyTile=function(e,t,r,n,a,i,o,s,l){for(var f=Math.min(t,a),h=Math.min(r,i),d=0,u=0,c=0;c<h;c++)for(var _=0;_<f;_++)if(o>=0&&s>=0?(d=c*t+_<<2,u=(s+c)*a+o+_<<2):(d=(-s+c)*t-o+_<<2,u=c*a+_<<2),0==l)n[u]=e[d],n[u+1]=e[d+1],n[u+2]=e[d+2],n[u+3]=e[d+3];else if(1==l){var v=e[d+3]*(1/255),p=e[d]*v,b=e[d+1]*v,w=e[d+2]*v,g=n[u+3]*(1/255),m=n[u]*g,y=n[u+1]*g,k=n[u+2]*g,x=1-v,A=v+g*x,U=0==A?0:1/A;n[u+3]=255*A,n[u+0]=(p+m*x)*U,n[u+1]=(b+y*x)*U,n[u+2]=(w+k*x)*U}else if(2==l){v=e[d+3],p=e[d],b=e[d+1],w=e[d+2],g=n[u+3],m=n[u],y=n[u+1],k=n[u+2];v==g&&p==m&&b==y&&w==k?(n[u]=0,n[u+1]=0,n[u+2]=0,n[u+3]=0):(n[u]=p,n[u+1]=b,n[u+2]=w,n[u+3]=v)}else if(3==l){v=e[d+3],p=e[d],b=e[d+1],w=e[d+2],g=n[u+3],m=n[u],y=n[u+1],k=n[u+2];if(v==g&&p==m&&b==y&&w==k)continue;if(v<220&&g>20)return!1}return!0},Dr.encode=function(e,t,r,n,a,i,o){null==n&&(n=0),null==o&&(o=!1);var s=Dr.encode.compress(e,t,r,n,[!1,!1,!1,0,o]);return Dr.encode.compressPNG(s,-1),Dr.encode._main(s,t,r,a,i)},Dr.encodeLL=function(e,t,r,n,a,i,o,s){for(var l={ctype:0+(1==n?0:2)+(0==a?0:4),depth:i,frames:[]},f=(n+a)*i,h=f*t,d=0;d<e.length;d++)l.frames.push({rect:{x:0,y:0,width:t,height:r},img:new Uint8Array(e[d]),blend:0,dispose:1,bpp:Math.ceil(f/8),bpl:Math.ceil(h/8)});return Dr.encode.compressPNG(l,0,!0),Dr.encode._main(l,t,r,o,s)},Dr.encode._main=function(e,t,r,n,a){null==a&&(a={});var i=Dr.crc.crc,o=Dr._bin.writeUint,s=Dr._bin.writeUshort,l=Dr._bin.writeASCII,f=8,h=e.frames.length>1,d=!1,u=33+(h?20:0);if(null!=a.sRGB&&(u+=13),null!=a.pHYs&&(u+=21),3==e.ctype){for(var c=e.plte.length,_=0;_<c;_++)e.plte[_]>>>24!=255&&(d=!0);u+=8+3*c+4+(d?8+1*c+4:0)}for(var v=0;v<e.frames.length;v++){h&&(u+=38),u+=(A=e.frames[v]).cimg.length+12,0!=v&&(u+=4)}u+=12;var p=new Uint8Array(u),b=[137,80,78,71,13,10,26,10];for(_=0;_<8;_++)p[_]=b[_];if(o(p,f,13),l(p,f+=4,"IHDR"),o(p,f+=4,t),o(p,f+=4,r),p[f+=4]=e.depth,p[++f]=e.ctype,p[++f]=0,p[++f]=0,p[++f]=0,o(p,++f,i(p,f-17,17)),f+=4,null!=a.sRGB&&(o(p,f,1),l(p,f+=4,"sRGB"),p[f+=4]=a.sRGB,o(p,++f,i(p,f-5,5)),f+=4),null!=a.pHYs&&(o(p,f,9),l(p,f+=4,"pHYs"),o(p,f+=4,a.pHYs[0]),o(p,f+=4,a.pHYs[1]),p[f+=4]=a.pHYs[2],o(p,++f,i(p,f-13,13)),f+=4),h&&(o(p,f,8),l(p,f+=4,"acTL"),o(p,f+=4,e.frames.length),o(p,f+=4,null!=a.loop?a.loop:0),o(p,f+=4,i(p,f-12,12)),f+=4),3==e.ctype){o(p,f,3*(c=e.plte.length)),l(p,f+=4,"PLTE"),f+=4;for(_=0;_<c;_++){var w=3*_,g=e.plte[_],m=255&g,y=g>>>8&255,k=g>>>16&255;p[f+w+0]=m,p[f+w+1]=y,p[f+w+2]=k}if(o(p,f+=3*c,i(p,f-3*c-4,3*c+4)),f+=4,d){o(p,f,c),l(p,f+=4,"tRNS"),f+=4;for(_=0;_<c;_++)p[f+_]=e.plte[_]>>>24&255;o(p,f+=c,i(p,f-c-4,c+4)),f+=4}}var x=0;for(v=0;v<e.frames.length;v++){var A=e.frames[v];h&&(o(p,f,26),l(p,f+=4,"fcTL"),o(p,f+=4,x++),o(p,f+=4,A.rect.width),o(p,f+=4,A.rect.height),o(p,f+=4,A.rect.x),o(p,f+=4,A.rect.y),s(p,f+=4,n[v]),s(p,f+=2,1e3),p[f+=2]=A.dispose,p[++f]=A.blend,o(p,++f,i(p,f-30,30)),f+=4);var U=A.cimg;o(p,f,(c=U.length)+(0==v?0:4));var z=f+=4;l(p,f,0==v?"IDAT":"fdAT"),f+=4,0!=v&&(o(p,f,x++),f+=4),p.set(U,f),o(p,f+=c,i(p,z,f-z)),f+=4}return o(p,f,0),l(p,f+=4,"IEND"),o(p,f+=4,i(p,f-4,4)),f+=4,p.buffer},Dr.encode.compressPNG=function(e,t,r){for(var n=0;n<e.frames.length;n++){var a=e.frames[n];a.rect.width;var i=a.rect.height,o=new Uint8Array(i*a.bpl+i);a.cimg=Dr.encode._filterZero(a.img,i,a.bpp,a.bpl,o,t,r)}},Dr.encode.compress=function(e,t,r,n,a){for(var i=a[0],o=a[1],s=a[2],l=a[3],f=a[4],h=6,d=8,u=255,c=0;c<e.length;c++)for(var _=new Uint8Array(e[c]),v=_.length,p=0;p<v;p+=4)u&=_[p+3];var b=255!=u,w=Dr.encode.framize(e,t,r,i,o,s),g={},m=[],y=[];if(0!=n){var k=[];for(p=0;p<w.length;p++)k.push(w[p].img.buffer);var x=Dr.encode.concatRGBA(k),A=Dr.quantize(x,n);console.log(A);var U=0,z=new Uint8Array(A.abuf);for(p=0;p<w.length;p++){var F=(G=w[p].img).length;y.push(new Uint8Array(A.inds.buffer,U>>2,F>>2));for(c=0;c<F;c+=4)G[c]=z[U+c],G[c+1]=z[U+c+1],G[c+2]=z[U+c+2],G[c+3]=z[U+c+3];U+=F}for(p=0;p<A.plte.length;p++)m.push(A.plte[p].est.rgba)}else for(c=0;c<w.length;c++){var R=w[c],E=new Uint32Array(R.img.buffer),T=R.rect.width,S=(v=E.length,new Uint8Array(v));y.push(S);for(p=0;p<v;p++){var I=E[p];if(0!=p&&I==E[p-1])S[p]=S[p-1];else if(p>T&&I==E[p-T])S[p]=S[p-T];else{var Z=g[I];if(null==Z&&(g[I]=Z=m.length,m.push(I),m.length>=300))break;S[p]=Z}}}var D=m.length;D<=256&&0==f&&(d=D<=2?1:D<=4?2:D<=16?4:8,d=Math.max(d,l));for(c=0;c<w.length;c++){(R=w[c]).rect.x,R.rect.y;T=R.rect.width;var C=R.rect.height,M=R.img;new Uint32Array(M.buffer);var L=4*T,H=4;if(D<=256&&0==f){L=Math.ceil(d*T/8);for(var N=new Uint8Array(L*C),j=y[c],B=0;B<C;B++){p=B*L;var O=B*T;if(8==d)for(var q=0;q<T;q++)N[p+q]=j[O+q];else if(4==d)for(q=0;q<T;q++)N[p+(q>>1)]|=j[O+q]<<4-4*(1&q);else if(2==d)for(q=0;q<T;q++)N[p+(q>>2)]|=j[O+q]<<6-2*(3&q);else if(1==d)for(q=0;q<T;q++)N[p+(q>>3)]|=j[O+q]<<7-1*(7&q)}M=N,h=3,H=1}else if(0==b&&1==w.length){N=new Uint8Array(T*C*3);var P=T*C;for(p=0;p<P;p++){var G,K=4*p;N[G=3*p]=M[K],N[G+1]=M[K+1],N[G+2]=M[K+2]}M=N,h=2,H=3,L=3*T}R.img=M,R.bpl=L,R.bpp=H}return{ctype:h,depth:d,plte:m,frames:w}},Dr.encode.framize=function(e,t,r,n,a,i){for(var o=[],s=0;s<e.length;s++){var l,f=new Uint8Array(e[s]),h=new Uint32Array(f.buffer),d=0,u=0,c=t,_=r,v=n?1:0;if(0!=s){for(var p=i||n||1==s||0!=o[s-2].dispose?1:2,w=0,g=1e9,m=0;m<p;m++){for(var y=new Uint8Array(e[s-1-m]),k=new Uint32Array(e[s-1-m]),x=t,A=r,U=-1,z=-1,F=0;F<r;F++)for(var R=0;R<t;R++){h[C=F*t+R]!=k[C]&&(R<x&&(x=R),R>U&&(U=R),F<A&&(A=F),F>z&&(z=F))}-1==U&&(x=A=U=z=0),a&&(1==(1&x)&&x--,1==(1&A)&&A--);var E=(U-x+1)*(z-A+1);E<g&&(g=E,w=m,d=x,u=A,c=U-x+1,_=z-A+1)}y=new Uint8Array(e[s-1-w]);1==w&&(o[s-1].dispose=2),l=new Uint8Array(c*_*4),Dr._copyTile(y,t,r,l,c,_,-d,-u,0),1==(v=Dr._copyTile(f,t,r,l,c,_,-d,-u,3)?1:0)?Dr.encode._prepareDiff(f,t,r,l,{x:d,y:u,width:c,height:_}):Dr._copyTile(f,t,r,l,c,_,-d,-u,0)}else l=b(f).call(f,0);o.push({rect:{x:d,y:u,width:c,height:_},img:l,blend:v,dispose:0})}if(n)for(s=0;s<o.length;s++){if(1!=(M=o[s]).blend){var T=M.rect,S=o[s-1].rect,I=Math.min(T.x,S.x),Z=Math.min(T.y,S.y),D={x:I,y:Z,width:Math.max(T.x+T.width,S.x+S.width)-I,height:Math.max(T.y+T.height,S.y+S.height)-Z};o[s-1].dispose=1,s-1!=0&&Dr.encode._updateFrame(e,t,r,o,s-1,D,a),Dr.encode._updateFrame(e,t,r,o,s,D,a)}}if(1!=e.length)for(var C=0;C<o.length;C++){var M;(M=o[C]).rect.width*M.rect.height}return o},Dr.encode._updateFrame=function(e,t,r,n,a,i,o){for(var s=Uint8Array,l=Uint32Array,f=new s(e[a-1]),h=new l(e[a-1]),d=a+1<e.length?new s(e[a+1]):null,u=new s(e[a]),c=new l(u.buffer),_=t,v=r,p=-1,b=-1,w=0;w<i.height;w++)for(var g=0;g<i.width;g++){var m=i.x+g,y=i.y+w,k=y*t+m,x=c[k];0==x||0==n[a-1].dispose&&h[k]==x&&(null==d||0!=d[4*k+3])||(m<_&&(_=m),m>p&&(p=m),y<v&&(v=y),y>b&&(b=y))}-1==p&&(_=v=p=b=0),o&&(1==(1&_)&&_--,1==(1&v)&&v--),i={x:_,y:v,width:p-_+1,height:b-v+1};var A=n[a];A.rect=i,A.blend=1,A.img=new Uint8Array(i.width*i.height*4),0==n[a-1].dispose?(Dr._copyTile(f,t,r,A.img,i.width,i.height,-i.x,-i.y,0),Dr.encode._prepareDiff(u,t,r,A.img,i)):Dr._copyTile(u,t,r,A.img,i.width,i.height,-i.x,-i.y,0)},Dr.encode._prepareDiff=function(e,t,r,n,a){Dr._copyTile(e,t,r,n,a.width,a.height,-a.x,-a.y,2)},Dr.encode._filterZero=function(e,t,r,n,a,i,o){var s,l=[],f=[0,1,2,3,4];-1!=i?f=[i]:(t*n>5e5||1==r)&&(f=[0]),o&&(s={level:0});for(var h=a.length>1e7&&null!=U?U:z,d=0;d<f.length;d++){for(var u=0;u<t;u++)Dr.encode._filterLine(a,e,u,n,r,f[d]);l.push(h.deflate(a,s))}var c,_=1e9;for(d=0;d<l.length;d++)l[d].length<_&&(c=d,_=l[d].length);return l[c]},Dr.encode._filterLine=function(e,t,r,n,a,i){var o=r*n,s=o+r,l=Dr.decode._paeth;if(e[s]=i,s++,0==i)if(n<500)for(var f=0;f<n;f++)e[s+f]=t[o+f];else e.set(new Uint8Array(t.buffer,o,n),s);else if(1==i){for(f=0;f<a;f++)e[s+f]=t[o+f];for(f=a;f<n;f++)e[s+f]=t[o+f]-t[o+f-a]+256&255}else if(0==r){for(f=0;f<a;f++)e[s+f]=t[o+f];if(2==i)for(f=a;f<n;f++)e[s+f]=t[o+f];if(3==i)for(f=a;f<n;f++)e[s+f]=t[o+f]-(t[o+f-a]>>1)+256&255;if(4==i)for(f=a;f<n;f++)e[s+f]=t[o+f]-l(t[o+f-a],0,0)+256&255}else{if(2==i)for(f=0;f<n;f++)e[s+f]=t[o+f]+256-t[o+f-n]&255;if(3==i){for(f=0;f<a;f++)e[s+f]=t[o+f]+256-(t[o+f-n]>>1)&255;for(f=a;f<n;f++)e[s+f]=t[o+f]+256-(t[o+f-n]+t[o+f-a]>>1)&255}if(4==i){for(f=0;f<a;f++)e[s+f]=t[o+f]+256-l(0,t[o+f-n],0)&255;for(f=a;f<n;f++)e[s+f]=t[o+f]+256-l(t[o+f-a],t[o+f-n],t[o+f-a-n])&255}}},Dr.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(e,t,r,n){for(var a=0;a<n;a++)e=Dr.crc.table[255&(e^t[r+a])]^e>>>8;return e},crc:function(e,t,r){return 4294967295^Dr.crc.update(4294967295,e,t,r)}},Dr.quantize=function(e,t){var r,n=new Uint8Array(e),a=b(n).call(n,0),i=new Uint32Array(a.buffer),o=Dr.quantize.getKDtree(a,t),s=o[0],l=o[1],f=Dr.quantize.planeDst,h=n,d=i,u=h.length,c=new Uint8Array(n.length>>2);if(n.length<2e7)for(var _=0;_<u;_+=4){var v=h[_]*(1/255),p=h[_+1]*(1/255),w=h[_+2]*(1/255),g=h[_+3]*(1/255);r=Dr.quantize.getNearest(s,v,p,w,g),c[_>>2]=r.ind,d[_>>2]=r.est.rgba}else for(_=0;_<u;_+=4){v=h[_]*(1/255),p=h[_+1]*(1/255),w=h[_+2]*(1/255),g=h[_+3]*(1/255);for(r=s;r.left;)r=f(r.est,v,p,w,g)<=0?r.left:r.right;c[_>>2]=r.ind,d[_>>2]=r.est.rgba}return{abuf:a.buffer,inds:c,plte:l}},Dr.quantize.getKDtree=function(e,t,r){null==r&&(r=1e-4);var n=new Uint32Array(e.buffer),a={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};a.bst=Dr.quantize.stats(e,a.i0,a.i1),a.est=Dr.quantize.estats(a.bst);for(var i=[a];i.length<t;){for(var o=0,s=0,l=0;l<i.length;l++)i[l].est.L>o&&(o=i[l].est.L,s=l);if(o<r)break;var f=i[s],h=Dr.quantize.splitPixels(e,n,f.i0,f.i1,f.est.e,f.est.eMq255);if(f.i0>=h||f.i1<=h)f.est.L=0;else{var d={i0:f.i0,i1:h,bst:null,est:null,tdst:0,left:null,right:null};d.bst=Dr.quantize.stats(e,d.i0,d.i1),d.est=Dr.quantize.estats(d.bst);var u={i0:h,i1:f.i1,bst:null,est:null,tdst:0,left:null,right:null};u.bst={R:[],m:[],N:f.bst.N-d.bst.N};for(l=0;l<16;l++)u.bst.R[l]=f.bst.R[l]-d.bst.R[l];for(l=0;l<4;l++)u.bst.m[l]=f.bst.m[l]-d.bst.m[l];u.est=Dr.quantize.estats(u.bst),f.left=d,f.right=u,i[s]=d,i.push(u)}}g(i).call(i,(function(e,t){return t.bst.N-e.bst.N}));for(l=0;l<i.length;l++)i[l].ind=l;return[a,i]},Dr.quantize.getNearest=function(e,t,r,n,a){if(null==e.left)return e.tdst=Dr.quantize.dist(e.est.q,t,r,n,a),e;var i=Dr.quantize.planeDst(e.est,t,r,n,a),o=e.left,s=e.right;i>0&&(o=e.right,s=e.left);var l=Dr.quantize.getNearest(o,t,r,n,a);if(l.tdst<=i*i)return l;var f=Dr.quantize.getNearest(s,t,r,n,a);return f.tdst<l.tdst?f:l},Dr.quantize.planeDst=function(e,t,r,n,a){var i=e.e;return i[0]*t+i[1]*r+i[2]*n+i[3]*a-e.eMq},Dr.quantize.dist=function(e,t,r,n,a){var i=t-e[0],o=r-e[1],s=n-e[2],l=a-e[3];return i*i+o*o+s*s+l*l},Dr.quantize.splitPixels=function(e,t,r,n,a,i){var o=Dr.quantize.vecDot;for(n-=4;r<n;){for(;o(e,r,a)<=i;)r+=4;for(;o(e,n,a)>i;)n-=4;if(r>=n)break;var s=t[r>>2];t[r>>2]=t[n>>2],t[n>>2]=s,r+=4,n-=4}for(;o(e,r,a)>i;)r-=4;return r+4},Dr.quantize.vecDot=function(e,t,r){return e[t]*r[0]+e[t+1]*r[1]+e[t+2]*r[2]+e[t+3]*r[3]},Dr.quantize.stats=function(e,t,r){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0],i=r-t>>2,o=t;o<r;o+=4){var s=e[o]*(1/255),l=e[o+1]*(1/255),f=e[o+2]*(1/255),h=e[o+3]*(1/255);a[0]+=s,a[1]+=l,a[2]+=f,a[3]+=h,n[0]+=s*s,n[1]+=s*l,n[2]+=s*f,n[3]+=s*h,n[5]+=l*l,n[6]+=l*f,n[7]+=l*h,n[10]+=f*f,n[11]+=f*h,n[15]+=h*h}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:a,N:i}},Dr.quantize.estats=function(e){var t=e.R,r=e.m,n=e.N,a=r[0],i=r[1],o=r[2],s=r[3],l=0==n?0:1/n,f=[t[0]-a*a*l,t[1]-a*i*l,t[2]-a*o*l,t[3]-a*s*l,t[4]-i*a*l,t[5]-i*i*l,t[6]-i*o*l,t[7]-i*s*l,t[8]-o*a*l,t[9]-o*i*l,t[10]-o*o*l,t[11]-o*s*l,t[12]-s*a*l,t[13]-s*i*l,t[14]-s*o*l,t[15]-s*s*l],h=f,d=Dr.M4,u=[Math.random(),Math.random(),Math.random(),Math.random()],c=0,_=0;if(0!=n)for(var v=0;v<16&&(u=d.multVec(h,u),_=Math.sqrt(d.dot(u,u)),u=d.sml(1/_,u),!(0!=v&&Math.abs(_-c)<1e-9));v++)c=_;var p=[a*l,i*l,o*l,s*l];return{Cov:f,q:p,e:u,L:c,eMq255:d.dot(d.sml(255,p),u),eMq:d.dot(u,p),rgba:(Math.round(255*p[3])<<24|Math.round(255*p[2])<<16|Math.round(255*p[1])<<8|Math.round(255*p[0])<<0)>>>0}},Dr.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},Dr.encode.concatRGBA=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].byteLength;var n=new Uint8Array(t),a=0;for(r=0;r<e.length;r++){for(var i=new Uint8Array(e[r]),o=i.length,s=0;s<o;s+=4){var l=i[s],f=i[s+1],h=i[s+2],d=i[s+3];0==d&&(l=f=h=0),n[a+s]=l,n[a+s+1]=f,n[a+s+2]=h,n[a+s+3]=d}a+=o}return n.buffer};var Cr=function(){function e(t,r){f(this,e),d(this,"file",null),d(this,"options",{quality:80,success:function(){},error:function(){}}),this.initParams(t,r),this.shrinkImage()}var t;return h(e,[{key:"initParams",value:function(e,t){this.file=e,this.options=v(v({},this.options),t)}},{key:"shrinkImage",value:(t=l(c.mark((function e(){var t,r,n,a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.file,e.prev=1,e.next=4,x(t);case 4:return n=e.sent,e.next=7,this.getImageData(n,t);case 7:a=e.sent,this.options.success(a),console.log(y(r="compress image size from ".concat(t.size/1024,"kb to ")).call(r,a.size/1024,"kb")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.options.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])}))),function(){return t.apply(this,arguments)})},{key:"getImageData",value:function(e,t){var r=this;return new p((function(n,a){var i=new Image;i.onload=function(){var e,o=document.createElement("canvas");i.height>2e4&&(i.width*=2e4/i.height,i.height=2e4);var s=o.getContext("2d");if(!s)return t;if(s.clearRect(0,0,o.width,o.height),o.width=i.width,o.height=i.height,s.drawImage(i,0,0,i.width,i.height),k(e=["image/jpeg","image/jpg"]).call(e,t.type))o.toBlob((function(e){e?n(new File([e],t.name,{type:t.type})):a("compress error")}),t.type,r.options.quality/100);else{var l=s.getImageData(0,0,i.width,i.height).data,f=Dr.encode([l.buffer],i.width,i.height,r.getCompressBit());n(new File([f],t.name,{type:t.type}))}},i.src=e}))}},{key:"getCompressBit",value:function(){var e=this.options.quality;return e>100||e<0?0:e?256*e*.01:0}}]),e}();function Mr(e){return Lr.apply(this,arguments)}function Lr(){return Lr=l(c.mark((function e(t){var r,n,a=arguments;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{quality:80},n=r.quality,e.abrupt("return",new p((function(e,r){t||r(new Error("file can not be empty")),new Cr(t,{quality:n,success:function(t){e(t)},error:function(e){r(e)}})})));case 2:case"end":return e.stop()}}),e)}))),Lr.apply(this,arguments)}export{Mr as shrinkImage};
